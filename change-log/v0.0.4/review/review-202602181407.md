# PR Review Summary — 2026/02/18 14:07

**対象**: `myT-x/` 配下の全変更ファイル (52ファイル)
**レビュー方式**: 6エージェント並列レビュー (code-reviewer × 3, frontend-reviewer, test-analyzer, silent-failure-hunter)

---

## カテゴリ別ファイル分類

| カテゴリ | ファイル数 | 対象 |
|---------|----------|------|
| Go App Layer | 6+6 | app_events, app_pane_api, app_session_api, app_snapshot_delta, app_snapshot_metrics, app_status (+テスト) |
| Go internal/tmux | 21 | command_router*, format*, key_table*, session_manager* |
| Go tmux-shim | 5 | command_transform, model_transform, parse, spec, main_test |
| Frontend (React/TS) | 13 | App.tsx, api.ts, components/*, hooks/*, stores/*, types/*, styles/* |
| Wails生成 | 3 | App.d.ts, App.js, models.ts |

---

## Critical Issues (6件) — マージ前に修正必須

### C-1: [tmux] `ResolveTarget` が返す内部ポインタのロック外使用 (TOCTOU)
- **ファイル**: `internal/tmux/session_manager_targets.go`, `command_router_handlers_pane.go`
- **説明**: `ResolveTarget` はロック内で `*TmuxPane` の内部ポインタを直接返す。このポインタはロック解放後もハンドラ内で使われ続ける（`target.ID`, `target.Terminal` へのアクセス等）。`handleSendKeys` で `target.Terminal.Write()` を呼ぶ際、別ゴルーチンが `KillPane` でターミナルを `nil` に設定すると nil pointer dereference のリスクがある。`Terminal == nil` チェックはあるが、チェックと Write の間に割り込まれる TOCTOU 問題。
- **影響**: panic によるクラッシュ（低確率だが高影響）

### C-2: [tmux] `ListPanesByWindowTarget` が内部ポインタを直接返す
- **ファイル**: `internal/tmux/session_manager_pane_io.go`
- **説明**: Write lock 内で `[]*TmuxPane` を構築して返すが、返されるのは内部 pane 構造体への直接ポインタ。ロック解放後に呼び出し側がこれらのポインタ経由でフィールドを読む際、別ゴルーチンが panes を変更する可能性がある。`resolveDirectionalPane` でもこのメソッドを使い、返されたポインタリストを操作している。
- **影響**: race condition（低確率だが高影響）

### C-3: [frontend] `useBackendSync` 初期化時のレースコンディション
- **ファイル**: `frontend/src/hooks/useBackendSync.ts`
- **説明**: `GetConfigAndFlushWarnings`, `ListSessions`, `GetActiveSession` を同時に非同期呼び出し。`ListSessions` の `.then` でも `GetActiveSession` の `.then` でも `setActiveSession` を呼んでいる。どちらが先に解決するかは不定であり、`GetActiveSession` が先に返り `ListSessions` が後に返った場合、`ListSessions` の結果で activeSession が上書きされる。
- **影響**: 起動時にユーザーの意図しないセッションがアクティブになる

### C-4: [frontend] `TerminalPane` の `memo` 比較関数がコールバック props の変更を無視
- **ファイル**: `frontend/src/components/TerminalPane.tsx`, `areTerminalPanePropsEqual` 関数
- **説明**: `paneId`, `active`, `paneTitle` のみ比較。`onFocus`, `onSplitVertical` 等のコールバック props は比較対象外。useEffect 内でコールバックをクロージャ経由でキャプチャしているため、コールバック参照が変わっても更新されない。現状は SessionView 側で `useCallback` により安定化されているが stale クロージャ潜在リスク。
- **影響**: 将来のリファクタで stale closure バグが顕在化

### C-5: [frontend] `TerminalPane` の `searchAddonRef.current` がクリーンアップ時に null 化
- **ファイル**: `frontend/src/components/TerminalPane.tsx`
- **説明**: `SearchBar` に `searchAddon={searchAddonRef.current}` を渡すが、レンダリング時点の ref 値をキャプチャ。useEffect クリーンアップで null 化。ペイン再マウント時に disposed な addon への操作でエラー発生の可能性。
- **影響**: 検索中のペイン再マウントでクラッシュ

### C-6: [test] `format_test.go` のカバレッジが著しく不足
- **ファイル**: `internal/tmux/format_test.go`
- **説明**: テストわずか4件で、フォーマット展開システムの複雑さに対してカバレッジが著しく不足。複数変数、未知変数、空文字列入力、エスケープシーケンスのテストが必要。tmux 互換性の根幹機能。
- **影響**: フォーマット展開バグが検出されないリスク

---

## Important Issues (23件) — 修正推奨

### I-1: [tmux] `handleNewWindow`/`handleNewSession` で `append(req.Args, "Enter")` が呼び出し元の配列を変更する可能性
- **ファイル**: `internal/tmux/command_router_handlers_window.go:158-168`, `command_router_handlers_session.go:64-75`
- **説明**: `splitWindowResolved` では防御コピーが正しく実装されているが、`handleNewSession`, `handleNewWindow` のパスでは `append(req.Args, "Enter")` を直接使用。余剰容量がある場合に元の配列を変更してしまう。
- **修正案**: `splitWindowResolved` と同様に `make` + `copy` パターンを適用

### I-2: [tmux] `ResolveTarget` が Write lock を使用しているが読み取り専用操作が主目的
- **ファイル**: `internal/tmux/session_manager_targets.go:10-15`
- **説明**: `activeWindowInSessionLocked` の自動修復のため `mu.Lock` を使用。全 target 解決操作が排他ロックを取るため、高頻度の `send-keys` で競合増大。RLock → 必要時のみ Lock 昇格パターンが望ましい。

### I-3: [tmux] `resolveDirectionalPane` 内の二重ロック取得で TOCTOU
- **ファイル**: `internal/tmux/command_router_handlers_display.go:37-82`
- **説明**: `ResolveTarget("")` と `ListPanesByWindowTarget()` の2回のロック取得間にペインが追加/削除される可能性。

### I-4: [tmux] `handleNewWindow` で attach 前に取得した pane ポインタの Terminal nil リスク
- **ファイル**: `internal/tmux/command_router_handlers_window.go:150-170`
- **説明**: `pane.Terminal == nil` チェックは入っているが、タイミング次第の問題。

### I-5: [tmux] `WriteToPanesInWindow` で最初以外のペインの Write エラーがログに残らない
- **ファイル**: `internal/tmux/session_manager_pane_io.go`
- **説明**: `firstErr` のみ返却。2番目以降のペインへの書き込みエラーがサイレントに消失。`slog.Warn` で後続エラーを記録すべき。

### I-6: [tmux] `emitLayoutChangedForSession` のレイアウトスナップショット取得失敗が Debug レベル
- **ファイル**: `internal/tmux/command_router_handlers_pane.go`
- **説明**: レイアウトイベント欠落はフロントエンド表示不整合を引き起こすため、`slog.Warn` が適切。

### I-7: [tmux-shim] `applyModelTransform` が config.Load() 失敗時にエラーを返す
- **ファイル**: `cmd/tmux-shim/model_transform.go`
- **説明**: shim 仕様（変換失敗時は原文をそのまま転送）に従うなら、エラーをログしつつ `(false, nil)` を返す方が適切。設定ファイルの一時的問題でコマンド全体が失敗しうる。

### I-8: [tmux-shim] `modelConfigCached`/`modelConfigLoaded` グローバル状態のテストリセットが欠如
- **ファイル**: `cmd/tmux-shim/model_transform.go`, `main_test.go`
- **説明**: グローバルキャッシュのリセット関数がない。将来デフォルト loader パスをテストする際にテスト間で状態がリーク。

### I-9: [tmux-shim] `model_transform.go` 内部関数のユニットテスト不足
- **ファイル**: `cmd/tmux-shim/model_transform.go`, `main_test.go`
- **説明**: `newModelTransformer`, `findOverrideModel`, `applyModelOverride`, `applyFromToReplacement`, `extractAgentName` の直接テストが存在しない。最も複雑なロジックを含む。

### I-10: [tmux-shim] `command_transform.go` の各変換関数の直接テスト欠如
- **ファイル**: `cmd/tmux-shim/command_transform.go`, `main_test.go`
- **説明**: `applyShellTransform`, `applySessionOrSplitTransform`, `applySendKeysTransform` の直接ユニットテストなし。

### I-11: [app] `app_snapshot_delta.go` の `copySnapshotCache` が shallow copy
- **ファイル**: `app_snapshot_delta.go`
- **説明**: `SessionSnapshot` 内のスライス（Windows）やポインタは共有。現状は `Snapshot()` が毎回独立コピーを返し `snapshotDeltaMu` がシリアライズしているため安全だが、コメントで前提を明記すべき。

### I-12: [app] `app_session_api.go` の `KillSession()` で冗長な変数宣言
- **ファイル**: `app_session_api.go:113-115`
- **説明**: `var worktreeInfo` を宣言した直後に `:=` で再代入。`var` 行は不要。

### I-13: [app] `app_events.go` の legacy map payload で型不一致時のログ欠如
- **ファイル**: `app_events.go:86-88`
- **説明**: `toBytes()` が予期しない型に `nil` を返し、サイレントにスキップ。legacy コードだが debug ログ追加推奨。

### I-14: [frontend] `TerminalPane` の巨大な useEffect が単一の依存配列
- **ファイル**: `frontend/src/components/TerminalPane.tsx`
- **説明**: Terminal 初期化、イベント登録、WebGL、リサイズ、IME 対応、スクロール追跡が全て1つの useEffect に集約。`eslint-disable-next-line react-hooks/exhaustive-deps` で検証が無効化。

### I-15: [frontend] `usePrefixKeyMode` の Ref 同期パターンの冗長性
- **ファイル**: `frontend/src/hooks/usePrefixKeyMode.ts:28-44`
- **説明**: 4つの個別 `useEffect` + `useRef` で同期。`useTmuxStore.getState()` を直接呼ぶパターンの方がシンプル。

### I-16: [frontend] `tmuxStore` の `setSessions` と `applySessionDelta` の重複ロジック
- **ファイル**: `frontend/src/stores/tmuxStore.ts`
- **説明**: `buildOrder` → `sortByOrder` → `activeSession` フォールバック処理が同パターンで繰り返し。DRY 原則に反し、一方だけ修正するとバグリスク。

### I-17: [frontend] `useBackendSync` の `any` 型イベントハンドラ
- **ファイル**: `frontend/src/hooks/useBackendSync.ts`
- **説明**: `handler: (...data: any[]) => void` で型安全性欠如。ランタイムバリデーションは正しく行われている。

### I-18: [frontend] `TerminalPane` の WebGL addon 非同期ロードで disposed チェックの微小な競合窓
- **ファイル**: `frontend/src/components/TerminalPane.tsx`
- **説明**: `disposed` チェックと `term.loadAddon` の間に微小な競合窓。`try-catch` 追加で堅牢化可能。

### I-19: [frontend] fontSize 変更時にバックエンドへの ResizePane 通知が欠如
- **ファイル**: `frontend/src/components/TerminalPane.tsx`
- **説明**: `fitAddon.fit()` 後、ResizeObserver は DOM サイズ変更がないため発火しない可能性。バックエンドに誤った cols/rows が残るリスク。

### I-20: [test] `app_pane_api.go` の `GetPaneReplay`, `GetPaneEnv`, `ApplyLayoutPreset` のエラーパステスト不足
- **ファイル**: `app_pane_api_test.go`
- **説明**: 存在しないペインID、セッション未存在時、アクティブウィンドウ未設定時のエラーパスが未テスト。

### I-21: [test] `key_table_test.go` のキーシーケンス連結テスト不足
- **ファイル**: `internal/tmux/key_table_test.go`
- **説明**: 複数キーを一度に送信するパターンの検証が不足。

### I-22: [test] `command_router_handlers_pane_test.go` の `rootPath` / `worktreePath` 両方空のフォールバックテスト欠如
- **ファイル**: `internal/tmux/command_router_handlers_pane_test.go`
- **説明**: `TestSplitWindowWorkDirFallback` で両方空の場合のテストなし。

### I-23: [shim] `Flags` フィールドのコメントが `int` 型を言及していない
- **ファイル**: `cmd/tmux-shim/parse.go`（protocol定義）
- **説明**: コメント `// Values are string or bool` だが `flagInt` ケースで `int` を格納。

---

## Suggestion Issues (24件)

### S-1: [app] `snapshotDelta()` の2回目のロック内チェックは到達不能
- **ファイル**: `app_snapshot_delta.go:145-160`
- **説明**: `snapshotDeltaMu` でシリアライズされているため `!snapshotPrimed || snapshotCache == nil` は到達し得ない。コメントで明記推奨。

### S-2: [app] `estimateSnapshotPayloadBytes` のウィンドウ開始直後のサンプリング意図
- **ファイル**: `app_snapshot_metrics.go:203-210`
- **説明**: 設計意図をコメントで記載推奨。

### S-3: [app] `BuildStatusLine()` が `time.Now()` を直接呼出
- **ファイル**: `app_status.go:77-85`
- **説明**: テスト時の時刻制御が困難。低優先度。

### S-4: [app] `ApplyLayoutPreset` の境界ケーステスト欠如
- **ファイル**: `app_pane_api.go:188-201`
- **説明**: `[session has no windows]`, `[preset is required]` のエラーパスがテスト未カバー。

### S-5: [app] `emitSnapshot()` の直接ユニットテスト不在
- **ファイル**: `app_events.go:191-210`
- **説明**: `requestSnapshot` 経由の統合テストのみ。

### S-6: [app] `snapshotDelta` の `Removed` のみソートで非対称
- **ファイル**: `app_snapshot_delta.go:129`
- **説明**: `delta.Removed` のみ `sort.Strings()`。意図をコメントで明記推奨。

### S-7: [app] `runtimeEventsEmitFn` オーバーライド注記の不統一
- **ファイル**: `app_events_test.go`, `app_pane_api_test.go`, `app_session_api_test.go`
- **説明**: 全ファイルに同様の注記を推奨。

### S-8: [tmux] `sendKeysTable` と `parseControlKey` の重複コメント
- **ファイル**: `internal/tmux/key_table.go`
- **説明**: テーブルのロジック優先の旨をコメント記載推奨。

### S-9: [tmux] `paneEnvView()` の copy-on-write 契約のドキュメント脆弱性
- **ファイル**: `internal/tmux/command_router.go:99-107`
- **説明**: 将来の修正者が in-place 更新に変えると race condition 発生。

### S-10: [tmux] `WindowIndexInSession` の nil チェック欠如
- **ファイル**: `internal/tmux/session_manager_windows.go:228-238`
- **説明**: 他メソッドとの一貫性のため追加推奨。

### S-11: [tmux] `handleShowEnvironment` で `-g` フラグ時に Debug ログ追加推奨
- **ファイル**: `internal/tmux/command_router_handlers_session.go:163-165`

### S-12: [tmux] `cloneSessionForRead` の Terminal=nil 制約のドキュメント欠如
- **ファイル**: `internal/tmux/session_manager_sessions.go:166-210`

### S-13: [tmux] `expandFormat` のネスト `#{}` 非サポート明記
- **ファイル**: `internal/tmux/format.go:72-82`

### S-14: [tmux] `cloneSessionForRead` の nil ペインスキップで nil ホール
- **ファイル**: `internal/tmux/session_manager_sessions.go`
- **説明**: `make([]*TmuxPane, len(window.Panes))` + continue で nil の穴が残る。`append` 方式に変更推奨。

### S-15: [tmux] `handleSendKeys` で空ペイロード時にログなし
- **ファイル**: `internal/tmux/command_router_handlers_pane.go`

### S-16: [tmux] `handleNewWindow` の rollback エラー集積不十分
- **ファイル**: `internal/tmux/command_router_handlers_window.go`

### S-17: [shim] `applyModelOverride` でループインデックスをスキップしない
- **ファイル**: `cmd/tmux-shim/model_transform.go:161-183`

### S-18: [shim] `loadAgentModelConfig` のキャッシュ前提コメント
- **ファイル**: `cmd/tmux-shim/model_transform.go:82-94`

### S-19: [shim] `list-sessions`, `show-environment` のテスト不足
- **ファイル**: `cmd/tmux-shim/main_test.go`

### S-20: [shim] `parseCommand` の `flagEnv` で `=` を含む値のテスト不足
- **ファイル**: `cmd/tmux-shim/main_test.go`

### S-21: [frontend] `types/tmux.ts` と `models.ts` の型二重定義
- **ファイル**: `frontend/src/types/tmux.ts`, `frontend/wailsjs/go/models.ts`

### S-22: [frontend] SearchBar のインクリメンタルサーチデバウンス欠如
- **ファイル**: `frontend/src/components/SearchBar.tsx`

### S-23: [frontend] `webglUnavailable` のモジュールスコープ変数の意図明示
- **ファイル**: `frontend/src/components/TerminalPane.tsx:17`

### S-24: [frontend] `useBackendSync` の GetActiveSession エラー時 `notifyWarn` 欠如
- **ファイル**: `frontend/src/hooks/useBackendSync.ts`

---

## Strengths（良い点）

### Go Backend
- **一貫した入力バリデーション**: 全公開 API が `strings.TrimSpace` + 空チェックを統一的に実施
- **フィールド数ガードテスト**: `TestSnapshotFieldCounts` / `TestSnapshotMetricsFieldCounts` は struct フィールド追加時の更新漏れを確実に防ぐ優秀なパターン
- **ロック順序のドキュメント**: app.go のロック順序コメントが明確
- **Pool-based バッファ再利用**: `feedBytePool` + `maxPoolBufSize` による大サイズバッファ除外
- **Panic recovery + exponential backoff**: `startPaneFeedWorker` の堅牢な設計
- **Copy-on-write / deep-copy の徹底**: `UpdatePaneEnv`, `cloneSessionForRead`, `Snapshot` 等
- **ロールバックパターンの統一**: `handleNewSession`, `handleNewWindow`, `splitWindowResolved`
- **Terminal Close のロック外実行**: デッドロック防止に有効
- **generation / topologyGeneration による効率的変更検知**: 2レイヤで変更粒度を区別

### tmux-shim
- **堅牢なパニック回復機構**: `runTransformSafe` のスナップショット/ロールバック設計
- **init() での仕様整合性チェック**: `validateCommandSpecConsistency()` の防御設計
- **正規表現の安全なエスケープ**: `regexp.QuoteMeta` と `escapeRegexpReplacement` の併用

### Frontend
- **IME 対応が非常に丁寧**: Windows IME の正確なハンドリング、composition バッファリング
- **イベントクリーンアップの徹底**: `cleanupFns` 配列パターン、全リスナー解除
- **Zustand セレクタ分離**: 不要な再レンダー抑制
- **Copy-on-Select + Smart Ctrl+C**: プロフェッショナルな UX 実装
- **WebGL フォールバック**: 自動フォールバック + 全ペインへの横展開
- **バックエンドイベントの防御的バリデーション**: 全イベントで実行時型チェック
- **ペイン出力の RAF バッチ書き込み**: 高頻度出力のパフォーマンス考慮

---

## Recommended Action

1. **Critical Issues を最優先で修正**
2. **Important Issues を順次対応**
3. **Suggestion は余裕があれば対応**
4. **修正後に対象領域の再レビューを実施**

---

## タスク整理 — 並列作業可否一覧

以下の表は、各タスクを修正する際に **他のタスクと並列で作業しても問題ないか** を整理したものです。
「並列OK」は他のタスクと独立して作業できるもの、「順序注意」は他タスクとの依存関係があるものです。

### Critical Issues

| # | タスク概要 | 対象ファイル | 並列作業 | 備考 |
|---|----------|------------|---------|------|
| C-1 | ResolveTarget の内部ポインタ問題 | session_manager_targets.go, command_router_handlers_pane.go | ⚠️ 順序注意 | C-2 と同じ設計方針で修正すべき。C-1, C-2 は同一作業者が担当推奨 |
| C-2 | ListPanesByWindowTarget の内部ポインタ問題 | session_manager_pane_io.go | ⚠️ 順序注意 | C-1 と連動。返り値を deep copy にするか、ロック保持したまま処理するかの設計判断が共通 |
| C-3 | useBackendSync 初期化レースコンディション | useBackendSync.ts | ✅ 並列OK | フロントエンドのみ。Go 側と独立 |
| C-4 | TerminalPane memo 比較関数の stale closure リスク | TerminalPane.tsx | ✅ 並列OK | C-5 と同ファイルだが修正箇所が独立 |
| C-5 | searchAddonRef のクリーンアップ null 化 | TerminalPane.tsx | ✅ 並列OK | C-4 と同ファイルだが修正箇所が独立 |
| C-6 | format_test.go のテストカバレッジ拡充 | format_test.go | ✅ 並列OK | テスト追加のみ。他に影響なし |

### Important Issues

| # | タスク概要 | 対象ファイル | 並列作業 | 備考 |
|---|----------|------------|---------|------|
| I-1 | handleNewWindow/handleNewSession の append 防御コピー | command_router_handlers_window.go, command_router_handlers_session.go | ✅ 並列OK | 局所的修正。2ファイルだが同時修正可 |
| I-2 | ResolveTarget の RLock 化検討 | session_manager_targets.go | ⚠️ 順序注意 | C-1 の修正方針に依存 |
| I-3 | resolveDirectionalPane の TOCTOU | command_router_handlers_display.go | ⚠️ 順序注意 | C-1, C-2 の修正方針に依存 |
| I-4 | handleNewWindow の Terminal nil リスク | command_router_handlers_window.go | ✅ 並列OK | I-1 と同ファイルだが修正箇所が独立 |
| I-5 | WriteToPanesInWindow のエラーログ追加 | session_manager_pane_io.go | ✅ 並列OK | ログ追加のみ |
| I-6 | emitLayoutChanged のログレベル変更 | command_router_handlers_pane.go | ✅ 並列OK | ログレベル変更のみ |
| I-7 | shim: applyModelTransform のエラー処理変更 | model_transform.go | ✅ 並列OK | shim 内で完結 |
| I-8 | shim: グローバルキャッシュのテストリセット追加 | model_transform.go, main_test.go | ✅ 並列OK | I-7 と同ファイルだが修正箇所が独立 |
| I-9 | shim: model_transform 内部関数テスト追加 | main_test.go | ✅ 並列OK | テスト追加のみ |
| I-10 | shim: command_transform テスト追加 | main_test.go | ✅ 並列OK | テスト追加のみ。I-9 と同ファイルだが独立テスト |
| I-11 | copySnapshotCache の shallow copy コメント | app_snapshot_delta.go | ✅ 並列OK | コメント追加のみ |
| I-12 | KillSession の冗長な変数宣言削除 | app_session_api.go | ✅ 並列OK | 局所的修正 |
| I-13 | legacy map payload のデバッグログ追加 | app_events.go | ✅ 並列OK | ログ追加のみ |
| I-14 | TerminalPane の巨大 useEffect 分割検討 | TerminalPane.tsx | ⚠️ 順序注意 | C-4, C-5 の修正と同ファイル。先に C-4/C-5 を修正してから検討 |
| I-15 | usePrefixKeyMode の Ref 同期パターン簡素化 | usePrefixKeyMode.ts | ✅ 並列OK | フロントエンド内で独立 |
| I-16 | tmuxStore の重複ロジック抽出 | tmuxStore.ts | ✅ 並列OK | ストア内で完結 |
| I-17 | useBackendSync の型改善 | useBackendSync.ts | ⚠️ 順序注意 | C-3 修正後に対応推奨 |
| I-18 | WebGL addon の try-catch 追加 | TerminalPane.tsx | ⚠️ 順序注意 | C-4/C-5 修正後に対応推奨 |
| I-19 | fontSize 変更時の ResizePane 通知 | TerminalPane.tsx | ⚠️ 順序注意 | I-14 修正後に対応推奨 |
| I-20 | app_pane_api のエラーパステスト追加 | app_pane_api_test.go | ✅ 並列OK | テスト追加のみ |
| I-21 | key_table_test のキーシーケンステスト追加 | key_table_test.go | ✅ 並列OK | テスト追加のみ |
| I-22 | split-window の workdir フォールバックテスト | command_router_handlers_pane_test.go | ✅ 並列OK | テスト追加のみ |
| I-23 | Flags コメント修正 | parse.go | ✅ 並列OK | コメント修正のみ |

### 作業グループ推奨

効率的な並列作業のため、以下のグループ分けを推奨します：

| グループ | 担当範囲 | 含むタスク | 作業順序 |
|---------|---------|----------|---------|
| **A: tmux ロック設計** | internal/tmux のポインタ・ロック問題 | C-1, C-2, I-2, I-3 | C-1→C-2→I-2→I-3 (順序必須) |
| **B: tmux ハンドラ修正** | internal/tmux のハンドラ個別修正 | I-1, I-4, I-5, I-6 | 各タスク独立 (並列可) |
| **C: Frontend Critical** | TerminalPane / useBackendSync | C-3, C-4, C-5 | 各タスク独立 (並列可) |
| **D: Frontend Important** | フロントエンド改善 | I-14, I-15, I-16, I-17, I-18, I-19 | C-3/C-4/C-5 完了後 |
| **E: shim 改善** | tmux-shim 全般 | I-7, I-8, I-9, I-10 | 各タスク独立 (並列可) |
| **F: App Layer 軽微修正** | app_*.go の軽微修正 | I-11, I-12, I-13 | 各タスク独立 (並列可) |
| **G: テスト追加** | テストカバレッジ拡充 | C-6, I-20, I-21, I-22, I-23 | 各タスク独立 (並列可) |

> **グループ A, B, E, F, G は互いに並列作業可能です。**
> **グループ C → D は順序依存があります（C 完了後に D）。**
> **グループ A と B は同じパッケージですが、修正ファイルが異なるため並列可能です。**
