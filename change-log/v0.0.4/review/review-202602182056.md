# Code Review: myT-x コミット前レビュー

**日時:** 2025-02-18 20:56  
**対象:** myT-x/ 配下の変更ファイル（63ファイル, +6716 / -2455 行）  
**レビュー方式:** 7並列サブエージェント（Go App層, tmux-shim, internal/tmux, internal/install+config+ipc, Frontend, テスト品質, クロスモジュール影響分析）

---

## 目次

1. [Critical Issues（修正必須）](#critical-issues)
2. [Important Issues（修正推奨）](#important-issues)
3. [Suggestions（改善提案）](#suggestions)
4. [Strengths（良い点）](#strengths)
5. [タスク一覧・並列作業可否表](#タスク一覧並列作業可否表)

---

## Critical Issues

### C-1: `removeWindowAtIndexLocked` で Terminal が Close されずリソースリーク

| 項目 | 内容 |
|------|------|
| **重要度** | Critical |
| **ファイル** | `myT-x/internal/tmux/session_manager_windows.go` L149 |
| **影響範囲** | `handleKillWindow` → `RemoveWindowByID` → `removeWindowAtIndexLocked` |

**説明:**  
`removeWindowAtIndexLocked` が `pane.Terminal = nil` を設定した後に `removedPanes` を返却する。呼出し元の `handleKillWindow`（`command_router_handlers_window.go` L301-306）は `removedPanes` をイテレートし `pane.Terminal.Close()` を呼ぶが、Terminal は既に nil 化されているため `if pane.Terminal == nil { continue }` でスキップされる。結果として **ConPTY ハンドルが解放されない**。

**対比:** `killPaneLocked`（`session_manager_pane_lifecycle.go` L102-104）は Terminal 参照を `result.closeTargets` に**退避してから** nil 化しており、呼出し元が退避リストから Close を呼ぶ正しいパターン。

**修正案:**  
`removeWindowAtIndexLocked` で Terminal を nil 化する前に、返却用スライスにコピーするか、`killPaneLocked` と同様に Terminal 参照を別途返却する。

```go
// 例: Terminal 参照を退避してからnil化
for _, pane := range removedPanes {
    if pane == nil {
        continue
    }
    // Terminal is captured in removedPanes slice BEFORE nil-ification,
    // so the caller can Close() it outside the lock.
    // → pane.Terminal = nil は削除し、caller 側で nil化するか、
    //   removedPanes のコピー時点で Terminal 参照が保持される設計に変更
    delete(m.panes, pane.ID)
}
```

---

### C-2: `ResolveDirectionalPane` の直接単体テストが存在しない

| 項目 | 内容 |
|------|------|
| **重要度** | Critical（テスト） |
| **ファイル** | `myT-x/internal/tmux/session_manager_targets.go` |

**説明:**  
`ResolveDirectionalPane` は新規公開メソッドであり、方向ナビゲーション（DirPrev/DirNext/DirNone）、境界クランプ、nilペインガード、ウィンドウなしケースなど非自明なロジックを含む。`command_router_handlers_display.go` 経由の間接呼出しのみで、直接テストがない。

**推奨テストケース:**
- `DirPrev` で先頭ペイン → クランプ
- `DirNext` で末尾ペイン → クランプ
- `DirNone` → 現在ペイン返却
- `callerPaneID < 0` → defaultPaneLocked フォールバック
- ウィンドウなし / ペインなしエラーパス
- nil ペインエントリを含むスライス

---

### C-3: `ResolveTarget` の RLock→Lock アップグレードパスにテストがない

| 項目 | 内容 |
|------|------|
| **重要度** | Critical（テスト） |
| **ファイル** | `myT-x/internal/tmux/session_manager_targets.go` |

**説明:**  
`resolveTargetWriteLocked`、`defaultPaneRLocked`、`activePaneInSessionRLocked` のいずれにも直接テストがない。`activePaneInSessionRLocked` が `needsRepair=true` を返すケース（ActiveWindowID が陳腐化）は自動修復をトリガーする重要経路。

**推奨テストケース:**
- `ActiveWindowID` が陳腐化したセッションで `ResolveTarget("")` → フォールバックウィンドウのペイン返却 + ActiveWindowID 修復
- RLockパスで `needsRepair=true` が検出されるシナリオの再現

---

### C-4: `bestEffortSendKeys` / `buildPaneEnv` のテストがない

| 項目 | 内容 |
|------|------|
| **重要度** | Critical（テスト） |
| **ファイル** | `myT-x/internal/tmux/command_router.go` |

**説明:**  
`bestEffortSendKeys` はエラーを握りつぶす設計（shim仕様: 原文転送）だが、正常系・エラー発生時の動作パス検証がない。`buildPaneEnv` はペインの環境変数を構築する新規ヘルパーだがテストがない。

---

## Important Issues

### I-1: `RenameSession` の NOTE コメントが実動作と矛盾

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/app_session_api.go` |

**説明:**  
`RenameSession` のコメントに「NOTE: Unlike CreateSession, RenameSession doesn't require an immediate snapshot push」とあるが、`snapshotEventPolicies` に `tmux:session-renamed` が `{trigger: true, bypassDebounce: true}` で登録されており、`emitBackendEvent` 経由で即座にスナップショットがトリガーされる。コメントが実動作と矛盾している。

---

### I-2: `sortedSessionNamesLocked` が Write Lock を要求

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/internal/tmux/session_manager_targets.go` |

**説明:**  
`sortedSessionNamesLocked` は `sort.Strings` を呼ぶのみで読取専用のはずだが、関数名に `Locked`（Write Lock）が使われている。`RLocked` で十分であり、命名の不整合がある。

---

### I-3: `ResolveTarget` ポインタ返却後の Lock 解放で安全性懸念

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/internal/tmux/session_manager_targets.go` |

**説明:**  
`ResolveTarget` は `*TmuxPane` をネスト構造含めて返却するが、Lock 解放後に呼出し元が `pane.Window.Session` を辿ると無保護アクセスになる。現在の呼出し元はペインIDのみ使用しているため実害は無いが、API の安全性としてコメントで制約を明示すべき。

---

### I-4: RLock→Lock パスのコード重複

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/internal/tmux/session_manager_targets.go` |

**説明:**  
`resolveTargetRLocked` と `resolveTargetWriteLocked` で `SessionToUse` 判定、`findWindowByID`、`paneForTargetWindowLocked` 呼出しのロジックがほぼ同一。共通ヘルパーを抽出して DRY にすべき。

---

### I-5: ディレクトリ探索ループにルート到達ガードがない

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/internal/install/shim_cleanup_windows.go` |

**説明:**  
`removeLegacyDirectory` のディレクトリ walk-up ループで、ルートディレクトリ（`C:\`）到達時の明示的な打ち切り条件がない。`filepath.Dir()` はルートで自身を返すため無限ループにはならないが、`os.Remove(C:\)` が呼ばれる可能性がある（パーミッションで失敗するため実害なし）。安全のためガードを追加すべき。

---

### I-6: `removeLegacyDirectory` が `LOCALAPPDATA` を再取得

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/internal/install/shim_cleanup_windows.go` |

**説明:**  
`CleanupLegacyShimInstalls` で取得した `LOCALAPPDATA` を `removeLegacyDirectory` に引数として渡す代わりに、内部で `os.Getenv` を再度呼んでいる。DRYに反し、環境変数が中途変更されるエッジケースで不整合が生じうる。

---

### I-7: `useTerminalResize` と `useTerminalEvents` で IME composition 状態の二重管理

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/frontend/src/hooks/useTerminalResize.ts`, `useTerminalEvents.ts` |

**説明:**  
同じ `term.textarea` に対して2セットの `compositionstart`/`compositionend` リスナーが登録される。機能的には各フックの目的が異なるため問題ないが、認知コストが高い。

---

### I-8: `useTerminalFontSize` の eslint-disable 理由説明不足

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/frontend/src/hooks/useTerminalFontSize.ts` L62 |

**説明:**  
`containerRef`, `fontSizeRef`, `setFontSize` を依存配列から除外している eslint-disable コメントに理由説明がない。他のフック（`useTerminalEvents` 等）には除外理由の説明が付与されている。統一すべき。

---

### I-9: `BackendEventMap` の全ペイロード型が `unknown`

| 項目 | 内容 |
|------|------|
| **重要度** | Important |
| **ファイル** | `myT-x/frontend/src/hooks/useBackendSync.ts` L15-29 |

**説明:**  
`BackendEventMap` の全エントリが `unknown` 型で型安全の恩恵がない。各ハンドラ内の runtime 型ガードで安全性は確保されているが、段階的に具体型を定義すると型チェック効果が高まる。

---

### I-10: フロントエンド新規カスタムフック5つにテスト未追加

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `useTerminalSetup.ts`, `useTerminalEvents.ts`, `useTerminalResize.ts`, `useTerminalFontSize.ts`, `useWindowRename.ts` |

**説明:**  
TerminalPane/SessionView から抽出された5つのフックに対応テストがない。特に `useWindowRename` の二重実行ガード（`inflightWindowIdRef`）は独立テスト可能かつテストすべき。

---

### I-11: `copyPaneSlice` の直接テストがない

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `myT-x/internal/tmux/session_manager_pane_io.go` |

**説明:**  
値コピーでデータレースを防ぐヘルパーだが直接テストがない。コピーへの変更が元データに影響しないことを `TestCloneSessionSnapshotsIndependence` と同パターンで検証すべき。

---

### I-12: `removeWindowAtIndexLocked` の Terminal nil化がテスト未検証

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `myT-x/internal/tmux/session_manager_windows.go` |

**説明:**  
`TestRemoveWindowActiveWindowIDAutoTransition` は ActiveWindowID 遷移のみを検証しており、返却された `removedPanes` の Terminal が nil であることは検証していない。

---

### I-13: `WindowIndexInSession` の nil ウィンドウガードが未テスト

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `myT-x/internal/tmux/session_manager_windows.go` |

**説明:**  
`if w != nil && w.ID == windowID` の nil チェックが追加されたが、ウィンドウスライスに nil エントリを含むケースのテストがない。

---

### I-14: `app_lifecycle_test.go` に `t.Parallel()` 制限コメントがない

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `myT-x/app_lifecycle_test.go` |

**説明:**  
`app_events_test.go` と `app_pane_api_test.go` には `// Do not use t.Parallel()` 警告が付与されているが、`app_lifecycle_test.go` にはない。このファイルもパッケージレベル変数 `cleanupLegacyShimInstallsFn` を差し替えており、`t.Parallel()` でデータレースが発生するリスクがある。

---

### I-15: `TestApplyModelTransformSkipsOnLoaderError` でログ出力の検証がない

| 項目 | 内容 |
|------|------|
| **重要度** | Important（テスト） |
| **ファイル** | `myT-x/cmd/tmux-shim/model_transform_test.go` |

**説明:**  
設定ロードエラー時にエラー握りつぶし + ログ出力が行われるが、テストはエラー握りつぶし（原文返却）のみ検証。CLAUDE.md仕様「エラーはログにだけ出力しておくこと」を考慮し、ログ出力の検証も追加すべき。

---

## Suggestions

### S-1: `requireSessionsWithPaneID` のポインタ引数パターン

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/app_guards.go` |

**説明:**  
`*string` ポインタ経由で TrimSpace 結果を上書きする。全呼出し元がローカル変数のアドレスを渡しているため外部副作用はないが、Go では値返却パターンの方が慣用的。

---

### S-2: `SplitPane` / `SwapPanes` に手動バリデーションが残存

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/app_pane_api.go` |

**説明:**  
他の pane API は `requireSessionsWithPaneID` に統一されたが、`SplitPane` と `SwapPanes` はまだ個別の `strings.TrimSpace` + `a.sessions == nil` チェックを行っている。統一可能。

---

### S-3: `snapshotEventPolicies` が全エントリ `trigger: true`

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/app_events.go` |

**説明:**  
現在すべてのポリシーが `trigger: true`。`trigger: false` のエントリが将来追加される可能性を考慮し、マップの意味を明確にするドキュメントコメントがあると良い。

---

### S-4: `ResizePane` の境界値テスト不足

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/app_pane_api_test.go` |

**説明:**  
`newSize = 0` や負値のケースがテーブルに含まれていない。

---

### S-5: `select-pane -Z` (ズーム) のコマンド定義がない

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/cmd/tmux-shim/spec.go` |

**説明:**  
Claude Code の `select-pane -Z` によるズーム操作が spec に未定義。現状は `-t` による通常のペイン選択のみ対応。

---

### S-6: `resize-pane` の方向パーステスト不足

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/cmd/tmux-shim/command_transform_test.go` |

**説明:**  
`-D`, `-U`, `-L`, `-R` の各方向パースが正しく行われることのテストケースが不足。

---

### S-7: `removeLegacyDirectory` の Glob パターンインジェクション

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/internal/install/shim_cleanup_windows.go` |

**説明:**  
`filepath.Glob` にユーザ制御の文字列が渡る可能性は低いが、配列要素に `[` や `*` が含まれるとパターンとして解釈される。`filepath.Match` ではなく直接 `os.ReadDir` + 文字列比較の方が安全。ただしデスクトップアプリの内部処理であり、外部入力経路がないため実害なし。

---

### S-8: `ConfirmDialog` に `role="dialog"` と `aria-modal="true"` が未設定

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/frontend/src/components/ConfirmDialog.tsx` |

**説明:**  
フォーカストラップは実装されているが、WAI-ARIA 属性が未設定。Windows デスクトップアプリのためスクリーンリーダー対応は任意だが、追加は容易。

---

### S-9: `useTerminalEvents` の `useMemo` 不要

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/frontend/src/hooks/useTerminalEvents.ts` L43 |

**説明:**  
`paneEvent` を `useMemo(() => \`pane:data:${paneId}\`, [paneId])` でメモ化しているが、文字列テンプレートリテラル生成は極めて軽量で `useMemo` のオーバーヘッドの方が大きい可能性がある。

---

### S-10: `types/tmux.ts` の DRIFT RISK 検出自動化

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/frontend/src/types/tmux.ts` |

**説明:**  
Wails auto-generated types と hand-written types の乖離リスクがコメントで明示されている。CI で `models.ts` と `tmux.ts` のフィールド一致を検証するスクリプトを追加すると、drift を機械的に検出可能。

---

### S-11: `ApplyLayoutPresetToActiveWindow` の SessionManager 層直接テスト

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/internal/tmux/session_manager_panes.go` |

**説明:**  
現在は `app_pane_api_test.go` のインテグレーションテスト（`TestApplyLayoutPresetFallbackToFirstWindow`）でのみ間接カバー。SessionManager レイヤーでの直接テストがあるとレイヤー間の責務が明確に。

---

### S-12: `format_test.go` で空 Panes スライスケースの追加

| 項目 | 内容 |
|------|------|
| **ファイル** | `myT-x/internal/tmux/format_test.go` |

**説明:**  
nil 引数ケースはカバーされているが、空スライス（`len(panes) == 0`）でのフォーマット変数展開テストがあるとより堅牢。

---

## Strengths

### Go バックエンド

1. **`snapshotEventPolicies` マップ統合**: 2つの switch 文をマップに統一し、新イベント追加時の変更箇所を1箇所に集約。`TestSnapshotEventPolicyConsistency` による不変条件検証も秀逸。

2. **`requireSessionsWithPaneID` によるボイラープレート削減**: 7箇所の pane API で共通のバリデーション + TrimSpace を一元化。テスト（`TestRequireSessionsWithPaneIDTrimsAndValidates`）でカバー済み。

3. **RLock ファストパス + Lock スローパスの2段階 ResolveTarget**: 読取主体の呼出しでロック競合を削減する優れた最適化。`resolveTargetWriteLocked` が完全再解決を行う設計で double-check locking のギャップを安全に処理。

4. **`SessionSnapshot.Clone()` のディープコピー**: Worktree, Layout のポインタ型を含む全フィールドの独立コピー。`TestCloneSessionSnapshotsIndependence` で全フィールドの独立性を検証。

5. **`fallbackWindowIDNearIndex` の空間的局所性保持**: ウィンドウ削除時に最も近い生存ウィンドウを選択。11パターンのテーブル駆動テストで網羅的に検証。

### tmux-shim

6. **ALL ワイルドカード対応**: `ModelFrom: "ALL"` で全モデルを置換対象にする機能。テストケースが充実。

7. **エラー握りつぶし仕様の徹底**: 設定ロードエラー、変換エラーをログ出力のみで吸収し原文を転送。shim spec に完全準拠。

8. **`ResetModelConfigCache` によるテスト分離**: グローバルキャッシュのリセットをテストで保証し、テスト間の状態汚染を防止。

### Frontend

9. **フック抽出の高品質**: `TerminalPane` → 4フック（setup, events, resize, fontSize）の分離が責務明確で、依存方向が単方向。

10. **`EventsOn` 返り値による個別解除パターン**: 従来の `EventsOff(eventName)` から cancel 関数ベースに変更。複数ペイン共存時の他リスナー誤解除リスクを解消。

11. **IME 対応の手厚さ**: composition イベントハンドリングが丁寧で、日本語入力時の二重入力防止が複数箇所で適切に実装。

12. **`useWindowRename` の double-commit ガード**: Enter → onBlur 二重発火を `inflightWindowIdRef` で防御。`Promise.resolve().then()` によるマイクロタスク後フラグリセットが正しい。

13. **クリーンアップの LIFO 逆順解放**: `useBackendSync` の `cleanupFns` を逆順で解放し、個別失敗を try-catch で吸収。

14. **`usePrefixKeyMode` の `getState()` 直接参照**: Ref 同期ボイラープレートを Zustand 公式パターンに置換。Stale closure 問題を解消。

### テスト

15. **テーブル駆動テストの統一的使用**: `TestFallbackWindowIDNearIndex`（11ケース）、`TestParseControlKeyFullAlphabetLowercase` 等、高品質。

16. **`TestSnapshotEventPolicyConsistency`**: ポリシーの構造的整合性を不変条件として検証。ポリシー追加忘れを自動検出。

17. **`TestCommandRouterHandlerMapHasNoDuplicateKeys`**: ハンドラマップの重複キー検出。ルーター拡張時の安全ネット。

18. **`t.Parallel()` 制限の明示的コメント**: `app_events_test.go` 等でデータレースリスクを警告。

---

## タスク一覧・並列作業可否表

以下の表は、各修正タスクを並列で実施しても問題がないか（他タスクと依存関係がないか）を示す。

| # | タスク | 重要度 | 対象ファイル | 並列作業 | 依存タスク | 備考 |
|---|--------|--------|-------------|----------|-----------|------|
| T-1 | `removeWindowAtIndexLocked` Terminal リーク修正 | **Critical** | `session_manager_windows.go`, `command_router_handlers_window.go` | **可** | — | ConPTY ハンドル未解放。`killPaneLocked` パターンに合わせる |
| T-2 | `ResolveDirectionalPane` 直接テスト追加 | **Critical** | `session_manager_targets_test.go`(新規) | **可** | — | テーブル駆動テスト6パターン |
| T-3 | `ResolveTarget` RLock→Lock パステスト追加 | **Critical** | `session_manager_targets_test.go`(新規) | T-2と同一ファイル | T-2 | T-2 と同ファイルで順次実施推奨 |
| T-4 | `bestEffortSendKeys` / `buildPaneEnv` テスト追加 | **Critical** | `command_router_test.go` | **可** | — | |
| T-5 | `RenameSession` NOTE コメント修正 | Important | `app_session_api.go` | **可** | — | コメント修正のみ |
| T-6 | `sortedSessionNamesLocked` 命名修正 | Important | `session_manager_targets.go` | T-2・T-3 と同ファイル | T-2, T-3 | リネーム: `sortedSessionNamesRLocked` |
| T-7 | `ResolveTarget` 返却値の制約コメント追記 | Important | `session_manager_targets.go` | T-6 と同ファイル | T-6 | Lock 解放後のポインタ追跡禁止をドキュメント化 |
| T-8 | RLock/Lock コード重複の共通ヘルパー抽出 | Important | `session_manager_targets.go` | T-7 完了後 | T-7 | リファクタリング。影響範囲広い |
| T-9 | ルートディレクトリ到達ガード追加 | Important | `shim_cleanup_windows.go` | **可** | — | |
| T-10 | `removeLegacyDirectory` LOCALAPPDATA 引数化 | Important | `shim_cleanup_windows.go` | T-9 と同ファイル | T-9 | 順次推奨 |
| T-11 | IME composition 二重管理コメント追記 | Important | `useTerminalResize.ts`, `useTerminalEvents.ts` | **可** | — | コメント追記のみ |
| T-12 | `useTerminalFontSize` eslint-disable 理由追記 | Important | `useTerminalFontSize.ts` | **可** | — | コメント追記のみ |
| T-13 | `BackendEventMap` 具体型定義（段階的） | Important | `useBackendSync.ts` | **可** | — | 低優先度。段階的に実施可能 |
| T-14 | フロントエンドフックテスト追加 | Important | `tests/hooks/`(新規) | **可** | — | 特に `useWindowRename` 優先 |
| T-15 | `copyPaneSlice` テスト追加 | Important | `session_manager_pane_io_test.go` | **可** | — | |
| T-16 | `removeWindowAtIndex` Terminal nil化テスト追加 | Important | `session_manager_window_test.go` | T-1 完了後 | T-1 | T-1 修正後のテスト |
| T-17 | `WindowIndexInSession` nil ウィンドウテスト追加 | Important | `session_manager_window_test.go` | T-16 と同ファイル | T-16 | 順次推奨 |
| T-18 | `app_lifecycle_test.go` に `t.Parallel()` 制限コメント追加 | Important | `app_lifecycle_test.go` | **可** | — | コメント追記のみ |
| T-19 | `TestApplyModelTransformSkipsOnLoaderError` ログ検証追加 | Important | `model_transform_test.go` | **可** | — | |
| T-20 | `SplitPane`/`SwapPanes` バリデーション統一 | Suggestion | `app_pane_api.go` | **可** | — | |
| T-21 | `select-pane -Z` 対応検討 | Suggestion | `spec.go` | **可** | — | 設計検討が先に必要 |
| T-22 | `resize-pane` 方向テスト追加 | Suggestion | `command_transform_test.go` | **可** | — | |
| T-23 | `ConfirmDialog` aria 属性追加 | Suggestion | `ConfirmDialog.tsx` | **可** | — | |

### 並列実行グループ

以下のグループは同時並行で作業可能：

| グループ | タスク | 担当領域 |
|---------|--------|---------|
| **Group A** | T-1, T-16, T-17 | `session_manager_windows` (順次) |
| **Group B** | T-2, T-3, T-6, T-7, T-8 | `session_manager_targets` (順次) |
| **Group C** | T-4 | `command_router` テスト |
| **Group D** | T-5, T-18, T-19 | 各種コメント・テスト修正 (独立) |
| **Group E** | T-9, T-10 | `shim_cleanup_windows` (順次) |
| **Group F** | T-11, T-12, T-14 | Frontend フック改善 |
| **Group G** | T-15, T-20, T-22 | その他Go改善 (独立) |

**Group A〜G は全て並列実行可能。** グループ内のタスクのみ順次実施が必要。

---

## 推奨アクション

1. **最優先**: C-1（Terminal リソースリーク）を修正 → T-16 でテスト追加
2. **次点**: C-2〜C-4 のテスト追加（並列可能）
3. **その後**: Important の修正を Group 単位で並列実行
4. **余力があれば**: Suggestion を適宜実施
