# PR Review Summary — 2026-02-18 23:31

## レビュー概要

| 項目 | 値 |
|------|-----|
| 対象 | myT-x/ 配下の未コミット変更 |
| ファイル数 | 58ファイル |
| 差分規模 | +5,352行 / -2,538行 |
| レビュー手法 | 6並列エージェント（カテゴリ別） |

### レビューカテゴリ分類

| # | カテゴリ | ファイル数 | 差分サイズ |
|---|---------|----------|-----------|
| 1 | App層 Go コード (app_*.go) | 14 | ~54KB |
| 2 | tmux-shim (cmd/tmux-shim/) | 8 | ~45KB |
| 3 | internal/tmux パッケージ | 19 | ~103KB |
| 4 | internal/config, install, ipc | 3 | ~4KB |
| 5 | Frontend (React/TypeScript) | 13 | ~164KB |
| 6 | テスト品質（横断） | 全テストファイル | - |

---

## 指摘件数サマリー

| 重要度 | 件数 | 説明 |
|--------|------|------|
| **Critical** | 2件 | マージ前に修正必須 |
| **Important** | 18件 | 修正推奨 |
| **Suggestion** | 31件 | 改善提案（任意） |

---

## Critical Issues（2件）

### C-01: KillPane 後のペイン Index 再計算漏れ
- **ファイル**: [session_manager_panes.go](myT-x/internal/tmux/session_manager_panes.go)
- **カテゴリ**: internal/tmux
- **問題**: `SplitPane` で新ペインの `Index` を `len(window.Panes)` に設定し、`KillPane` でペインが削除された後にスライスが縮小しても、残存ペインの `Index` フィールドが再計算されない。結果として:
  1. `ActivePN` がスライス長を超過する可能性がある（`activePaneInWindow` のフォールバックに依存）
  2. `#{pane_index}` のフォーマット出力に欠番が発生する
  3. 外部クライアントが `pane_index` を使ってターゲット解決する場合に不整合が生じる
- **修正案**: `killPaneLocked` 内でペイン削除後にリインデックスを追加:
  ```go
  for i, p := range window.Panes { p.Index = i }
  ```
  その後 `window.ActivePN` を再設定する。

### C-02: loadAgentModelConfig のグローバルキャッシュが再反映されない（設計メモ）
- **ファイル**: [model_transform.go](myT-x/cmd/tmux-shim/model_transform.go#L91)
- **カテゴリ**: tmux-shim
- **問題**: グローバル変数 `modelConfigCached` / `modelConfigLoaded` でプロセス単位キャッシュを行うが、プロセスライフタイム中に設定ファイルが修正されても再反映されない。shimは短命プロセス前提なので現状は顕在化しにくいが、テストで `resetModelConfigLoadState()` によるグローバル状態リセットが必要で、`t.Parallel()` 不可の制約がある。
- **修正案**: 現在の短命プロセス前提では実害は低い。将来のデーモン化を見据えてTTLやリセット機構を検討。現時点では設計メモとして認識。

---

## Important Issues（18件）

### App層 Go コード（4件）

| ID | ファイル | 問題 | 修正案 |
|----|---------|------|--------|
| **I-01** | [app_pane_feed.go](myT-x/app_pane_feed.go) | `startPaneFeedWorker` にパニック再起動回数の上限がない。`startIdleMonitor` は `maxPanicRestartRetries(10)` で上限があるが、`startPaneFeedWorker` は `for { ... }` で無限再起動。恒常的パニック時にCPU消費し続ける。 | `startIdleMonitor` と同じ `maxPanicRestartRetries` ガードを追加し、上限超過時に `slog.Error` で記録して停止する。 |
| **I-02** | [app_config_state.go](myT-x/app_config_state.go) | `getConfigInternalUnsafe()` が `cfgMu.RLock` 下でコピーなしの config を返す。呼び出し元が返値の map/slice を変更すると内部状態が破壊される。 | 使用箇所がない場合は削除検討。残す場合は関数名を `getConfigInternalUnsafe` に変更し、WARNコメントを強調する。 |
| **I-03** | [app_lifecycle.go](myT-x/app_lifecycle.go) | `waitWithTimeout` のタイムアウト時にゴルーチンがリーク。shutdown中のみ使用されるためプロセス終了時に回収されるが、shutdown→再起動シナリオ(テスト)ではWaitGroup参照が残る。 | コメントに 'safe only for process shutdown paths' 記載済み。テスト時に十分なタイムアウトを付与することを推奨。 |
| **I-04** | [app_lifecycle.go](myT-x/app_lifecycle.go), [app_config_api.go](myT-x/app_config_api.go) | `startup()` 末尾の `flushPendingConfigLoadWarnings()` がフロントエンド接続前に消費される可能性。Wails フロントエンドが `EventsOn()` を登録する前にイベントが消失する。 | `startup()` での flush を削除し、フロントエンドの `GetConfigAndFlushWarnings` に統一する。 |

### tmux-shim（5件）

| ID | ファイル | 問題 | 修正案 |
|----|---------|------|--------|
| **I-05** | [command_transform.go](myT-x/cmd/tmux-shim/command_transform.go#L34) | `applyNewProcessTransform` と `applyShellTransform` で Flags/Env の nil チェック初期化が二重。 | 呼び出し元で保証済みなので片方を削除するか、コメントで防御的に残す旨を明記。 |
| **I-06** | [main.go](myT-x/cmd/tmux-shim/main.go#L102) | `exitWithCode(1)` が `os.Exit` を直接呼ぶため defer が実行されない。現状 main で defer を使っていないため問題なし。 | コメントで「os.Exit のため defer は実行されない」旨を残す。 |
| **I-07** | [model_transform.go](myT-x/cmd/tmux-shim/model_transform.go#L164) | `findOverrideModel` の「宣言順に評価 (first match wins)」が暗黙的。設定ファイルの記述順が動作に影響する。 | ドキュメント/README に「overrides は宣言順に評価される」と明記する。 |
| **I-08** | [parse.go](myT-x/cmd/tmux-shim/parse.go#L38) | `-` 単体の引数が来た場合の処理。tmuxでは stdin 読み取りを意味するコマンドもある。 | 現在の動作は妥当。将来の拡張時に見直し必要。 |
| **I-09** | [spec.go](myT-x/cmd/tmux-shim/spec.go#L6) | `new-session` の commandSpec に `-t` フラグが存在しない。tmux の `new-session` では `-t` でグループセッションを指定可能。 | Agent Teams での使用パターンで必要か確認。不要なら現状維持。 |

### internal/tmux（5件）

| ID | ファイル | 問題 | 修正案 |
|----|---------|------|--------|
| **I-10** | [command_router_handlers_pane.go](myT-x/internal/tmux/command_router_handlers_pane.go#L216) | `handleKillPane` で `resolveTargetFromRequest()` がロック解放後のライブポインタを返し、`target.Terminal` をロック外で読み取る。Terminal の nil 化との競合リスク。 | SessionMgr に `GetPaneTerminalRef(paneID)` メソッドを追加してロック内で一括取得するか、既存コメントを DATA RACE NOTE として明示的にマーク。 |
| **I-11** | [command_router_handlers_pane.go](myT-x/internal/tmux/command_router_handlers_pane.go#L259) | `handleResizePane` で同様のライブポインタ競合パターン。`target.Width/Height` をロック外で読み取り。 | I-10 と同じアプローチで対処。 |
| **I-12** | [format.go](myT-x/internal/tmux/format.go#L11) | `formatSessionLine` が `strings.ReplaceAll` で `session_created_human` を手動プリ展開した後に `expandFormat` も処理する二重展開。 | `formatSessionLine` のプリ展開を削除し `lookupFormatVariable` に統一。nil pane ケースのテスト確認後に実施。 |
| **I-13** | [command_router.go](myT-x/internal/tmux/command_router.go#L105) | `paneEnvView()` が RLock 下でマップ参照をそのまま返す。コピーオンライト契約に依存するが、コンパイル時保証なし。 | `getPaneEnv()`（ディープコピー版）に統一するか、INVARIANT コメントの強調+並行書き込みテストで契約担保。 |
| **I-14** | [session_manager_targets.go](myT-x/internal/tmux/session_manager_targets.go#L70) | `resolveWindowPaneTarget` で `session:N` のNがスライス位置インデックス(0-based)として解釈されるが、`#{window_index}` は安定した `window.ID` を返す。ターゲット文字列として使用時に不整合。 | format.go の `#{window_index}` ドキュメントに、ターゲット文字列として使用する場合は `@` プレフィックスが必要と明記。 |

### internal/config, ipc, install（2件）

| ID | ファイル | 問題 | 修正案 |
|----|---------|------|--------|
| **I-15** | [protocol.go](myT-x/internal/ipc/protocol.go#L51) | `DefaultPipeName()` で USERNAME 環境変数が空かつ `user.Current()` も失敗した場合、空文字列を含むパイプ名 `\\.\pipe\myT-x-` が返される。他ユーザーとの衝突リスク。 | username が空の場合のフォールバック（例: `"default"`）を追加。 |
| **I-16** | [protocol.go](myT-x/internal/ipc/protocol.go#L72) | `decodeRequest()` で Flags と Env は nil→空map初期化するが、Args は nil のまま。一貫性なし。 | Args も nil の場合に `[]string{}` で初期化する、または方針を統一。 |

### Frontend（2件）

| ID | ファイル | 問題 | 修正案 |
|----|---------|------|--------|
| **I-17** | [tmuxStore.ts](myT-x/frontend/src/stores/tmuxStore.ts#L72) | `resolveSessionState` で `String(activeSessionSnapshot.active_window_id)` を使用。バックエンドが `active_window_id` を省略した場合、`String(undefined)` = `"undefined"` が `activeWindowId` にセットされウィンドウ検索が失敗。 | 型ガードを追加: `typeof rawId === 'number' && Number.isFinite(rawId) ? String(rawId) : null` |
| **I-18** | [AgentModelSettings.tsx](myT-x/frontend/src/components/settings/AgentModelSettings.tsx#L55) | バリデーションエラーキーが配列インデックスベース（`override_name_${index}`）。行削除時にエラーメッセージが間違った行に表示される。 | `ov.id`（`generateId()` で生成済み）をキーに使う: `override_name_${ov.id}` |

---

## Suggestions（31件）

### App層（7件）

| ID | ファイル | 提案 |
|----|---------|------|
| S-01 | [app_events.go](myT-x/app_events.go) | `shouldSyncPaneStates` が副作用を持つ述語メソッド。`checkAndAdvanceTopologySync()` 等の名前に変更推奨。 |
| S-02 | [app_guards.go](myT-x/app_guards.go) | `requireSessionsWithPaneID(paneID *string)` がポインタ経由で引数を変更。副作用を中和コメントで明示するか、戻り値で変更後の値を返す形に変更。 |
| S-03 | [app_pane_api.go](myT-x/app_pane_api.go) | `ResizePane` がスナップショット発行(`requestSnapshot`)を行わない。他APIメソッド(FocusPane, RenamePane等)との一貫性を確認。 |
| S-04 | [app_snapshot_delta.go](myT-x/app_snapshot_delta.go) | `copySnapshotCache` の浅いコピー。将来ミュータブルポインタフィールド追加時のリスク。`DeepCopy()` メソッド追加を検討。 |
| S-05 | [app_events.go](myT-x/app_events.go) | `emitBackendEvent` の `app:activate-window` パスにテストなし。 |
| S-06 | [app_lifecycle.go](myT-x/app_lifecycle.go) | `configureGlobalHotkey` の正常登録パスのユニットテストが見当たらない。 |
| S-07 | [app_events.go](myT-x/app_events.go) | `handleLegacyMapPaneOutput` の TODO コメントに期限やバージョン番号を追加推奨。 |

### tmux-shim（8件）

| ID | ファイル | 提案 |
|----|---------|------|
| S-08 | [main.go](myT-x/cmd/tmux-shim/main.go#L29) | `shimDebugLogKeepGenerations = 32` × 5MB = 最大160MB。開発フェーズ終了後に値の見直し推奨。 |
| S-09 | [main.go](myT-x/cmd/tmux-shim/main.go#L152) | `rotateShimDebugLogIfNeeded` の retry ループ `4` がマジックナンバー。`const maxRotateRetries = 4` 推奨。 |
| S-10 | [main.go](myT-x/cmd/tmux-shim/main.go#L176) | `nextRotatedShimDebugLogPath` の `maxAttempts = 64` と `shimDebugLogKeepGenerations(32)` の関係をコメントで明示。 |
| S-11 | [command_transform.go](myT-x/cmd/tmux-shim/command_transform.go#L70) | `flagValue` と `parse.go` の `asString` が同機能で重複。統一推奨。 |
| S-12 | [model_transform.go](myT-x/cmd/tmux-shim/model_transform.go#L197) | `applyModelOverride` メソッドが長い。処理フロー概要コメントをメソッド先頭に追加推奨。 |
| S-13 | [command_transform_test.go](myT-x/cmd/tmux-shim/command_transform_test.go#L11) | `runtime.GOOS` で分岐するため非Windows環境でのテストが実質的に検証されない。 |
| S-14 | [parse.go](myT-x/cmd/tmux-shim/parse.go#L72) | `validateRequired` の switch 文。commandSpec に required フラグ一覧を持たせる設計にすると拡張性向上。 |
| S-15 | [model_transform.go](myT-x/cmd/tmux-shim/model_transform.go#L124) | Overrides ループ内で毎回 `regexp.MustCompile` を呼んでいる。transformer をキャッシュ推奨。 |

### internal/tmux（8件）

| ID | ファイル | 提案 |
|----|---------|------|
| S-16 | [command_router_handlers_window.go](myT-x/internal/tmux/command_router_handlers_window.go#L144) | `handleNewWindow` のエンドツーエンドテストが見当たらない。 |
| S-17 | [command_router_handlers_window.go](myT-x/internal/tmux/command_router_handlers_window.go#L212) | `handleKillWindow` のハンドラーレベルテストが見当たらない。 |
| S-18 | [command_router_handlers_window.go](myT-x/internal/tmux/command_router_handlers_window.go#L237) | `handleSelectWindow` のハンドラーレベルテストが見当たらない。 |
| S-19 | [command_router_handlers_pane_test.go](myT-x/internal/tmux/command_router_handlers_pane_test.go#L362) | `TestHandleResizePane` に 0 やマイナスの dimensions テストケースがない。 |
| S-20 | [session_manager_pane_io.go](myT-x/internal/tmux/session_manager_pane_io.go#L124) | `WriteToPanesInWindow` が firstErr のみ返却。どのペインが失敗したかの情報が失われる。 |
| S-21 | [key_table.go](myT-x/internal/tmux/key_table.go#L10) | `sendKeysTable` と `parseControlKey` の不整合検出用ガードテスト追加を推奨。 |
| S-22 | [command_router_terminal.go](myT-x/internal/tmux/command_router_terminal.go#L66) | `attachTerminal` 内 ReadLoop のバックオフが正常稼働中にリセットされない。 |
| S-23 | [session_manager_snapshot.go](myT-x/internal/tmux/session_manager_snapshot.go#L6) | `Snapshot()` の RLock パスで snapshotCache クローン時の安全性コメント追加推奨。 |

### internal/config, ipc, install（3件）

| ID | ファイル | 提案 |
|----|---------|------|
| S-24 | [config_test.go](myT-x/internal/config/config_test.go#L162) | `TestLoadRejectsShellOutsideAllowlist` 等でエラーメッセージ内容を検証していない。同パターン: L183, L195, L241。 |
| S-25 | [protocol.go](myT-x/internal/ipc/protocol.go#L22) | `TmuxRequest.Flags` の型が `map[string]any` で型制約なし。任意の型が混入可能。 |
| S-26 | [shim_cleanup_windows.go](myT-x/internal/install/shim_cleanup_windows.go#L18) | `stalePathSubstring` がテスト用パターン `\Temp\TestEnsureShim` をハードコード。本番コードにテスト専用ロジックが含まれる。 |

### Frontend（5件）

| ID | ファイル | 提案 |
|----|---------|------|
| S-27 | [usePrefixKeyMode.ts](myT-x/frontend/src/hooks/usePrefixKeyMode.ts#L57) | keydown ハンドラが約100行。key→handler のマッピングオブジェクトに分離すると可読性向上。 |
| S-28 | [useTerminalEvents.ts](myT-x/frontend/src/hooks/useTerminalEvents.ts#L231) | eslint-disable の抑制コメントに除外している安定参照の具体名を明記推奨。 |
| S-29 | [ConfirmDialog.tsx](myT-x/frontend/src/components/ConfirmDialog.tsx#L84) | `onAction` の引数が `string` 型。リテラルユニオン型にすると型安全性向上。 |
| S-30 | [layout.css](myT-x/frontend/src/styles/layout.css#L100) | CSS変数のフォールバック値の有無が不統一。 |
| S-31 | [tmux.ts](myT-x/frontend/src/types/tmux.ts) | Go struct とフロントエンド型定義の整合性チェックをCIに追加推奨。 |

---

## Strengths（優れた設計・実装）

### 全体
- **フィールド数ガードテスト**: `reflect.TypeOf().NumField()` で構造体フィールド追加を自動検出する防御テストパターンが一貫して適用
- **デバッグログの統一プレフィックス**: `[DEBUG-SHIM]`, `[DEBUG-CONFIG]` 等、CLAUDE.md の方針に準拠

### App層
- ロック順序ドキュメント（`cfgSaveMu→cfgMu`, `snapshotDeltaMu→snapshotMu` 等）が明記
- テーブル駆動 `snapshotEventPolicies` で新イベント追加が1行で完結
- `CreateSession` のロールバックパターン（defer + 名前付き戻り値）
- CAS ガードによる `toggleQuakeWindow` の二重実行防止
- パニックリカバリ + 指数バックオフ（`startIdleMonitor`）
- スナップショットデルタ最適化（reflect.DeepEqual 排除、サイズ推定）
- `feedBytePool` の大バッファ廃棄（maxPoolBufSize 超過時に GC に委任）

### tmux-shim
- `runTransformSafe` + `cloneTransformRequest` によるパニックリカバリ&ロールバック機構
- `init()` + テストによる commandSpec/commandOrder 整合性の二重検証
- モデル変換の3段階構成: override > matchAll > fromTo
- シェル変換とモデル変換の独立2段パイプライン設計

### internal/tmux
- ロック戦略の明確な文書化（`REQUIRES` コメント、`*Locked/*RLocked` 命名規約）
- `ResolveTarget` のダブルチェックロッキングパターン
- ロールバックロジックの一貫した実装
- Terminal クロージャのロック外実行（デッドロック防止）
- 世代ベースのスナップショットキャッシュ
- コピーオンライト PaneEnv
- 環境変数のセキュリティ（blockedEnvironmentKeys、null バイト除去）

### Frontend
- hooks の4分割設計: useTerminalSetup / useTerminalEvents / useTerminalResize / useTerminalFontSize（SRP準拠）
- `EventsOn` のクリーンアップ: cancel 関数リストの逆順解除パターン
- IME composition の3点監視（compositionstart/end/blur）
- WebGL フォールバック: onContextLoss → DOM レンダラー切替（3重防御）
- RAF バッチ書き込み（pendingWrites + requestAnimationFrame）
- any を一切使わず `unknown` + 実行時ガードによる防御的型チェック
- memo の `areTerminalPanePropsEqual` のトレードオフ文書化

### テスト
- テーブル駆動テストの全ファイル一貫適用
- 関数変数インジェクション + `t.Cleanup` による安全なモック管理
- セキュリティテスト（symlink脱出、path traversal、null byte注入）
- `TestSnapshotEventPolicyConsistency` 等の invariant テスト
- `TestSaveConcurrentWrites` による並行書き込み安全性検証

---

## テストカバレッジギャップ（主要）

| 優先度 | 実装ファイル | 関数/メソッド | 説明 |
|--------|-------------|-------------|------|
| 高 | command_router_handlers_window.go | `handleNewWindow` | ターミナルアタッチ、-d フラグ、-P/-F 出力のテストなし |
| 高 | command_router_handlers_window.go | `handleKillWindow` | Terminal.Close 呼び出し、最後のウィンドウ削除時のセッション削除テストなし |
| 高 | command_router_handlers_window.go | `handleSelectWindow` | -t フラグ解決、pane-focused イベント発行テストなし |
| 高 | command_router_handlers_pane.go | `handleKillPane` | Terminal 二重 Close の検証なし |
| 高 | session_manager_pane_io.go | `SendSyncInput` | 専用テストなし |
| 中 | app_events.go | `emitBackendEvent` (app:activate-window) | bringWindowToFront 呼び出し検証なし |
| 中 | app_lifecycle.go | `configureGlobalHotkey` | 正常登録パスのテストなし |
| 中 | command_router_handlers_session.go | `handleShowEnvironment` | -g フラグの空返却テストなし |
| 中 | command_router_handlers_pane_test.go | `TestHandleResizePane` | 0/マイナス dimensions テストなし |

---

## タスク一覧と並列作業可否

以下は指摘事項を修正タスクとして整理した表です。並列作業の可否は、ファイル競合・依存関係を基に判定しています。

### Critical タスク

| タスクID | 対象 | 概要 | 並列作業 | 理由 |
|---------|------|------|:--------:|------|
| **T-C01** | internal/tmux/session_manager_panes.go | KillPane 後のペイン Index 再計算 | ✅ 可能 | 他タスクと独立したファイル |
| **T-C02** | cmd/tmux-shim/model_transform.go | loadAgentModelConfig キャッシュ設計メモ | ✅ 可能 | 設計文書のみ、他と競合なし |

### Important タスク

| タスクID | 対象 | 概要 | 並列作業 | 理由 |
|---------|------|------|:--------:|------|
| **T-I01** | app_pane_feed.go | startPaneFeedWorker にパニック再起動上限追加 | ✅ 可能 | 独立したファイル |
| **T-I02** | app_config_state.go | getConfigInternalUnsafe の安全性改善 | ✅ 可能 | 独立したファイル |
| **T-I03** | app_lifecycle.go | waitWithTimeout コメント追加 | ⚠️ T-I04と競合 | 同ファイル (app_lifecycle.go) |
| **T-I04** | app_lifecycle.go + app_config_api.go | startup() の flushPendingConfigLoadWarnings タイミング修正 | ⚠️ T-I03と競合 | app_lifecycle.go が共通 |
| **T-I05** | cmd/tmux-shim/command_transform.go | 二重 nil チェック初期化の整理 | ✅ 可能 | 独立したファイル |
| **T-I06** | cmd/tmux-shim/main.go | exitWithCode コメント追加 | ✅ 可能 | 独立したファイル |
| **T-I07** | ドキュメント | findOverrideModel の宣言順評価をドキュメント化 | ✅ 可能 | ドキュメントのみ |
| **T-I08** | cmd/tmux-shim/spec.go | new-session の -t フラグ対応検討 | ✅ 可能 | 独立した変更 |
| **T-I09** | internal/tmux/command_router_handlers_pane.go | handleKillPane/handleResizePane のライブポインタ競合対策 | ⚠️ T-I10と同時 | 同ファイル内の2箇所 |
| **T-I10** | internal/tmux/command_router_handlers_pane.go | handleResizePane のライブポインタ競合対策 | ⚠️ T-I09と同時 | T-I09と同一ファイル |
| **T-I11** | internal/tmux/format.go | formatSessionLine の二重展開除去 | ✅ 可能 | 独立したファイル |
| **T-I12** | internal/tmux/command_router.go | paneEnvView() の安全性改善 | ✅ 可能 | 独立したファイル |
| **T-I13** | internal/tmux/session_manager_targets.go | #{window_index} ドキュメント追加 | ✅ 可能 | 独立したファイル |
| **T-I14** | internal/ipc/protocol.go | DefaultPipeName 空ユーザー名フォールバック | ⚠️ T-I15と競合 | 同ファイル (protocol.go) |
| **T-I15** | internal/ipc/protocol.go | decodeRequest の Args nil 初期化統一 | ⚠️ T-I14と競合 | 同ファイル (protocol.go) |
| **T-I16** | frontend/src/stores/tmuxStore.ts | resolveSessionState の active_window_id 型ガード | ✅ 可能 | 独立したファイル |
| **T-I17** | frontend/src/components/settings/AgentModelSettings.tsx | バリデーションキーを ov.id ベースに変更 | ✅ 可能 | 独立したファイル |

### 並列作業グループ推奨

効率的に修正を行うための推奨グループ分けです：

| グループ | タスク | 作業者 | 備考 |
|---------|--------|--------|------|
| **Group A** (internal/tmux) | T-C01, T-I11, T-I12, T-I13 | 作業者1 | tmux パッケージ内の独立修正。T-I09/I10 はセットで対応 |
| **Group B** (App層) | T-I01, T-I02, T-I03+T-I04 | 作業者2 | App層ファイル。T-I03とT-I04は同ファイルのため順次 |
| **Group C** (tmux-shim) | T-I05, T-I06, T-I07, T-I08 | 作業者3 | shim パッケージの軽微修正 |
| **Group D** (ipc + Frontend) | T-I14+T-I15, T-I16, T-I17 | 作業者4 | protocol.go は順次、Frontend は並列 |
| **Group E** (tmux handlers) | T-I09+T-I10 | 作業者5 | 同一ファイル内の競合対策 |

---

## 推奨アクション

1. **最優先**: T-C01 (KillPane 後の Index 再計算) を修正する — 外部クライアントのペインターゲット解決に影響
2. **次点**: T-I01 (パニック再起動上限), T-I04 (config 警告タイミング), T-I09/I-10 (ライブポインタ競合)
3. **テスト拡充**: handleNewWindow, handleKillWindow, handleSelectWindow のハンドラーテスト追加
4. **任意**: Suggestion 項目は開発フェーズの進行に合わせて対応

---

*レビュー実施: 2026-02-18 23:31 JST*
*レビュー手法: 6並列カテゴリ別エージェント (App層, tmux-shim, internal/tmux, internal/config+ipc+install, Frontend, テスト品質)*
