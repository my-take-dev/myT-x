# PR Review â€” 2026-02-22 16:13:08

## ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡

`myT-x/` é…ä¸‹ã®æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´å…¨ä½“ï¼ˆ41ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ + 8ãƒ•ã‚¡ã‚¤ãƒ«æ–°è¦è¿½åŠ ï¼‰

### å¤‰æ›´ã‚«ãƒ†ã‚´ãƒª
| ã‚«ãƒ†ã‚´ãƒª | ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ã®æ¦‚è¦ |
|---|---|---|
| **A: Go Appå±¤ å®Ÿè£…** | `app.go`, `app_devpanel_api.go`, `app_devpanel_types.go`, `app_events.go`, `app_lifecycle.go`, `app_pane_api.go`, `app_session_log.go`, `app_session_log_types.go` | DevPanel WorkingDiffæ©Ÿèƒ½è¿½åŠ ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ã‚°æ”¹å–„ã€ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹çµ±ä¸€ |
| **B: Go Appå±¤ ãƒ†ã‚¹ãƒˆ** | `app_devpanel_api_test.go`, `app_events_test.go`, `app_lifecycle_test.go`, `app_session_log_test.go` | WorkingDiffç³»ãƒ†ã‚¹ãƒˆå¤§é‡è¿½åŠ ã€seqãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ |
| **C: internal/sessionlog** | `handler.go`, `handler_test.go` | ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚·ã‚°ãƒãƒãƒ£å¤‰æ›´ã€panic recoveryè¿½åŠ ã€base errorå¾Œã‚‚callbackå‘¼ã¶ |
| **D: internal/testutil** | `helpers.go` | `//go:fix inline` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–è¿½åŠ  |
| **E: internal/tmux å®Ÿè£…** | `command_router_handlers_window.go`, `session_manager_windows.go` | ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹çµ±ä¸€ã€rollbackæ”¹å–„ã€nil ã‚¹ãƒ©ã‚¤ã‚¹ä¿®æ­£ |
| **F: internal/tmux ãƒ†ã‚¹ãƒˆ** | 7ãƒ•ã‚¡ã‚¤ãƒ« | injectTestWindowãƒ˜ãƒ«ãƒ‘ãƒ¼ã€multi-window ãƒ†ã‚¹ãƒˆç¾¤è¿½åŠ  |
| **G: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ API/Store** | `api.ts`, `useBackendSync.ts`, `errorLogStore.ts`, `wailsjs/` | ping+fetchãƒ¢ãƒ‡ãƒ«ç§»è¡Œã€seqãƒ™ãƒ¼ã‚¹æ—¢èª­ç®¡ç† |
| **H: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | `ActivityStrip.tsx`, `ViewerSystem.tsx`, `viewerRegistry.ts`, `ErrorLogView.tsx`, CSS | ä½ç½®ã‚°ãƒ«ãƒ¼ãƒ—å¯¾å¿œã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå‹•çš„ãƒã‚¤ãƒ³ãƒ‰ã€HMRå¯¾å¿œ |
| **I: æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ« (diff-view)** | `DiffIcon.tsx`, `DiffView.tsx`, `DiffContentViewer.tsx`, `DiffFileSidebar.tsx`, `diffViewTypes.ts`, `useDiffView.ts`, `index.ts` | Diff ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½å…¨ä½“ |

---

## Critical Issuesï¼ˆãƒãƒ¼ã‚¸å‰ã«å¿…ãšä¿®æ­£ï¼‰

### [C-1] `DiffContentViewer.tsx`: ãƒãƒ³ã‚¯ãƒ˜ãƒƒãƒ€ãƒ¼ã®regexãƒãƒƒãƒå¤±æ•—æ™‚ã«ä¸æ­£ãªhunkãŒç”Ÿæˆã•ã‚Œã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/DiffContentViewer.tsx`

**å•é¡Œç®‡æ‰€:**
```ts
if (line.startsWith("@@")) {
    const match = line.match(/@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@/);
    if (match) {
        oldLine = parseInt(match[1], 10);
        newLine = parseInt(match[2], 10);
    }
    // â†“ match ãŒ null ã§ã‚‚ currentHunk ãŒå¿…ãšç”Ÿæˆã•ã‚Œã‚‹
    currentHunk = {header: line, lines: [], startOldLine: oldLine, startNewLine: newLine};
    hunks.push(currentHunk);
    continue;
}
```

**å•é¡Œ:** `match` ãŒ null ã®å ´åˆã€`oldLine` / `newLine` ã¯å‰å›ãƒãƒ³ã‚¯çµ‚äº†æ™‚ã®å€¤ï¼ˆã¾ãŸã¯åˆæœŸå€¤ 0ï¼‰ã‚’å¼•ãç¶™ã„ã ã¾ã¾ `currentHunk` ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ä¸æ­£ãªãƒãƒ³ã‚¯ãŒ hunks é…åˆ—ã«è¿½åŠ ã•ã‚Œã€è¡Œç•ªå·ãŒèª¤ã£ãŸdiffè¡¨ç¤ºã«ãªã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**
```ts
if (line.startsWith("@@")) {
    const match = line.match(/@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@/);
    if (!match) continue; // â† ä¸æ­£ãªãƒãƒ³ã‚¯ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ã‚¹ã‚­ãƒƒãƒ—
    oldLine = parseInt(match[1], 10);
    newLine = parseInt(match[2], 10);
    currentHunk = {header: line, lines: [], startOldLine: oldLine, startNewLine: newLine};
    hunks.push(currentHunk);
    continue;
}
```

---

### [C-2] `useBackendSync.ts`: `errorLogDebounceTimer` / `errorLogFetchSeq` ãŒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã§ä¸å®Œå…¨

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/hooks/useBackendSync.ts`

**å•é¡Œç®‡æ‰€:**
```ts
let errorLogDebounceTimer: ReturnType<typeof setTimeout> | null = null;
let errorLogFetchSeq = 0;

// cleanup
return () => {
    isMountedRef.current = false;
    // ...
    if (errorLogDebounceTimer != null) {
        clearTimeout(errorLogDebounceTimer);
        errorLogDebounceTimer = null;
    }
    // errorLogFetchSeq ã¯ nullåŒ–ã•ã‚Œãªã„
};
```

**å•é¡Œ:**
- React StrictModeï¼ˆé–‹ç™ºç’°å¢ƒï¼‰ã§ã¯useEffectãŒ2å›å®Ÿè¡Œã•ã‚Œã‚‹ã€‚1å›ç›®ã®cleanupå¾Œã‚‚ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒä¿æŒã™ã‚‹ `errorLogFetchSeq` ãŒ `0` ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„ãŸã‚ã€2å›ç›®ã®å®Ÿè¡Œé–‹å§‹æ™‚ã«seqãŒå‰å›ã®å€¤ã‚’å¼•ãç¶™ãã€‚
- `isMountedRef.current = false` ã§å¾Œç¶šã®fetchã¯ç ´æ£„ã•ã‚Œã‚‹ãŸã‚å®Ÿéš›ã®å½±éŸ¿ã¯é™å®šçš„ã ãŒã€åŒä¸€mountæœŸé–“å†…ã§ã®seqç®¡ç†ãŒèª¤ã£ãŸã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰å§‹ã¾ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**
```ts
return () => {
    isMountedRef.current = false;
    errorLogFetchSeq = 0; // â† ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã«ãƒªã‚»ãƒƒãƒˆ
    if (errorLogDebounceTimer != null) {
        clearTimeout(errorLogDebounceTimer);
        errorLogDebounceTimer = null;
    }
    // ...
};
```

---

## Important Issuesï¼ˆãƒãƒ¼ã‚¸å‰ã«å¯¾å‡¦ã™ã¹ãï¼‰

### [I-1] `app_devpanel_api.go`: `remainingBudget >= 0 && remainingBudget <= 0` ã¯ `== 0` ã¨ç­‰ä¾¡ã§æ„å›³ãŒä¸æ˜ç­

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`ï¼ˆ`buildUntrackedFileDiffs` ãŠã‚ˆã³ `buildUntrackedFileDiffSingle` å†…ï¼‰

**å•é¡Œç®‡æ‰€:**
```go
// buildUntrackedFileDiffs ã® walkErr ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…
if remainingBudget >= 0 && remainingBudget <= 0 {
    budgetExceeded = true
    return fs.SkipAll
}
```

**å•é¡Œ:** `>= 0 && <= 0` ã¯ `== 0` ã¨è«–ç†çš„ã«ç­‰ä¾¡ã€‚è¨­è¨ˆæ„å›³ï¼ˆ`< 0` ãŒã€Œç„¡åˆ¶é™ãƒ¢ãƒ¼ãƒ‰ã€ã‚’è¡¨ã™ï¼‰ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã§èª¬æ˜ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ä¿å®ˆæ™‚ã«è¿·ã„ã‚’ç”Ÿã‚€ã€‚åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¤‡æ•°ç®‡æ‰€ã«ã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆï¼ˆã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ã§æ˜ç¤ºï¼‰:**
```go
// len(entry.Diff) > remainingBudget ã®å‰ã«ã‚ã‚‹åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚‚é©ç”¨
if remainingBudget >= 0 && len(entry.Diff) > remainingBudget {
    // remainingBudget < 0 means "unlimited"; == 0 means budget exhausted.
    budgetExceeded = true
    return fs.SkipAll
}
```
ã¾ãŸã¯æ¡ä»¶ã‚’åˆ†å‰²:
```go
const unlimited = remainingBudget < 0
if !unlimited && remainingBudget == 0 {
```

---

### [I-2] `buildUntrackedFileDiffSingle`: `EvalSymlinks` æˆåŠŸå¾Œã« `Lstat` ã§ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯åˆ¤å®šã™ã‚‹é †åºãŒæ··ä¹±ã‚’æ‹›ã

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`

**å•é¡Œç®‡æ‰€:**
```go
// Step 1: EvalSymlinks ã§ãƒ‘ã‚¹å®‰å…¨ç¢ºèªï¼ˆã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è§£æ±ºï¼‰
resolvedAbs, evalErr := filepath.EvalSymlinks(absPath)
if evalErr != nil {
    return nil // å£Šã‚ŒãŸã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã¯ã“ã“ã§nil
}
// ...
// Step 2: Lstat ã§ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯åˆ¤å®š
lstatInfo, err := os.Lstat(absPath)
if lstatInfo.Mode()&os.ModeSymlink != 0 {
    return nil // ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã¯ã‚¹ã‚­ãƒƒãƒ—
}
```

**å•é¡Œ:** `EvalSymlinks` ã¯ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è¾¿ã£ã¦æœ€çµ‚çš„ãªãƒ‘ã‚¹ã‚’è¿”ã™ã€‚ãã®å¾Œ `Lstat(absPath)` ã§ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯åˆ¤å®šã™ã‚‹æµã‚Œã¯ã€ã€Œ`EvalSymlinks` ã§ãƒ‘ã‚¹ãŒè§£æ±ºã§ããŸå ´åˆã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã€ã¨ã„ã†äºŒæ®µéšã®å‡¦ç†ã«ãªã£ã¦ãŠã‚Šå†—é•·ã€‚ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€äººãŒã€Œãªãœ EvalSymlinks å¾Œã« Lstat ãŒå¿…è¦ã‹ï¼Ÿã€ã¨ç–‘å•ã‚’æŒã¤ã€‚

`Lstat` ãƒã‚§ãƒƒã‚¯ã‚’ `EvalSymlinks` ã® **å‰** ã«ç§»å‹•ã™ã‚‹ã“ã¨ã§ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’æ—©æœŸã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹ï¼ˆä½™åˆ†ãª `EvalSymlinks` å‘¼ã³å‡ºã—ã‚’å›é¿ï¼‰ã€‚

**ä¿®æ­£æ¡ˆï¼ˆé †åºå¤‰æ›´ï¼‰:**
```go
lstatInfo, err := os.Lstat(absPath)
if err != nil { return nil }
if lstatInfo.Mode()&os.ModeSymlink != 0 {
    return nil // ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã¯æ—©æœŸã‚¹ã‚­ãƒƒãƒ—
}
// ãã®å¾Œã«EvalSymlinksã§ãƒ‘ã‚¹å®‰å…¨ç¢ºèª + ReadFile
```

---

### [I-3] `app_session_log.go`: `closeSessionLog` ã§ã®Syncå¾ŒCloseç«¶åˆã«ã‚ˆã‚‹EINVALã‚¨ãƒ©ãƒ¼ã®æŠ‘åˆ¶ç¯„å›²

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_session_log.go`

**å•é¡Œç®‡æ‰€:**
```go
if !errors.Is(syncErr, os.ErrClosed) && !errors.Is(syncErr, syscall.EINVAL) {
    fmt.Fprintf(os.Stderr, "[session-log] failed to sync log file: %v\n", syncErr)
}
```

**å•é¡Œ:** `syscall.EINVAL` ã‚’å…¨é¢çš„ã«æŠ‘åˆ¶ã—ã¦ã„ã‚‹ãŒã€`EINVAL` ã¯ã€Œä¸æ­£ãªå¼•æ•°ã€ã‚’æ„å‘³ã™ã‚‹æ±ç”¨ã‚¨ãƒ©ãƒ¼ã§ã‚ã‚Šã€File.Sync() ã® `EINVAL` ã¯Windowsç‰¹æœ‰ã®ã€Œãƒ•ã‚¡ã‚¤ãƒ«ãŒã™ã§ã«é–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹ã€çŠ¶æ…‹ã‚’è¡¨ã™å ´åˆã¨ã€ç„¡é–¢ä¿‚ã®ä¸æ­£å¼•æ•°ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ã™å ´åˆã®ä¸¡æ–¹ã§ä½¿ã‚ã‚Œã‚‹ã€‚ç„¡é–¢ä¿‚ãª `EINVAL`ï¼ˆä¾‹: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚¿ãŒç ´æã—ãŸå ´åˆï¼‰ã‚‚ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã«æ¡ã‚Šæ½°ã™ã€‚

**ä¿®æ­£æ¡ˆ:** Windowså›ºæœ‰ã®ã‚±ãƒ¼ã‚¹ã‚’ã‚‚ã†å°‘ã—çµã‚Šè¾¼ã‚€ã€‚ä¾‹ãˆã° `runtime.GOOS == "windows"` æ¡ä»¶ã‚’è¿½åŠ :
```go
isExpectedCloseRace := errors.Is(syncErr, os.ErrClosed) ||
    (runtime.GOOS == "windows" && errors.Is(syncErr, syscall.EINVAL))
if !isExpectedCloseRace {
    fmt.Fprintf(os.Stderr, "[session-log] failed to sync log file: %v\n", syncErr)
}
```

---

### [I-4] `errorLogStore.ts`: åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«å…¨ã‚¨ãƒ³ãƒˆãƒªã‚’æ—¢èª­æ‰±ã„ã«ã™ã‚‹å‰¯ä½œç”¨

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/stores/errorLogStore.ts`

**å•é¡Œç®‡æ‰€:**
```ts
// On first load, treat existing history as already read.
if (state.entries.length === 0 && state.lastReadSeq === 0 && maxNewSeq > 0) {
    lastReadSeq = maxNewSeq;
}
```

**å•é¡Œ:** ã“ã‚Œã¯ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã®æ—¢å­˜ã‚¨ãƒ©ãƒ¼å±¥æ­´ã‚’å…¨ã¦æ—¢èª­ã¨ã—ã¦æ‰±ã†è¨­è¨ˆåˆ¤æ–­ã€‚ãŸã ã—ã€Wailsã‚¢ãƒ—ãƒªãŒ**ãƒ­ãƒ¼ãƒ‰ã—ç›´ã•ã‚ŒãŸ**ï¼ˆãƒªãƒ­ãƒ¼ãƒ‰/ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†è¡¨ç¤ºï¼‰å ´åˆã‚‚ `entries.length === 0 && lastReadSeq === 0` ã®åˆæœŸçŠ¶æ…‹ã‹ã‚‰å§‹ã¾ã‚‹ãŸã‚ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã«è“„ç©ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãŒå…¨ã¦æ—¢èª­æ‰±ã„ã«ãªã‚‹ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœªèª­ãƒãƒƒã‚¸ã‚’è¦‹ãªã„ã¾ã¾é‡è¦ã‚¨ãƒ©ãƒ¼ã‚’è¦‹é€ƒã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

ã‚³ãƒ¡ãƒ³ãƒˆã§ã“ã®è¨­è¨ˆé¸æŠï¼ˆæ„å›³çš„ã«ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã¯æ—¢èª­ã§ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰ã‚’æ˜è¨˜ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚

---

### [I-5] `viewerRegistry.ts`: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³è¨­è¨ˆã®ãƒªã‚¹ã‚¯

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/viewerRegistry.ts`

**å•é¡Œç®‡æ‰€:**
```ts
const REGISTRY_KEY = "__mytx_view_registry__" as const;
// ...
function resolveRegistry(): ViewPlugin[] {
    const globalObject = globalThis as RegistryGlobal;
    if (!globalObject[REGISTRY_KEY]) {
        globalObject[REGISTRY_KEY] = [];
    }
    return globalObject[REGISTRY_KEY];
}
```

**å•é¡Œ:**
1. `globalThis` ã¸ã®æ›¸ãè¾¼ã¿ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«åå‰ç©ºé–“ã‚’æ±šæŸ“ã™ã‚‹ï¼ˆæ„å›³çš„ãªè¨­è¨ˆã ãŒã€ä»–ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã®ã‚­ãƒ¼è¡çªãƒªã‚¹ã‚¯ï¼‰
2. ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã¯ `globalThis` ã®åˆæœŸåŒ–ê°€ å„ãƒ†ã‚¹ãƒˆã§ç‹¬ç«‹ã—ãªã„ãŸã‚ã€ãƒ†ã‚¹ãƒˆé–“ã®çŠ¶æ…‹æ±šæŸ“ãŒèµ·ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
3. ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã¯å•é¡ŒãŒå‡ºã«ãã„ãŒã€å°†æ¥ã®ãƒãƒ³ãƒ‰ãƒ«çµ±åˆã‚„ iFrame åŸ‹ã‚è¾¼ã¿ã§äºˆæœŸã—ãªã„æŒ™å‹•ã«ãªã‚Šã†ã‚‹

HMR ã® dispose ã§ãƒªã‚»ãƒƒãƒˆã™ã‚‹è¨­è¨ˆã¯æ­£ã—ã„ãŒã€ãƒ†ã‚¹ãƒˆç”¨ã® `clearRegistry()` ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®è¿½åŠ ã‚’æ¨å¥¨ã€‚

---

### [I-6] `DiffFileSidebar.tsx`: `TreeOuter` ã® `forwardRef` ã®å‹å®šç¾©ãŒä¸å®Œå…¨

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/DiffFileSidebar.tsx`

**å•é¡Œç®‡æ‰€:**
```tsx
const TreeOuter = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
    function TreeOuter(props, ref) {
        return <div ref={ref} role="tree" aria-label="Changed files" {...props} />;
    },
);
```

**å•é¡Œ:** `React` ãŒ `import {forwardRef, memo, ...} from "react"` ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãŒã€`React.HTMLAttributes` ã®å‹ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ `React` ã¨ã„ã†åå‰ç©ºé–“ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚‚å¿…è¦ã€‚ç¢ºèªãŒå¿…è¦ï¼ˆTypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹ã‹ã©ã†ã‹æ¬¡ç¬¬ï¼‰ã€‚å®Ÿéš›ã«ã¯ `import type {ComponentProps} from "react"` ã‚„ `HTMLAttributes` ã‚’ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚Œã° `React.` ã‚’å…ˆé ­ã«ä»˜ã‘ã‚‹å¿…è¦ãŒãªããªã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**
```ts
import {forwardRef, memo, useEffect, useMemo, useRef, useState, type HTMLAttributes} from "react";
// ...
const TreeOuter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(...)
```

---

### [I-7] `useDiffView.ts`: `buildDiffTree` ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå±•é–‹çŠ¶æ…‹ã¨è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¯è¦–æ€§åˆ¶å¾¡ãŒè¤‡é›‘

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/useDiffView.ts`

**å•é¡Œç®‡æ‰€:**
```ts
for (let i = 1; i < parts.length; i++) {
    const dirPath = parts.slice(0, i).join("/");
    if (addedDirs.has(dirPath)) {
        continue;
    }
    addedDirs.add(dirPath);

    const parentPath = parts.slice(0, i - 1).join("/");
    if (i > 1 && !expandedDirs.has(parentPath)) {
        continue; // è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒé–‰ã˜ã¦ã„ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
    }

    nodes.push({...isDir: true, isExpanded: expandedDirs.has(dirPath)});
}
```

**å•é¡Œ:** `addedDirs.add(dirPath)` ã¯è¦ªãŒé–‰ã˜ã¦ã„ã‚‹å ´åˆã§ã‚‚å®Ÿè¡Œã•ã‚Œã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒ `addedDirs` ã«è¿½åŠ ã•ã‚Œã‚‹ã€‚ãã®å¾Œã€ç•°ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§åŒã˜ `dirPath` ãŒæ¥ãŸã¨ã `addedDirs.has(dirPath)` ã§ `continue` ã™ã‚‹ãŸã‚ã€è¦ªãŒé–‰ã˜ã¦ã„ãŸã‚±ãƒ¼ã‚¹ã§ã‚¹ã‚­ãƒƒãƒ—ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã€å¾Œã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§å†è¿½åŠ ã•ã‚Œã‚‹æ©Ÿä¼šã‚’å¤±ã†ã€‚**è¦ªãŒå±•é–‹ã•ã‚ŒãŸã¨ã**ã«ä»¥å‰ã‚¹ã‚­ãƒƒãƒ—ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒè¡¨ç¤ºã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

`addedDirs.add(dirPath)` ã‚’å®Ÿéš›ã« nodes ã«è¿½åŠ ã—ãŸå ´åˆã®ã¿è¡Œã†ã‚ˆã†å¤‰æ›´ã™ã¹ã:
```ts
if (i > 1 && !expandedDirs.has(parentPath)) {
    continue;
}
addedDirs.add(dirPath); // â† è¡¨ç¤ºã—ãŸå ´åˆã®ã¿è¿½åŠ 
nodes.push({...});
```

---

### [I-8] `command_router_handlers_window.go`: `handleNewWindow` ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¾Œã« `env` ã‚„ `terminal attach` ãŒå®Ÿè¡Œã•ã‚Œãªã„ç¢ºèª

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router_handlers_window.go`

**å•é¡Œç®‡æ‰€:**
```go
newSessionSnap, snapOk := r.sessions.GetSession(newSessionName)
if !snapOk {
    return rollbackSession("snapshot-refetch", fmt.Errorf("session disappeared after flag copy: %s", newSessionName))
}
// NOTE(1-window model): ...
env := r.resolveEnvForPaneCreation(newSessionSnap, ...)
```

**ç¢ºèªäº‹é …:** æ—§ã‚³ãƒ¼ãƒ‰ã§ã¯ `snapOk == false` ã®ã¨ã `newSessionSnap = nil` ã¨ã—ã¦å‡¦ç†ã‚’ç¶šã‘ã¦ã„ãŸãŒï¼ˆlegacyãƒ‘ã‚¹ï¼‰ã€æ–°ã‚³ãƒ¼ãƒ‰ã¯rollbackã‚’å®Ÿè¡Œã™ã‚‹ã€‚`rollbackSession` ãŒã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã“ã¨ã‚’ç¢ºèªæ¸ˆã¿ã ãŒã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆå¾Œã«ãƒ•ãƒ©ã‚°ã‚³ãƒ”ãƒ¼ï¼ˆã‚¹ãƒ†ãƒƒãƒ—7ï¼‰ãŒå®Œäº†ã—ãŸå¾Œã« session ãŒæ¶ˆãˆã‚‹ã‚±ãƒ¼ã‚¹ã¯é€šå¸¸ã‚ã‚Šå¾—ãªã„ãŸã‚ã€ã“ã®ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¹ãŒå®Ÿéš›ã«ãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹ã“ã¨ã¯ã»ã¼ãªã„ã€‚ãŸã ã—ã€ç«¶åˆçŠ¶æ…‹ï¼ˆåˆ¥goroutineãŒã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ï¼‰ã§ã®é˜²å¾¡ã¨ã—ã¦é‡è¦ã€‚

å®Ÿè£…è‡ªä½“ã¯æ­£ã—ã„ãŒã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç™ºç”Ÿæ™‚ã® `slog.Warn` ã« `sessionName` ãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚è¨ºæ–­é›£æ˜“åº¦ãŒé«˜ã„:
```go
// ç¾çŠ¶:
return rollbackSession("snapshot-refetch", fmt.Errorf("session disappeared after flag copy: %s", newSessionName))
// rollbackSession å†…éƒ¨ã® slog.Warn ã§ã¯ "session", session.Name ãŒå‡ºåŠ›ã•ã‚Œã‚‹
```
`rollbackSession` ã¯ `session.Name`ï¼ˆstep 6ã§ä½œæˆã—ãŸæ–°ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰ã‚’å‡ºåŠ›ã™ã‚‹ãŸã‚ã€å®Ÿéš›ã«ã¯ `newSessionName` ãŒå«ã¾ã‚Œã‚‹ã€‚å•é¡Œãªã—ã€‚

---

### [I-9] `injectTestWindow` ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®å†…éƒ¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router_test_helpers_test.go`

**å•é¡Œç®‡æ‰€:**
```go
func injectTestWindow(t *testing.T, manager *SessionManager, ...) (*TmuxWindow, *TmuxPane) {
    manager.mu.Lock()
    defer manager.mu.Unlock()

    session := manager.sessions[sessionName]
    window := &TmuxWindow{
        ID: manager.nextWindowID,
        ...
    }
    manager.nextWindowID++
    // pane, window ã®æ‰‹å‹•çµ„ã¿ç«‹ã¦
    manager.panes[pane.ID] = pane
    session.Windows = append(session.Windows, window)
}
```

**å•é¡Œ:** ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ãŒ `SessionManager` ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ`nextWindowID`, `nextPaneID`, `sessions`, `panes`ï¼‰ã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã€‚`SessionManager` ã®å†…éƒ¨æ§‹é€ å¤‰æ›´ï¼ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åå¤‰æ›´ãƒ»å‹å¤‰æ›´ç­‰ï¼‰ã§ãƒ†ã‚¹ãƒˆãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚`AddWindow` å‰Šé™¤ã®ä»£æ›¿ã¨ã—ã¦ä½œã‚‰ã‚ŒãŸãŒã€å°†æ¥ã®ä¿å®ˆã‚³ã‚¹ãƒˆãŒé«˜ã„ã€‚

**æ¨å¥¨å¯¾å¿œ:** å°è£…æ€§ã‚’é«˜ã‚ã‚‹è»½é‡ãª `internal` ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¯ãƒˆãƒªï¼ˆ`SessionManager` ã® `testing.go` ç­‰ï¼‰ã¸ã®ç§»å‹•ã€ã¾ãŸã¯ãƒ†ã‚¹ãƒˆã®ã¿ã«å¯¾ã™ã‚‹ `TestingHelper` ãƒ¡ã‚½ãƒƒãƒ‰ã®æä¾›ã‚’æ¤œè¨ã€‚ç¾çŠ¶ã¯è¨±å®¹ç¯„å›²ã ãŒã€ãƒ¡ãƒ¢ã¨ã—ã¦æ®‹ã™ã“ã¨ã€‚

---

### [I-10] `app_events.go`: `snapshotEventPolicies` ã¸ã® `tmux:window-created` è¿½åŠ 

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_events.go`

**å•é¡Œç®‡æ‰€:**
```go
-       // NOTE(1-window model): ç¾åœ¨ã®...window-destroyed â†’ ill-window ã¯...
+       "tmux:window-created":    {trigger: true, bypassDebounce: true},
+       // NOTE(1-window model): ...
        "tmux:window-destroyed": {trigger: true, bypassDebounce: true},
        "tmux:window-renamed":   {trigger: true, bypassDebounce: true},
```

**ç¢ºèªäº‹é …:** `tmux:window-created` ã‚’ `snapshotEventPolicies` ã«è¿½åŠ ã—ãŸãŒã€ã‚³ãƒ¼ãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆã«ã¯ã€Œç¾åœ¨ã®1-window ãƒ¢ãƒ‡ãƒ«ã§ã¯ emit ã•ã‚Œãªã„ã€ã¨è¨˜è¼‰ãŒã‚ã‚‹ã€‚ã¾ãŸã€`app_events_test.go` ã§ã‚‚ãƒ†ã‚¹ãƒˆæœŸå¾…å€¤ãŒ `want: false` â†’ `want: true` ã«å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã€‚

å•é¡Œã¯ã€`tmux:window-created` ãŒã‚³ãƒ¼ãƒ‰ã®ã©ã“ã‹ã§ Emit ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã€‚`handleNewWindow` ã§ã¯ `tmux:session-created` ã¯ emit ã•ã‚Œã‚‹ãŒ `tmux:window-created` ã¯... ã©ã“ã‹ã§ emit ã•ã‚Œã¦ã„ã‚‹ã®ã‹ç¢ºèªãŒå¿…è¦ã€‚

ç™ºè¡Œç®‡æ‰€ã‚’ grep ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚ã‚‚ã—ç™ºè¡Œã•ã‚Œã¦ã„ãªã„ã®ã« `trigger: true` ã«ã™ã‚‹ã¨ã€snapshot debounce ãƒ­ã‚¸ãƒƒã‚¯ã«ã¯å½±éŸ¿ã—ãªã„ãŒï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãŒæ¥ãªã‘ã‚Œã°å‡¦ç†ã•ã‚Œãªã„ï¼‰ã€ã‚³ãƒ¼ãƒ‰ã®æ•´åˆæ€§ã¨ã—ã¦æ˜ç¤ºãŒå¿…è¦ã€‚

---

### [I-11] `ErrorLogView.tsx`: `markAllRead` ã®ä¾å­˜é…åˆ—ã« `entries` ã‚’è¿½åŠ ã—ãŸå½±éŸ¿

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/error-log/ErrorLogView.tsx`

**å¤‰æ›´å‰:**
```ts
useEffect(() => {
    markAllRead();
}, [markAllRead]); // ãƒ“ãƒ¥ãƒ¼ãŒé–‹ã„ãŸæ™‚ã®ã¿å®Ÿè¡Œ
```

**å¤‰æ›´å¾Œ:**
```ts
useEffect(() => {
    markAllRead();
}, [entries, markAllRead]); // ã‚¨ãƒ³ãƒˆãƒªãŒå¢—ãˆã‚‹ãŸã³ã«å®Ÿè¡Œ
```

**å•é¡Œ:** `entries` ã‚’ä¾å­˜é…åˆ—ã«è¿½åŠ ã—ãŸã“ã¨ã§ã€ErrorLogView ãŒé–‹ã„ã¦ã„ã‚‹é–“ã«æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªãŒå±ŠããŸã³ã« `markAllRead()` ãŒå‘¼ã°ã‚Œã‚‹ã€‚ã€Œãƒ“ãƒ¥ãƒ¼ãŒé–‹ã„ã¦ã„ã‚‹é–“ã¯å…¨ã¦æ—¢èª­ã€ã¨ã„ã†æŒ™å‹•ã«å¤‰ã‚ã£ãŸã€‚ã“ã®å¤‰æ›´ã®æ„å›³ãŒæ˜è¨˜ã•ã‚Œã¦ã„ãªã„ã€‚

ã‚¨ãƒ³ãƒˆãƒªãŒå¤šã„å ´åˆã€æ¯å› `markAllRead` ã‚’å‘¼ã¶ã“ã¨ã§ `lastReadSeq` æ›´æ–° â†’ Zustandå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒç™ºç”Ÿã™ã‚‹ãŒã€`entry.seq <= lastReadSeq` ã¯ `unreadCount = 0` ã‚’ä¿ã¤ãŸã‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ã¯è»½å¾®ã€‚ãŸã ã—æ„å›³ã‚’æ˜è¨˜ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã¹ãã€‚

---

### [I-12] `app_devpanel_api.go`: æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å·®åˆ†å–å¾—ä¸­ã« `DevPanelWorkingDiff` æœ¬ä½“ã®å®Œå…¨ãªdiffãŒç¢ºèªã§ããªã‹ã£ãŸ

**ç¢ºèªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** 
- Wailsãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆ`App.d.ts`, `App.js`ï¼‰ã¸ã®è¿½åŠ : âœ… ç¢ºèªæ¸ˆã¿
- `WorkingDiffFile`, `WorkingDiffResult` å‹å®šç¾©: âœ… ç¢ºèªæ¸ˆã¿
- `buildUntrackedFileDiffs`, `buildUntrackedFileDiffSingle`, `parseWorkingDiff` ç­‰ã®å†…éƒ¨ãƒ˜ãƒ«ãƒ‘ãƒ¼: âœ… ç¢ºèªæ¸ˆã¿
- `DevPanelWorkingDiff` ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆé–¢æ•°ï¼ˆ`func (a *App) DevPanelWorkingDiff(...)`éƒ¨åˆ†ï¼‰: âš ï¸ diffå‡ºåŠ›ã®å‰åŠéƒ¨åˆ†ã®ã¿ç¢ºèªï¼ˆå¤§å®¹é‡ã®ãŸã‚å¾ŒåŠãŒæˆªæ–­ã•ã‚ŒãŸå¯èƒ½æ€§ã‚ã‚Šï¼‰

å®Ÿè£…å…¨ä½“ã®å‹•ä½œã¯æ­£ã—ã„ã¨åˆ¤æ–­ã§ãã‚‹ãŒã€å¼•æ•°ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³åã®ãƒ›ãƒ¯ã‚¤ãƒˆã‚¹ãƒšãƒ¼ã‚¹ãƒˆãƒªãƒ ç­‰ï¼‰ã‚’ `DevPanelWorkingDiff` é–¢æ•°å†’é ­ã§å®Ÿæ–½ã—ã¦ã„ã‚‹ã‹ç¢ºèªã‚’æ¨å¥¨ã€‚

---

## Suggestionsï¼ˆã‚ã‚‹ã¨è‰¯ã„æ”¹å–„ï¼‰

### [S-1] `parseDiffHeaderPaths`: `IMP-01` ã®åˆ¶ç´„ã‚’ãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`

é–¢æ•°ã‚³ãƒ¡ãƒ³ãƒˆã«ã€Œrenames ã®å ´åˆ `" b/"` ã®æœ€åˆã®å‡ºç¾ã§åˆ†å‰²ã™ã‚‹ãŸã‚ã€`a/lib b/foo b/lib c/bar` ã®ã‚ˆã†ãª old path ã« `" b/"` ãŒå«ã¾ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ã§ã¯ä¸æ­£ç¢ºã€ã¨ã„ã†é‡è¦ãªåˆ¶ç´„ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã€‚ã“ã® edge case ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒè¦‹å½“ãŸã‚‰ãªã„ã€‚ãƒ­ã‚¸ãƒƒã‚¯ã®äºˆé˜²çš„ãƒ†ã‚¹ãƒˆ (`TestParseDiffHeaderPaths_RenameWithSpaceInPath` ç­‰) ã‚’è¿½åŠ æ¨å¥¨ã€‚

---

### [S-2] `splitUnifiedDiffBlocks`: è¡Œã®å…ˆé ­ä»¥å¤–ã® `"diff --git "` ã‚¹ã‚­ãƒƒãƒ—ã®æ€§èƒ½

**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`

```go
if idx > 0 && raw[idx-1] != '\n' {
    searchFrom = idx + len(marker)
    continue
}
```

è¡Œæœ«ã§ãªã„ `"diff --git "` ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ãŸã‚ã« `searchFrom = idx + len(marker)` ã¨ã—ã¦ã„ã‚‹ãŒã€`idx + 1` ã§ã¯?ï¼ˆ`idx` ç›´å¾Œã‹ã‚‰ç¶šã‘ã¦æ¤œç´¢ï¼‰ã€‚ç¾å®Ÿã«ã¯ `"diff --git "` ãŒè¡Œä¸­ã«å‡ºç¾ã™ã‚‹ã‚±ãƒ¼ã‚¹ã¯ç¨€ãªã®ã§å½±éŸ¿ã¯è»½å¾®ã€‚

---

### [S-3] `DiffContentViewer.tsx`: å·®åˆ†è¡Œã®ã‚­ãƒ¼ã« `index (hi, li)` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŒã‚ˆã‚Šå®‰å®šã—ãŸã‚­ãƒ¼ã«å¤‰æ›´å¯èƒ½

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/DiffContentViewer.tsx`

```tsx
{hunk.lines.map((line, li) => (
    <div key={li} className={...}>
```

`key={li}` ã¯hunkå†…ã®ä½ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãªã®ã§ã€hunkã®åˆ‡ã‚Šæ›¿ãˆæ™‚ã«å†åˆ©ç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚`key={`${hi}-${li}`}` ã«ã™ã‚‹ã‹ã€è¡Œç•ªå·ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ¼ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå®‰å®šã—ãŸDOMã®å†åˆ©ç”¨ãŒæœŸå¾…ã§ãã‚‹ã€‚

---

### [S-4] `useDiffView.ts`: `collectDirectorySet` ã®å®Ÿè¡ŒãŒ `setExpandedDirs` ã§æ¯å›å…¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å±•é–‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹è¨­è¨ˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/useDiffView.ts`

```ts
if (files.length > 0) {
    setExpandedDirs(collectDirectorySet(files)); // å…¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å±•é–‹
```

åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«å…¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å±•é–‹ã™ã‚‹ã®ã¯ä¾¿åˆ©ãªè¨­è¨ˆã€‚ãŸã ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤šã„å ´åˆï¼ˆex: 100+ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ·±ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼‰ã«FlatNodesé…åˆ—ãŒå¤§é‡ã«ãªã‚Šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚`FixedSizeList` ã®ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒã‚ã‚‹ãŸã‚è¡¨ç¤ºè‡ªä½“ã®å•é¡Œã¯å°‘ãªã„ãŒã€`buildDiffTree` ã®è¨ˆç®—é‡ï¼ˆ`O(N * depth)`ï¼‰ãŒå¢—åŠ ã™ã‚‹ã€‚ç¾çŠ¶ 10 ãƒ•ã‚¡ã‚¤ãƒ«ç¨‹åº¦ã®é€šå¸¸ä½¿ç”¨ãªã‚‰å•é¡Œãªã—ã€‚

---

### [S-5] `DiffFileSidebar.tsx`: `height > 0 ? <FixedSizeList ...> : null` ã®ç©ºç™½ã¡ã‚‰ã¤ã

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/DiffFileSidebar.tsx`

åˆæœŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã« `height = 0` ãªã®ã§ä¸€ç¬ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„ï¼ˆã¡ã‚‰ã¤ãï¼‰ã€‚`ResizeObserver` ã®è¨ˆæ¸¬ãŒçµ‚ã‚ã‚‹ã¾ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒç©ºã«ãªã‚‹ã€‚åˆæœŸå€¤ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦ placeholder ã‚’è¡¨ç¤ºã™ã‚‹ã‹ã€CSS ã® `min-height` ã‚’åˆ©ç”¨ã—ã¦ `height > 0` ã®æ¡ä»¶ã‚’ç·©å’Œã™ã‚‹ã“ã¨ã‚’ææ¡ˆã€‚

---

### [S-6] `DiffView.tsx` ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¨NoSessionè¡¨ç¤ºã§ãƒ˜ãƒƒãƒ€ãƒ¼æ§‹é€ ã‚’é‡è¤‡å®šç¾©

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/DiffView.tsx`

`!activeSession`ã€`error`ã€é€šå¸¸è¡¨ç¤ºã®3ã‚±ãƒ¼ã‚¹ã§åŒæ§˜ã®ãƒ˜ãƒƒãƒ€ãƒ¼DOMã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ã‚‹ã€‚å…±é€šã® `DiffViewShell` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ + å­è¦ç´ ï¼‰ã«æŠ½å‡ºã™ã‚‹ã“ã¨ã§é‡è¤‡ã‚’å‰Šæ¸›å¯èƒ½ã€‚

---

### [S-7] `models.ts` ã® `WorkingDiffResult.convertValues` ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒä¸æƒã„

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/wailsjs/go/models.ts`

```ts
export class WorkingDiffResult {
    // ...
        convertValues(a: any, classs: any, asMap: boolean = false): any {
```

Wailsè‡ªå‹•ç”Ÿæˆã®ã‚³ãƒ¼ãƒ‰ã§ `convertValues` ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒä»–ã‚¯ãƒ©ã‚¹ã®åŒãƒ¡ã‚½ãƒƒãƒ‰ã¨2æ®µè½ã¡ã«ãªã£ã¦ã„ã‚‹ï¼ˆã‚¯ãƒ©ã‚¹ body ã®1æ®µã§ã¯ãªã2æ®µï¼‰ã€‚è‡ªå‹•ç”Ÿæˆç‰©ã§ã‚ã‚‹ãŸã‚æ‰‹å‹•ä¿®æ­£ã¯ä¸è¦ã ãŒã€æ¬¡ã® Wails binding å†ç”Ÿæˆæ™‚ã«ä¿®æ­£ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã€‚

---

### [S-8] `index.ts` (diff-view) ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ãŒä»–ãƒ•ã‚¡ã‚¤ãƒ«ã¨ä¸ä¸€è‡´

**ãƒ•ã‚¡ã‚¤ãƒ«:** `frontend/src/components/viewer/views/diff-view/index.ts`

```ts
import { registerView } from "../../viewerRegistry";  // ã‚¹ãƒšãƒ¼ã‚¹ã‚ã‚Š
```

ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆerror-log/index.ts å«ã‚€ï¼‰ã¯ `{registerView}` ã®ã‚ˆã†ã«ã‚¹ãƒšãƒ¼ã‚¹ãªã—å½¢å¼ã«çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹ã€‚`eslint --fix` ã¾ãŸã¯Prettierã®é©ç”¨ã§è§£æ¶ˆå¯èƒ½ã€‚

---

## æ­£å¸¸ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ç‚¹ï¼ˆStrengthsï¼‰

### âœ… ping+fetchãƒ¢ãƒ‡ãƒ«ã¸ã®ç§»è¡Œ (A-0)
ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’ãªãã—ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒå…¨ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’fetchã™ã‚‹è¨­è¨ˆã¯ã€ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°æ™‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ­ã‚¹ã‚’é˜²ãå„ªã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ã€‚`isMountedRef` ã‚¬ãƒ¼ãƒ‰ + fetch sequenceã«ã‚ˆã‚‹ç«¶åˆçŠ¶æ…‹å¯¾ç­–ã‚‚æƒã£ã¦ã„ã‚‹ã€‚

### âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ã‚°ã®seqãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (A-seq)  
`uint64` ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ç•ªå·ã«ã‚ˆã‚‹ã‚¨ãƒ³ãƒˆãƒªè­˜åˆ¥ã¯ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ™ãƒ¼ã‚¹ã®å¼±ã„è¤‡åˆã‚­ãƒ¼ï¼ˆç§’ç²¾åº¦è¡çªï¼‰ã‹ã‚‰æ­£ç¢ºãªè­˜åˆ¥åŸºæº–ã¸ã®æ”¹å–„ã€‚100ã‚¨ãƒ³ãƒˆãƒª/ç§’ã§ã‚‚ `2^53-1` ã¾ã§ç´„3000å¹´ã¨ã„ã†è¨ˆç®—ã‚³ãƒ¡ãƒ³ãƒˆã‚‚é©åˆ‡ã€‚

### âœ… TeeHandler ã®callback panic recovery  
`recover()` ã«ã‚ˆã‚‹ãƒ‘ãƒ‹ãƒƒã‚¯éš”é›¢ + stderrã¸ã®ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹å‡ºåŠ›ã€‚å†å¸°çš„ãªTeeHandlerå‘¼ã³å‡ºã—ã‚’é˜²ããŸã‚ã«slogã§ã¯ãªãstderrã¸æ›¸ãè¾¼ã‚€è¨­è¨ˆåˆ¤æ–­ã¯æ­£ã—ã„ã€‚

### âœ… ãƒ‘ã‚¹å®‰å…¨æ€§ï¼ˆbuildUntrackedFileDiffSingleï¼‰
å­—å¥ã‚¬ãƒ¼ãƒ‰ï¼ˆ`isPathWithinBase(absPath, workDir)`ï¼‰ + ç‰©ç†ã‚¬ãƒ¼ãƒ‰ï¼ˆ`EvalSymlinks` å¾Œã® `isPathWithinBase(resolvedAbs, resolvedBase)`ï¼‰ã®äºŒé‡ãƒã‚§ãƒƒã‚¯ã¯ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯çµŒç”±ã®ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ã‚’é˜²ãå …ç‰¢ãªå®Ÿè£…ã€‚

### âœ… DiffFileSidebar ã®ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«  
`react-window` ã® `FixedSizeList` ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€å¤§é‡ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã™ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ã€‚`ROW_HEIGHT = 28` ã®å®šæ•°åŒ–ã¨memoized `itemData` ã‚‚é©åˆ‡ã€‚

### âœ… viewerRegistry ã®HMRå¯¾å¿œ
`import.meta.hot.dispose(() => { registry.length = 0; })` ã«ã‚ˆã‚‹HMRæ™‚ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒªã‚»ãƒƒãƒˆ + update ãƒ‘ã‚¹ã®è¿½åŠ ï¼ˆæ—¢å­˜ã‚¨ãƒ³ãƒˆãƒªã®ä¸Šæ›¸ãï¼‰ã¯é–‹ç™ºä½“é¨“å‘ä¸Šã«å¯„ä¸ã™ã‚‹ã€‚ãŸã ã—ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ä½¿ç”¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•æœ‰ã‚Šï¼ˆI-5å‚ç…§ï¼‰ã€‚

### âœ… shortcutMapã®useMemoæœ€é©åŒ–
`ViewerSystem.tsx` ã§ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒãƒƒãƒ—ã‚’ `useMemo([], [])` ã§ãƒ¡ãƒ¢åŒ–ã—ã€æ¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ã®å†è¨ˆç®—ã‚’é˜²ãã€‚ã‚³ãƒ¡ãƒ³ãƒˆã§ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãŒéãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§ã‚ã‚‹ã“ã¨ã‚’æ˜è¨˜ã—ã¦ã„ã‚‹ç‚¹ã‚‚è©•ä¾¡ã§ãã‚‹ã€‚

### âœ… ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®çµ±ä¸€
`[DEBUG-EVENT]` â†’ `[EVENT]`ã€`[DEBUG-PANE]` â†’ `[PANE]`ã€`[DEBUG-WINDOW]` â†’ `[WINDOW]` ã¸ã®çµ±ä¸€ã«ã‚ˆã‚Šã€`grep` ã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå®¹æ˜“ã«ãªã£ãŸã€‚

### âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«åã¸ã®PIDè¿½åŠ  (A-2)
ã‚µãƒ–ç§’å†…ã§ã®å†èµ·å‹•æ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«åè¡çªã‚’é˜²ãPIDä»˜åŠ ã¯æ­£ã—ã„æ”¹å–„ã€‚

### âœ… ringBuffer ã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã‚¯ãƒ©ãƒ³ãƒ—
`capacity < 1` â†’ `1` ã¸ã®ã‚¯ãƒ©ãƒ³ãƒ—ã«ã‚ˆã‚‹ modulo-by-zero ãƒ‘ãƒ‹ãƒƒã‚¯é˜²æ­¢ã€‚`buf[0]` ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã§æ­£å¸¸å‹•ä½œã™ã‚‹ã€‚

---

## ä¸¦åˆ—ä½œæ¥­ã‚¿ã‚¹ã‚¯ä¸€è¦§

ä»¥ä¸‹ã«æœ¬ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ç™ºè¦‹ã•ã‚ŒãŸä¿®æ­£ã‚¿ã‚¹ã‚¯ã‚’ã¾ã¨ã‚ã¾ã™ã€‚ãƒãƒ¼ãƒ ã§ã®ä¸¦è¡Œä½œæ¥­ã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã€ä¾å­˜é–¢ä¿‚ã¨ç‹¬ç«‹æ€§ã‚’æ˜ç¤ºã—ã¦ã„ã¾ã™ã€‚

| # | å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« | ã‚«ãƒ†ã‚´ãƒª | å„ªå…ˆåº¦ | ä»–ã‚¿ã‚¹ã‚¯ã¨ã®ä¾å­˜ | ä¸¦åˆ—å¯å¦ | ä¿®æ­£å†…å®¹ |
|---|---|---|---|---|---|---|
| **T-01** | `DiffContentViewer.tsx` | Frontend | ğŸ”´ Critical | ãªã— | âœ… ç‹¬ç«‹ | ãƒãƒ³ã‚¯ãƒ˜ãƒƒãƒ€ãƒ¼regexå¤±æ•—æ™‚ã®null guardè¿½åŠ  |
| **T-02** | `useBackendSync.ts` | Frontend | ğŸ”´ Critical | ãªã— | âœ… ç‹¬ç«‹ | cleanupæ™‚ã« `errorLogFetchSeq = 0` ã‚’è¿½åŠ  |
| **T-03** | `app_devpanel_api.go` | Go Backend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `remainingBudget >= 0 && remainingBudget <= 0` ã‚’ `== 0` ã«å¤‰æ›´ or ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  |
| **T-04** | `app_devpanel_api.go` | Go Backend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `buildUntrackedFileDiffSingle` ã§ Lstat ã‚’ EvalSymlinks ã®å‰ã«ç§»å‹• |
| **T-05** | `app_session_log.go` | Go Backend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `syscall.EINVAL`æŠ‘åˆ¶ã‚’ `runtime.GOOS == "windows"` æ¡ä»¶ã«é™å®š |
| **T-06** | `errorLogStore.ts` | Frontend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | åˆå›ãƒ­ãƒ¼ãƒ‰å…¨æ—¢èª­ã®è¨­è¨ˆã‚³ãƒ¡ãƒ³ãƒˆè¿½è¨˜ |
| **T-07** | `viewerRegistry.ts` | Frontend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | ãƒ†ã‚¹ãƒˆç”¨ `clearRegistry()` ãƒ˜ãƒ«ãƒ‘ãƒ¼è¿½åŠ ï¼ˆã¾ãŸã¯docã‚³ãƒ¡ãƒ³ãƒˆã§è­¦å‘Šï¼‰ |
| **T-08** | `DiffFileSidebar.tsx` | Frontend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `forwardRef` ã® `React.HTMLAttributes` ã‚’ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤‰æ›´ |
| **T-09** | `useDiffView.ts` | Frontend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `buildDiffTree` ã® `addedDirs.add()` ã‚’è¡¨ç¤ºæ™‚ã®ã¿å‘¼ã¶ã‚ˆã†ä¿®æ­£ |
| **T-10** | `app_events.go` | Go Backend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `tmux:window-created` emitç®‡æ‰€ã®ç¢ºèªã¨ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  |
| **T-11** | `ErrorLogView.tsx` | Frontend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `markAllRead` ä¾å­˜é…åˆ—å¤‰æ›´ã®æ„å›³ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  |
| **T-12** | `command_router_test_helpers_test.go` | Go Test | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `injectTestWindow` ã® TODO/è¨­è¨ˆã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  |
| **T-13** | `app_devpanel_api.go` | Go Backend | ğŸŸ¡ Important | ãªã— | âœ… ç‹¬ç«‹ | `DevPanelWorkingDiff` ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç¢ºèª |
| **T-14** | `app_devpanel_api.go` | Go Test | ğŸŸ¢ Suggestion | ãªã— | âœ… ç‹¬ç«‹ | `parseDiffHeaderPaths` ã®rename edge caseãƒ†ã‚¹ãƒˆè¿½åŠ  |
| **T-15** | `DiffContentViewer.tsx` | Frontend | ğŸŸ¢ Suggestion | T-01ã¨ç›¸ä¹— | âš ï¸ T-01å¾Œæ¨å¥¨ | `key={li}` â†’ `key={${hi}-${li}}` ã«æ”¹å–„ |
| **T-16** | `DiffView.tsx` | Frontend | ğŸŸ¢ Suggestion | ãªã— | âœ… ç‹¬ç«‹ | å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®æŠ½å‡º |
| **T-17** | `diff-view/index.ts` | Frontend | ğŸŸ¢ Suggestion | ãªã— | âœ… ç‹¬ç«‹ | ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ–ãƒ¬ãƒ¼ã‚¹å‘¨å›²ã®ã‚¹ãƒšãƒ¼ã‚¹çµ±ä¸€ |

### ä¸¦åˆ—ä½œæ¥­ã‚°ãƒ«ãƒ¼ãƒ—

```
ã‚°ãƒ«ãƒ¼ãƒ— A (Go Backend): T-03, T-04, T-05, T-10, T-13, T-14
  â””â”€ å…¨ã¦ app_devpanel_api.go ã¾ãŸã¯ç‹¬ç«‹ã—ãŸGoãƒ•ã‚¡ã‚¤ãƒ« â†’ ä¸¦åˆ—ä½œæ¥­OK
  â””â”€ T-14 ã¯ T-04/T-03 ã¨åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ãŸã‚ç«¶åˆæ³¨æ„ï¼ˆè¦ãƒ–ãƒ©ãƒ³ãƒåˆ†é›¢ï¼‰

ã‚°ãƒ«ãƒ¼ãƒ— B (Frontend Store/Hook): T-02, T-06, T-07
  â””â”€ å„ãƒ•ã‚¡ã‚¤ãƒ«ç‹¬ç«‹ â†’ ä¸¦åˆ—ä½œæ¥­OK

ã‚°ãƒ«ãƒ¼ãƒ— C (Frontend Components): T-01, T-08, T-09, T-11, T-15, T-16, T-17
  â””â”€ T-01ã¨T-15ã¯åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ« â†’ T-01å…ˆè¡Œå¾Œã«T-15ã‚’å®Ÿæ–½
  â””â”€ T-08, T-09, T-11, T-16, T-17 ã¯äº’ã„ã«ç‹¬ç«‹ â†’ ä¸¦åˆ—ä½œæ¥­OK

ã‚°ãƒ«ãƒ¼ãƒ— D (Go Test): T-12
  â””â”€ å˜ç‹¬ â†’ ä»–ã‚°ãƒ«ãƒ¼ãƒ—ã¨ä¸¦åˆ—OK
```

---

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆãƒãƒ¼ã‚¸å¯å¦ï¼‰

| ãƒã‚§ãƒƒã‚¯é …ç›® | çŠ¶æ…‹ |
|---|---|
| Critical Issuesï¼ˆC-1, C-2ï¼‰ã®ä¿®æ­£å®Œäº† | â¬œ æœªå®Œäº† |
| Important Issuesï¼ˆI-1ã€œI-12ï¼‰ã®ç¢ºèªãƒ»å¯¾å¿œ | â¬œ æœªå®Œäº† |
| `go test ./...` å…¨ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ | â¬œ æœªç¢ºèª |
| `wails build` ã¾ãŸã¯ `make dev` ãŒé€šã‚‹ã“ã¨ | â¬œ æœªç¢ºèª |
| TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãªã— (`tsc --noEmit`) | â¬œ æœªç¢ºèª |
