# PR Review â€” 2026-02-22 17:08:25

ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡: `myT-x/` é…ä¸‹ã®æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´å…¨ãƒ•ã‚¡ã‚¤ãƒ«
ãƒ¬ãƒ“ãƒ¥ãƒ¼æ–¹å¼: 3ã‚«ãƒ†ã‚´ãƒªä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆGo Appå±¤ / Go å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ / ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

---

## å¤‰æ›´ã‚µãƒãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª | å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ä¸»ãªå¤‰æ›´ |
|---------|-------------|---------|
| Go Appå±¤ | 12ãƒ•ã‚¡ã‚¤ãƒ« | DevPanelWorkingDiffæ–°æ©Ÿèƒ½ã€SessionLogæ”¹å–„(Seq/PID/ping-fetch)ã€ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹çµ±ä¸€ |
| Go å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | 12ãƒ•ã‚¡ã‚¤ãƒ« | TeeHandleræ”¹å–„ã€1-window modelæ•´ç†ã€ãƒ†ã‚¹ãƒˆã‚·ãƒ¼ãƒ è¿½åŠ ã€boolPtrâ†’testutil.Ptr |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | 15ãƒ•ã‚¡ã‚¤ãƒ« | ErrorLog ping+fetchãƒ¢ãƒ‡ãƒ«ã€ViewerRegistry HMRå¯¾å¿œã€ActivityStrip positionåˆ†å‰² |

---

## Critical Issuesï¼ˆå¿…ãšä¿®æ­£ï¼‰

**ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªå•é¡Œã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚**

---

## Important Issuesï¼ˆå¯¾å¿œæ¨å¥¨ï¼‰

### Go Appå±¤

#### I-A01 â€” TOCTOU: buildUntrackedFileDiffSingle ã®ã‚µã‚¤ã‚ºã‚¬ãƒ¼ãƒ‰
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go` / `buildUntrackedFileDiffSingle`

**æ¦‚è¦:**  
ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚¬ãƒ¼ãƒ‰ï¼ˆ100KBï¼‰ã« TOCTOUï¼ˆTime-Of-Check-Time-Of-Useï¼‰ãƒ¬ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã€‚  
`cachedInfo[0]` ã¾ãŸã¯ `lstatInfo` ã®ã‚µã‚¤ã‚ºã¯ WalkDir/Lstat æ™‚ç‚¹ã®å€¤ã§ã‚ã‚Šã€ãã®å¾Œ `os.ReadFile(resolvedAbs)` ã‚’å‘¼ã¶ã¾ã§ã®é–“ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒè‚¥å¤§åŒ–ã—ãŸå ´åˆã€ã‚¬ãƒ¼ãƒ‰ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã€‚  
ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç›´æ¥çš„ãªå±é™ºã¯ãªã„ãŒï¼ˆworkDir å†…ãƒ•ã‚¡ã‚¤ãƒ«é™å®šï¼‰ã€DevPanel ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒè¨­è¨ˆä¸Šé™ã‚’è¶…ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
`os.ReadFile` ã®ä»£ã‚ã‚Šã« `os.Open` â†’ `io.LimitReader(f, devPanelMaxUntrackedFileSize+1)` â†’ `io.ReadAll` ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¤‰æ›´ã—ã€ãƒãƒ¼ãƒ‰ãª byte ä¸Šé™ã‚’ä¿è¨¼ã™ã‚‹ã€‚

```go
// å¤‰æ›´å¾Œã‚¤ãƒ¡ãƒ¼ã‚¸
f, err := os.Open(resolvedAbs)
if err != nil { ... }
defer f.Close()
limited := io.LimitReader(f, devPanelMaxUntrackedFileSize+1)
data, err := io.ReadAll(limited)
if int64(len(data)) > devPanelMaxUntrackedFileSize {
    return nil // ãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿å–ã‚Šä¸­ã«ä¸Šé™è¶…ãˆãŸ
}
```

---

#### I-A02 â€” app:error-log-updated ã‚¤ãƒ™ãƒ³ãƒˆåã¨ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã®ä¹–é›¢
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_session_log.go` / `writeSessionLogEntry`

**æ¦‚è¦:**  
ã‚¤ãƒ™ãƒ³ãƒˆå `app:error-log-updated` ã¯ TeeHandler ã®ã—ãã„å€¤ `slog.LevelWarn` ã«èµ·å› ã—ã€WARN ãƒ¬ãƒ™ãƒ«ã®ã‚¨ãƒ³ãƒˆãƒªã§ã‚‚ç™ºç«ã™ã‚‹ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ãŒã€Œã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ error å°‚ç”¨ã€ã¨èª¤è§£ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚å¤‰æ›´å‰ã® `app:error-logged` ã‚ˆã‚Šå¾Œé€€ã¯ã—ã¦ã„ãªã„ãŒã€æ–°ã—ã„åå‰ã§ã‚‚åŒã˜èª¤è§£ãŒæ®‹ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
ã‚¤ãƒ™ãƒ³ãƒˆåã‚’ `app:session-log-updated` ç­‰ã«å¤‰æ›´ã™ã‚‹ï¼ˆwarn/error ä¸¡æ–¹ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ã‚’åå‰ã§æ˜ç¤ºï¼‰ã€‚æœ€ä½é™ TeeHandler ã«æ¸¡ã™ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŠã‚ˆã³ã‚³ãƒ¡ãƒ³ãƒˆå†…ã«ã€Œwarn/error ä¸¡æ–¹ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã€æ—¨ã‚’æ˜ç¤ºã™ã‚‹ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã® `BackendEventMap` ã‚‚åˆã‚ã›ã¦å¤‰æ›´ãŒå¿…è¦ã€‚

---

#### I-A03 â€” tmux:window-created ã® policy è¿½åŠ ã¨ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ãƒ†ã‚¹ãƒˆåã®ä¸æ•´åˆ
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_events.go`, `myT-x/app_events_test.go`

**æ¦‚è¦:**  
`tmux:window-created` ãŒ `{trigger:true, bypassDebounce:true}` ã¨ã—ã¦ policy map ã«æ–°è¦è¿½åŠ ã•ã‚ŒãŸãŒã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å…¨ä½“ã« `tmux:window-created` ã‚’ emit ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¹ãŒå­˜åœ¨ã—ãªã„ã€‚ãƒ–ãƒ­ãƒƒã‚¯ã‚³ãƒ¡ãƒ³ãƒˆã®ã€ŒCurrently unreachableã€ã¯ window-destroyed/renamed ã‚’æŒ‡ã—ã¦ãŠã‚Šã€window-created ã«ã¯å›ºæœ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆãŒãªã„ã€‚ãƒ†ã‚¹ãƒˆã‚’ `want: false â†’ want: true` ã«å¤‰æ›´ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼è€…ãŒã€Œwindow-created ãŒå®Ÿéš›ã«ç™ºè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã€ã¨èª¤è§£ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
`tmux:window-created` ã®ã‚¨ãƒ³ãƒˆãƒªã«å€‹åˆ¥ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹:
```go
"tmux:window-created": {trigger: true, bypassDebounce: true},
// NOTE(1-window model): Policy registered for future multi-window support.
// No emitter currently exists for this event; it is unreachable at runtime.
```
ãƒ†ã‚¹ãƒˆã® name ã‚‚ `"window created (policy registered, no emitter yet)"` ç­‰ã¨ã—ã¦æ„å›³ã‚’æ˜ç¤ºã™ã‚‹ã€‚

---

### Go å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

#### I-B01 â€” go:fix inline ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°å¯¾å¿œã¨èª¤ã£ãŸã‚³ãƒ¡ãƒ³ãƒˆ
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/testutil/helpers.go`

**æ¦‚è¦:**  
`//go:fix inline` ã¯ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°(`Ptr[T any]`)ã¸ã®é©ç”¨ãŒ Go 1.24 æ™‚ç‚¹ã§ã¯æœªã‚µãƒãƒ¼ãƒˆã¾ãŸã¯åˆ¶é™ä»˜ãã€‚`go fix ./...` ã‚’å®Ÿè¡Œã—ã¦ã‚‚ `Ptr[T]` ã®å‘¼ã³å‡ºã—ç®‡æ‰€ãŒå®Ÿéš›ã«ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚  
ã¾ãŸ docã‚³ãƒ¡ãƒ³ãƒˆã«ã€Œnew(T) or address-of-literal patternã€ã¨è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãŒã€å®Ÿéš›ã« go fix ãŒç”Ÿæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ `{ v := <arg>; return &v }` ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹ã—ãŸå½¢ã§ã‚ã‚Šã€`new(T)` ã«ã¯ãªã‚‰ãªã„ãŸã‚ã‚³ãƒ¡ãƒ³ãƒˆãŒä¸æ­£ç¢ºã§é–‹ç™ºè€…ã‚’èª¤èª˜å°ã™ã‚‹æã‚ŒãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
`go tool fix -explain` ç­‰ã§ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ãŒå®Ÿéš›ã«ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å¯¾è±¡ã¨èªè­˜ã•ã‚Œã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚ç¢ºèªã§ãã‚Œã°å•é¡Œãªã—ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã¯å®Ÿéš›ã®å±•é–‹å½¢ `{ v := <arg>; return &v }` ã‚’æ˜ç¤ºã™ã‚‹ã‚ˆã†ã«æ›´æ–°ã™ã‚‹:
```go
// go:fix inline (Go 1.24+): Instructs `go fix ./...` to inline call sites.
// Inlined form: { v := <arg>; return &v }
```

---

#### I-B02 â€” snapshot-refetch ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å†…éƒ¨ãƒ•ã‚§ãƒ¼ã‚ºåãŒæ¼å‡º
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router_handlers_window.go` / `handleNewWindow`

**æ¦‚è¦:**  
`snapOk=false` æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ `"session disappeared after flag copy: <name>"` ã«å®Ÿè£…å†…éƒ¨èªå½™ "flag copy" ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€tmux shim ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® `ipc.TmuxResponse.Stderr` ã«å†…éƒ¨ãƒ•ã‚§ãƒ¼ã‚ºåãŒæ¼å‡ºã™ã‚‹ã€‚"flag copy" ã¯ tmux ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯æ„å‘³ã‚’ãªã•ãªã„ã€‚

**ä¿®æ­£æ¡ˆ:**  
ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ tmux äº’æ›ã®èªå½™ã«çµ±ä¸€ã™ã‚‹:
```go
return rollbackSession("snapshot-refetch",
    fmt.Errorf("new-window: internal state inconsistency for session %q", newSessionName))
```
å†…éƒ¨ãƒ•ã‚§ãƒ¼ã‚ºè©³ç´°ã¯ `slog.Warn` ã®ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é™å®šã™ã‚‹ã€‚

---

#### I-B03 â€” rollback å¤±æ•—æ™‚ã« RemoveSession ã‚¨ãƒ©ãƒ¼æ–‡å­—åˆ—ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æ¼å‡º
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router_handlers_window.go` / `rollbackSession`

**æ¦‚è¦:**  
rollback è‡ªä½“ãŒå¤±æ•—ã—ãŸå ´åˆã€`errResp(fmt.Errorf("%w (rollback failed: %v)", originalErr, rmErr))` ã¨ã—ã¦ RemoveSession ã®ã‚¨ãƒ©ãƒ¼æ–‡å­—åˆ—ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹ã€‚rmErr ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ­ãƒƒã‚¯èµ·å› ã®ã‚¨ãƒ©ãƒ¼æ–‡å­—åˆ—ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€è¨ºæ–­æƒ…å ±ãŒèª¤è§£ã•ã‚Œã†ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¤±æ•—ã®è©³ç´°ã¯ `slog.Warn` ã®ã¿ã«ç•™ã‚ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã¯ `originalErr` ã ã‘ã‚’è¿”ã™:
```go
rollbackSession := func(stage string, originalErr error) ipc.TmuxResponse {
    if _, rmErr := r.sessions.RemoveSession(session.Name); rmErr != nil {
        slog.Warn("[WINDOW] failed to remove session during rollback",
            "session", session.Name, "stage", stage,
            "originalErr", originalErr, "removeErr", rmErr)
    }
    return errResp(originalErr) // rmErr ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã•ãªã„
}
```
æ—¢å­˜ã® `handleNewSession` ã‚‚åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥²ã—ã¦ã„ã‚Œã°åŒæ§˜ã«ä¿®æ­£ã™ã‚‹ã€‚

---

#### I-B04 â€” getSessionForNewWindowFn ã® nil ã‚¬ãƒ¼ãƒ‰ãŒä¸è¦
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router.go`, `command_router_handlers_window.go`

**æ¦‚è¦:**  
`NewCommandRouter` ã§ `router.getSessionForNewWindowFn = sessions.GetSession` ã¨ã—ã¦å¸¸ã«åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€`handleNewWindow` å†…ã§å†åº¦ nil ã‚¬ãƒ¼ãƒ‰ã‚’è¡Œã£ã¦ã„ã‚‹ã€‚ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ã‚‚ `nil` ã‚’æ˜ç¤ºçš„ã«ã‚»ãƒƒãƒˆã™ã‚‹ã‚±ãƒ¼ã‚¹ã¯ãªãã€nil ã‚¬ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹çµŒè·¯ãŒå­˜åœ¨ã—ãªã„ã€‚ã“ã®ã‚¬ãƒ¼ãƒ‰ãŒæ®‹å­˜ã—ã¦ã„ã‚‹ã¨ã€Œnil ã«ãªã‚Šå¾—ã‚‹ã€ã¨ã„ã†èª¤è§£ã‚’æ‹›ãã€‚

**ä¿®æ­£æ¡ˆ:**  
nil ã‚¬ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã€`getSession := r.getSessionForNewWindowFn` ã ã‘ã‚’æ®‹ã™:
```go
newSessionSnap, snapOk := r.getSessionForNewWindowFn(newSessionName)
```

---

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

#### I-C01 â€” ErrorLogView ã® markAllRead 2æ®µéšãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆãƒãƒƒã‚¸ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ï¼‰
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/views/error-log/ErrorLogView.tsx`
**å¯¾è±¡:** `useEffect(() => { markAllRead(); }, [entries, markAllRead])`

**æ¦‚è¦:**  
ErrorLogView ãŒé–‹ã„ã¦ã„ã‚‹çŠ¶æ…‹ã§æ–°ã‚¨ãƒ³ãƒˆãƒªãŒå±Šãã¨ã€`setEntries()` ãŒ atomic ã« `{entries, unreadCount=N, lastReadSeq}` ã‚’æ›´æ–° â†’ ActivityStrip ãŒãƒãƒƒã‚¸ã‚’æç”» â†’ ãã®å¾Œã®éåŒæœŸ useEffect ã§ `markAllRead()` ãŒå‘¼ã°ã‚Œã¦ `unreadCount=0` ã«ãªã‚‹ã€ã¨ã„ã†2æ®µéšãƒ¬ãƒ³ãƒ€ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã€‚React 18 ã®è‡ªå‹•ãƒãƒƒãƒãƒ³ã‚°ã¯ useEffect å†…ã®éåŒæœŸ dispatch å¯¾è±¡å¤–ã®ãŸã‚ã€unreadCount ãƒãƒƒã‚¸ãŒ 1 ãƒ•ãƒ¬ãƒ¼ãƒ ä»¥ä¸Šç‚¹æ»…ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
`errorLogStore.ts` ã® `setEntries` å†…ã§ã€Œview ãŒé–‹ã„ã¦ã„ã‚‹ã‹ã€ã‚’ç¢ºèªã—ã¦ `unreadCount` ã‚’ 0 ã«ã™ã‚‹ã‹ã€`useLayoutEffect` åŒ–ã—ã¦ãƒšã‚¤ãƒ³ãƒˆå‰ã«è§£æ±ºã•ã›ã‚‹ã€‚çŸ­æœŸçš„ãªå¯¾ç­–ã¯ä»¥ä¸‹:
```typescript
// ErrorLogView.tsx
useLayoutEffect(() => {
    markAllRead();
}, [entries, markAllRead]);
```

---

#### I-C02 â€” backend restart å¾Œã® unreadCount è¨ˆç®—ã®ä¸æ•´åˆ
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/stores/errorLogStore.ts` / `setEntries`

**æ¦‚è¦:**  
backend restart ã‚·ãƒŠãƒªã‚ªã«æ¼ã‚ŒãŒã‚ã‚‹:  
â‘  æ—§ã‚¨ãƒ³ãƒˆãƒªãŒå­˜åœ¨(`state.entries.length=100`) â†’ â‘¡ backend ãŒ seq:1 ã‹ã‚‰å†é–‹ â†’ â‘¢ `maxNewSeq(ä¾‹:3) < lastReadSeq(100)` ã§ `lastReadSeq=0` ã«ãƒªã‚»ãƒƒãƒˆ â†’ â‘£ ã—ã‹ã— `state.entries.length===0` ãŒ FALSE ãªã®ã§ã€Œfirst-load æ—¢èª­æ‰±ã„ã€æ¡ä»¶ãŒä¸æˆç«‹ â†’ â‘¤ çµæœã¨ã—ã¦å…¨æ–°ã‚¨ãƒ³ãƒˆãƒªãŒ unread æ‰±ã„ã€‚  
`lastReadSeq` ã®ãƒªã‚»ãƒƒãƒˆã¨ first-load åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ãŒé€£å‹•ã—ã¦ã„ãªã„ã€‚

**ä¿®æ­£æ¡ˆ:**  
backend restart æ¤œå‡ºæ™‚ã®ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ã€`lastReadSeq=0` ã¨åŒæ™‚ã« first-load ç›¸å½“ã®å‡¦ç†ã‚’è¡Œã†:
```typescript
if (maxNewSeq > 0 && maxNewSeq < lastReadSeq) {
    // Backend restart: seq regressed. Treat incoming entries as already-read
    // to avoid flooding the badge with historical data from a fresh process.
    lastReadSeq = maxNewSeq;
}
```
ã¾ãŸã¯ä»•æ§˜ã¨ã—ã¦ã€Œrestartå¾Œã¯å¿…ãšæœªèª­ãƒãƒƒã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã€ã¨æ˜è¨˜ã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã™ã‚‹ã€‚

---

#### I-C03 â€” HMR å¾Œã« shortcutMap ãŒæ›´æ–°ã•ã‚Œãªã„ï¼ˆDEV ç’°å¢ƒã®ã¿ï¼‰
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/ViewerSystem.tsx`
**å¯¾è±¡:** `const shortcutMap = useMemo(() => { ... }, [])`

**æ¦‚è¦:**  
`shortcutMap` ã¯ `useMemo([])` ã§ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ä¸­1å›ã®ã¿è¨ˆç®—ã•ã‚Œã‚‹ã€‚HMR æ™‚ã¯ `viewerRegistry.ts` ã® dispose ã§ `registry.length=0` ã«ãªã£ãŸå¾Œã€å„ view ã® `index.ts` ãŒ `registerView()` ã‚’å†å®Ÿè¡Œã™ã‚‹ãŒã€ViewerSystem ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè‡ªä½“ã¯ re-mount ã—ãªã„ãŸã‚ `shortcutMap` ã¯å†è¨ˆç®—ã•ã‚Œãªã„ã€‚é–‹ç™ºä¸­ã« view ã® shortcut ã‚’å¤‰æ›´ã—ã¦ã‚‚ HMR å¾Œã«ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ãŒæ›´æ–°ã•ã‚Œãšã€ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ã¨ã„ã†å®Ÿå®³ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ (DEV ç’°å¢ƒã®ã¿):**  
`import.meta.hot.accept` ã§ viewerRegistry.ts ã® HMR æ›´æ–°ã‚’ ViewerSystem ã«é€šçŸ¥ã—ã€state ãƒ•ãƒ©ã‚°ã§ `useMemo` ã‚’å†è¨ˆç®—ã•ã›ã‚‹ã‹ã€`getRegisteredViews()` ã‚’ reactive store ã«ç§»è¡Œã™ã‚‹:
```typescript
const [registryVersion, setRegistryVersion] = useState(0);
if (import.meta.hot) {
    import.meta.hot.accept('./viewerRegistry', () => {
        setRegistryVersion(v => v + 1);
    });
}
const shortcutMap = useMemo(() => { ... }, [registryVersion]);
```

---

#### I-C04 â€” models.ts ã® WorkingDiffResult.convertValues ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆä¸æ•´åˆã¨ in-place mutation
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/wailsjs/go/models.ts`
**å¯¾è±¡:** `WorkingDiffResult.convertValues`

**æ¦‚è¦:**  
`asMap=true` ã®ãƒ–ãƒ©ãƒ³ãƒãŒå…¥åŠ›ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ `a` ã‚’ in-place mutate ã—ã¦ã„ã‚‹ (`a[key] = ...`)ã€‚ç¾åœ¨ã® `WorkingDiffResult` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã¯ `asMap` ã‚’æ¸¡ã—ã¦ã„ãªã„ãŸã‚åˆ°é”ä¸èƒ½ãª dead code ã ãŒã€å°†æ¥ Go ã® map å‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ Wails ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãŒå†å®Ÿè¡Œã•ã‚Œã‚‹ã¨æœ‰åŠ¹åŒ–ã•ã‚Œã€äºˆæœŸã—ãªã„å‰¯ä½œç”¨ãŒç”Ÿã˜ã‚‹ã€‚ã¾ãŸ mixed ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ tabã€ä»–ã¯ 4-spaceï¼‰ã¯ linter ãŒã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
Wails è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã¨ã—ã¦æ‰‹å‹•ä¿®æ­£ã¯æœ€å°é™ã«ã¨ã©ã‚ã€`prettier` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè¡Œã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆä¸æ•´åˆã‚’è§£æ¶ˆã™ã‚‹ã€‚`convertValues` ã® mutation å•é¡Œã¯ Wails ã®æ—¢çŸ¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãŸã‚ã€ã‚«ã‚¹ã‚¿ãƒ ä¿®æ­£ã‚’åŠ ãˆãªã„ã“ã¨ï¼ˆæ¬¡å› Wails ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å†ç”Ÿæˆæ™‚ã«ä¸Šæ›¸ãã•ã‚Œã‚‹ï¼‰ã€‚

---

#### I-C05 â€” auto-scroll ã® useEffect ãŒ Strict Mode åˆå›ã« no-op ã«ãªã‚‹å¯èƒ½æ€§
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/views/error-log/useErrorLog.ts`
**å¯¾è±¡:** `useEffect(() => { const el = bodyRef.current; ... }, [entries.length])`

**æ¦‚è¦:**  
auto-scroll ã® useEffect ã¯ `entries.length` ã«ä¾å­˜ã—å†…éƒ¨ã§ `bodyRef.current` ã‚’èª­ã‚€ã€‚`registerBodyElement`ï¼ˆcallback refï¼‰ã«ã‚ˆã‚Š `bodyRef.current` ã¯ DOM commit ã®ç›´å¾Œã«æ›´æ–°ã•ã‚Œã‚‹ãŒã€Strict Modeï¼ˆäºŒé‡ invokeï¼‰ã§ã¯åˆå› effect ãŒ `bodyRef` ç™»éŒ²å‰ã«èµ°ã‚Š `el=null` ã§ no-op ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚æœ¬ç•ªç’°å¢ƒã§ã¯ç¾ã‚Œãªã„ãŒé–‹ç™ºæ™‚ã«è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒåŠ¹ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã€‚

**ä¿®æ­£æ¡ˆ:**  
```typescript
// ä¾å­˜é…åˆ—ã« registerBodyElement ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ callback ref ã®å¤‰æ›´å¾Œã‚‚å†è©•ä¾¡ã•ã‚Œã‚‹
useEffect(() => {
    const el = bodyRef.current;
    if (!el) return;
    el.scrollTop = el.scrollHeight;
}, [entries.length, registerBodyElement]);
```

---

## Suggestionsï¼ˆè€ƒæ…®æ¨å¥¨ï¼‰

### Go Appå±¤

#### S-A01 â€” parseDiffHeaderPaths ã®ã‚³ãƒ¡ãƒ³ãƒˆæ”¹å–„
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`  
ã‚³ãƒ¡ãƒ³ãƒˆãŒã€Œå¶æ•°é•·ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€ã—ã‹èª¬æ˜ã—ã¦ã„ãªã„ã€‚å¥‡æ•°é•·ã‹ã¤ rename ã§ `P1â‰ P2` ã®å ´åˆï¼ˆstring equality ãƒã‚§ãƒƒã‚¯å¤±æ•—ã§ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ãŒæœªè¨€åŠã€‚

---

#### S-A02 â€” buildUntrackedFileDiffSingle ã® EvalSymlinks(workDir) é‡è¤‡å‘¼ã³å‡ºã—æœ€é©åŒ–
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`  
`buildUntrackedFileDiffSingle` ã¯å‘¼ã³å‡ºã—ã”ã¨ã« `filepath.EvalSymlinks(workDir)` ã‚’å®Ÿè¡Œã™ã‚‹ã€‚untracked ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤šã„å ´åˆã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã€‚  
`buildUntrackedFileDiffsWithBudget` ã®å…ˆé ­ã§ä¸€åº¦ã ã‘è¨ˆç®—ã—å¼•æ•°ã§æ¸¡ã™å½¢ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã€‚

---

#### S-A03 â€” sessionLogEmitMinInterval ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«å®šæ•°ã«æ˜‡æ ¼
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_session_log.go`  
ä»–ã® session log å®šæ•°ï¼ˆ`sessionLogDir`, `sessionLogMaxFiles` ç­‰ï¼‰ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã«ã‚ã‚‹ã€‚ä¸€è²«æ€§ã®ãŸã‚ `sessionLogMinEmitInterval` ã‚‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã«æ˜‡æ ¼ã•ã›ã‚‹ã€‚

---

#### S-A04 â€” TestWriteSessionLogEntry_EmitsCorrectEventName ã®ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼å†—é•·
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_session_log_test.go`  
ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒ1ã¤ã ã‘ã®ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã¯ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãªã£ã¦ã„ã‚‹ã€‚`TestWriteSessionLogEntry_EmitsPingEvent` ã¨ã—ã¦ç›´æ¥è¨˜è¿°ã™ã‚‹ã‹ã€ã‚±ãƒ¼ã‚¹è¿½åŠ äºˆå®šãŒã‚ã‚‹å ´åˆã¯ç¾çŠ¶ç¶­æŒã€‚

---

#### S-A05 â€” decodeGitPathLiteral ã® strconv.Unquote äº’æ›æ€§ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã§æ˜ç¤º
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api.go`  
Git ã® octal escape ã¨ Go ã® `strconv.Unquote` ã¯ç¾åœ¨äº’æ›ã ãŒã‚³ãƒ¡ãƒ³ãƒˆãŒãªã„ã€‚å°†æ¥ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼å‘ã‘ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½è¨˜ã™ã‚‹:
```go
// Git uses C-style quoting compatible with Go's strconv.Unquote:
// octal (\ooo), \\, \", \n, \r, \t, \a, \b, \f, \v are handled.
```

---

#### S-A06 â€” rename + old path ã« " b/" ã‚’å«ã‚€ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/app_devpanel_api_test.go`  
rename ã‹ã¤ old path ã« ` b/` ã‚’å«ã‚€ãƒ‘ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒãªã„ï¼ˆä¾‹: rename from `src/ b/old.go` to `src/ c/new.go`ï¼‰ã€‚fallback split ã¯èª¤ã£ãŸ path ã‚’è¨ˆç®—ã™ã‚‹ãŒ `rename from/to` è¡Œã§ä¸Šæ›¸ãè£œæ­£ã•ã‚Œã‚‹ãŸã‚å‹•ä½œã¯æ­£ã—ã„ã€‚è£œæ­£ãƒ‘ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚

---

### Go å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

#### S-B01 â€” removedPanes ã® make ã«å®¹é‡ãƒ’ãƒ³ãƒˆè¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/session_manager_windows.go`  
`make([]*TmuxPane, 0)` ã‚’ `make([]*TmuxPane, 0, len(window.Panes))` ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ 1 å›ã«æŠ‘ãˆã‚‰ã‚Œã‚‹ï¼ˆæ©Ÿèƒ½çš„ã«ã¯æ­£ã—ã„ãŒæœ€é©åŒ–ä½™åœ°ã‚ã‚Šï¼‰ã€‚

---

#### S-B02 â€” TestTeeHandler_BaseHandlerError_ErrorPropagated ã®ãƒ†ã‚¹ãƒˆç²¾åº¦
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/sessionlog/handler_test.go`  
"wrapped error propagated" ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ `errors.Is` ã«ã‚ˆã‚‹å†…åŒ…ã‚¨ãƒ©ãƒ¼ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ç¢ºèªãŒä¸è¶³ã€‚`errors.Is(err, innerErr)` ã¾ã§ assert ã™ã‚‹ã“ã¨ã§é€éæ€§ã‚’å®Œå…¨ã«è¨¼æ˜ã§ãã‚‹ã€‚

---

#### S-B03 â€” pane ID æ–‡å­—åˆ—ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã®é›†ç´„
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/command_router_test_helpers_test.go`  
`fmt.Sprintf("%%%d", manager.nextPaneID)` ã¨ã„ã† idString ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡æ•°ç®‡æ‰€ã«åˆ†æ•£ï¼ˆsession_manager æœ¬ä½“å«ã‚€ï¼‰ã€‚`formatPaneIDString(id int) string` ã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆé–¢æ•°ã«é›†ç´„ã™ã‚‹ã“ã¨ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´æ™‚ã®åŒæœŸæ¼ã‚Œã‚’é˜²ãã€‚

---

#### S-B04 â€” ãƒ‘ãƒ‹ãƒƒã‚¯ç™ºç”Ÿæ™‚ã® stderr å‡ºåŠ›ãƒ†ã‚¹ãƒˆ
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/sessionlog/handler_test.go`  
`TestTeeHandler_CallbackPanic_DoesNotPropagate` ã§ãƒ‘ãƒ‹ãƒƒã‚¯å›å¾©ã¯ç¢ºèªã—ã¦ã„ã‚‹ãŒã€`fmt.Fprintf(os.Stderr, "[session-log] callback panicked: ...")` ãŒå®Ÿéš›ã«å‡ºåŠ›ã•ã‚Œã‚‹ã“ã¨ã®ãƒ†ã‚¹ãƒˆãŒãªã„ã€‚os.Stderr ã‚’ `bytes.Buffer` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦å‡ºåŠ›å†…å®¹ã‚’ assert ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã€‚

---

#### S-B05 â€” injectTestWindow ã§ä½¿ç”¨ã™ã‚‹ terminal.Terminal{} ã®æ„å›³æ˜è¨˜
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/internal/tmux/session_manager_window_test.go`  
`&terminal.Terminal{}` ã¯ã‚¼ãƒ­å€¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆå†…éƒ¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå…¨ nil/ã‚¼ãƒ­ï¼‰ã®ãŸã‚ã€å°†æ¥åˆæœŸåŒ–å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸå ´åˆã«ç„¡åŠ¹ãªçŠ¶æ…‹ã‚’ç¤ºã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã§æ„å›³ï¼ˆãƒã‚¤ãƒ³ã‚¿ç­‰ä¾¡æ€§ãƒã‚§ãƒƒã‚¯ã®ã¿ã€ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ãªã—ï¼‰ã‚’æ˜è¨˜ã™ã‚‹ã€‚

---

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

#### S-C01 â€” useBackendSync ã® errorLogFetchSeq = 0 ãƒªã‚»ãƒƒãƒˆã¯ dead code
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/hooks/useBackendSync.ts`  
cleanup å†…ã® `errorLogFetchSeq = 0` ã¯ `isMountedRef.current` ã‚¬ãƒ¼ãƒ‰ã«ã‚ˆã‚Šäº‹å®Ÿä¸Šåˆ°é”ä¸èƒ½ã€‚å‰Šé™¤ã™ã‚‹ã‹æ„å›³ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã€Œclosure å‚ç…§ã®æ˜ç¤ºçš„è§£æ”¾ã€ç­‰ï¼‰ã‚’è¿½åŠ ã™ã‚‹ã€‚

---

#### S-C02 â€” normalizeEntries ã® ts/msg ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼è¿½åŠ 
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/stores/errorLogStore.ts`  
`isValidSeq(seq)` ã®ã¿æ¤œè¨¼ã—ã¦ãŠã‚Š `ts`/`level`/`msg`/`source` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯æ¤œè¨¼ã—ã¦ã„ãªã„ã€‚æœ€ä½é™ `typeof entry.ts === 'string' && typeof entry.msg === 'string'` ã®ã‚¬ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã€‚

---

#### S-C03 â€” RegistryGlobal å‹å®šç¾©ã®å¯èª­æ€§æ”¹å–„
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/viewerRegistry.ts`  
`[K in typeof REGISTRY_KEY]?` ã® mapped type ã¯å‹çš„ã«æ­£ã—ã„ãŒå¯èª­æ€§ãŒä½ã„ã€‚  
ç›´æ¥ `{ '__mytx_view_registry__'?: ViewPlugin[] }` ã‚‚ã—ãã¯ `Record<typeof REGISTRY_KEY, ViewPlugin[] | undefined>` ã®æ–¹ãŒæ„å›³ãŒæ˜ç¢ºã€‚

---

#### S-C04 â€” ActivityStrip.tsx ã® renderViewButton ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤–é–¢æ•°åŒ–
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/ActivityStrip.tsx`  
`renderViewButton` ã¯ãƒ¬ãƒ³ãƒ€ãƒ¼ã”ã¨ã«æ–°ã—ã„é–¢æ•°å‚ç…§ãŒä½œã‚‰ã‚Œã‚‹ã€‚ä¾å­˜ã™ã‚‹ `activeViewId`, `toggleView`, `unreadCount` ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤–ã®ç´”ç²‹é–¢æ•°ã«ã™ã‚‹ã‹ã€`useCallback` ã§ãƒ¡ãƒ¢åŒ–ã™ã‚‹ã€‚

---

#### S-C05 â€” ViewPlugin.position ã®å‹ã‚’æ˜ç¤ºçš„ union ã«å¤‰æ›´
**ãƒ•ã‚¡ã‚¤ãƒ«:** `myT-x/frontend/src/components/viewer/viewerRegistry.ts`  
`position?: "top" | "bottom"` ã¯å‹å®šç¾©æ¸ˆã¿ã ãŒ ActivityStrip ã®ãƒ•ã‚£ãƒ«ã‚¿ãŒ `view.position === "bottom"` ã®ã¿ã®ãŸã‚ã€å°†æ¥ã® 'middle' ç­‰ã®è¿½åŠ ã§å³åº§ã« silent ãªèª¤å‹•ä½œãŒç”Ÿã˜ã‚‹ã€‚switch æ–‡ã‚„å³å¯†ãªåˆ—æŒ™ãƒã‚§ãƒƒã‚¯ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã€‚

---

## è‰¯ã„ç‚¹ï¼ˆStrengthsï¼‰

### Go Appå±¤
1. **ä¸‰é‡ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é˜²å¾¡ï¼ˆbuildUntrackedFileDiffSingleï¼‰**: lexical `isPathWithinBase`ã€EvalSymlinks å¾Œã® containment å†ç¢ºèªã€Lstat ModeSymlink æ¤œå‡ºã®å¤šå±¤é˜²å¾¡è¨­è¨ˆãŒå„ªç§€ã€‚symlink escape ã®å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚«ãƒãƒ¼ã€‚
2. **Sync()-outside-lock ãƒ‘ã‚¿ãƒ¼ãƒ³ (A-0b)**: ãƒ•ã‚¡ã‚¤ãƒ«ãƒã‚¤ãƒ³ã‚¿ã‚’ãƒ­ãƒƒã‚¯å†…ã§ã‚­ãƒ£ãƒ—ãƒãƒ£ã— Sync() ã¯ãƒ­ãƒƒã‚¯å¤–ã§å®Ÿè¡Œã€‚EINVAL/os.ErrClosed ã®ã‚¯ãƒ­ãƒ¼ã‚ºç«¶åˆã‚’æ˜ç¤ºçš„ã« benign ã¨ã—ã¦å‡¦ç†ã—ã¦ã„ã‚‹ã®ãŒä¸å¯§ã€‚
3. **ping+fetch ã‚¤ãƒ™ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ« (A-0)**: throttle ç™ºç”Ÿæ™‚ã§ã‚‚æ¬¡å› ping ã§ãƒ•ãƒ«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå–å¾—ãŒä¿è¨¼ã•ã‚Œã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿æå¤±ã‚¼ãƒ­ã®è¨­è¨ˆã«ãªã£ã¦ã„ã‚‹ã€‚
4. **PID ã‚’ãƒ•ã‚¡ã‚¤ãƒ«åã«ä»˜ä¸ (A-2)**: sub-second å†èµ·å‹•ã«ã‚ˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åè¡çªã‚’ç¢ºå®Ÿã«é˜²ãã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤åŠ¹æœçš„ãªå¯¾å‡¦ã€‚
5. **parseDiffHeaderPaths ã®å¯¾ç§°æ€§ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯**: `src/ b/config.go` ã®ã‚ˆã†ã« ` b/` ã‚’å†…åŒ…ã™ã‚‹ãƒ‘ã‚¹ã‚’æ­£ã—ãå‡¦ç†ã€‚å˜ç´”ãª strings.Split ã§ã¯å¤±æ•—ã™ã‚‹ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’è€ƒæ…®æ¸ˆã¿ã€‚
6. **sessionLogSeq ã® race-free æ¡ç•ª**: ãƒ­ãƒƒã‚¯å†…ã®å˜ä¸€ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã§å˜èª¿å¢—åŠ ãŒä¿è¨¼ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è„†å¼±ãªè¤‡åˆã‚­ãƒ¼ä¾å­˜ã®é‡è¤‡æ’é™¤ãŒä¸è¦ã«ãªã‚‹ã€‚
7. **stubRuntimeEventsEmit(t) ãƒ˜ãƒ«ãƒ‘ãƒ¼**: ãƒ†ã‚¹ãƒˆã®é‡è¤‡ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤§å¹…å‰Šæ¸›ã€‚`t.Cleanup` ã«ã‚ˆã‚‹è‡ªå‹•ãƒªã‚¹ãƒˆã‚¢ãŒ Go ã‚¤ãƒ‡ã‚£ã‚ªãƒãƒ†ã‚£ãƒƒã‚¯ã€‚

### Go å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
1. **Handle() ã®è¨­è¨ˆå¤‰æ›´ï¼ˆbase error ã«ã‚‚ callback ã‚’å‘¼ã¶ï¼‰**: UI å¯ç”¨æ€§ã‚’å„ªå…ˆã—ãŸæ˜ç¢ºãªè¨­è¨ˆåˆ¤æ–­ã€‚å¯¾å¿œãƒ†ã‚¹ãƒˆ 2 æœ¬ç«‹ã¦ã§å¥‘ç´„ãŒå®Œå…¨ã«ä»•æ§˜åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚
2. **debug.Stack() ã‚’ os.Stderr ã«ç›´æ¥æ›¸ã**: TeeHandler ã®å†å¸°å‘¼ã³å‡ºã—ã‚’å›é¿ã€‚éè‡ªæ˜ãªè½ã¨ã—ç©´ã‚’å…ˆå›ã‚Šã—ã¦å¡ã„ã§ã„ã‚‹ã€‚
3. **WithAttrs/WithGroup ã® empty guard ãŒ slog.Handler ä»•æ§˜æº–æ‹ **: "empty group returns receiver unchanged" ã‚’å°‚ç”¨ãƒ†ã‚¹ãƒˆã§å›å¸°é˜²æ­¢ã€‚
4. **injectTestWindow ãƒ˜ãƒ«ãƒ‘ãƒ¼**: AddWindow API å‰Šé™¤å¾Œã‚‚ãƒãƒ«ãƒã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ†ã‚¹ãƒˆã®ç¶²ç¾…æ€§ã‚’ç¶­æŒã™ã‚‹å·§ã¿ãªãƒ†ã‚¹ãƒˆã‚·ãƒ¼ãƒ è¨­è¨ˆã€‚
5. **boolPtr â†’ testutil.Ptr çµ±åˆ**: ãƒ†ã‚¹ãƒˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã®å†—é•·ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’å‰Šæ¸›ã— DRY åŸå‰‡ã«é©åˆã€‚
6. **snapshot-refetch å¤±æ•—æ™‚ã®å³æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: nil ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã®å‡¦ç†ç¶™ç¶šã¨ã„ã†è„†å¼±ãƒ‘ã‚¹ã‚’æ’é™¤ã€‚`session-created` ã‚¤ãƒ™ãƒ³ãƒˆæ¼æ´©ã¾ã§æ¤œè¨¼ã—ãŸå‰¯ä½œç”¨é˜²æ­¢ãŒå¾¹åº•ã•ã‚Œã¦ã„ã‚‹ã€‚
7. **removedPanes ã®ç©ºã‚¹ãƒ©ã‚¤ã‚¹ä¿è¨¼**: JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã§ null ã§ã¯ãªã [] ã«ãªã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã‚³ãƒ¡ãƒ³ãƒˆã§ä¸å¯§ã«èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã€‚
8. **TestResolveDirectionalPane_MultipleWindowScopeIsolation (C-3)**: DirNext/DirPrev ãŒã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¢ƒç•Œã‚’ã¾ãŸãŒãªã„ã“ã¨ã‚’ 4 æ–¹å‘ã™ã¹ã¦ã§æ¤œè¨¼ã€‚å°†æ¥ã®ãƒãƒ«ãƒã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç§»è¡Œæ™‚ã®å›å¸°é˜²æ­¢ã¨ã—ã¦é«˜ä¾¡å€¤ã€‚

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
1. **ping+fetch ãƒ‘ã‚¿ãƒ¼ãƒ³**: `addEntry` ã®å‰Šé™¤ã«ã‚ˆã‚Š event-by-event è¿½åŠ ã¨ full snapshot å–å¾—ã®äºŒé‡ç®¡ç†ãŒè§£æ¶ˆã€‚é‡è¤‡æ’é™¤ãƒ­ã‚¸ãƒƒã‚¯ãŒä¸è¦ã«ãªã‚Šã‚·ãƒ³ãƒ—ãƒ«ã•ãŒå¤§å¹…å‘ä¸Šã€‚
2. **IMP-13 fetchSeq ãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**: `isMountedRef`ï¼ˆç¬¬1ã‚¬ãƒ¼ãƒ‰ï¼‰ã¨ seq æ¯”è¼ƒï¼ˆç¬¬2ã‚¬ãƒ¼ãƒ‰ï¼‰ã®äºŒé‡é˜²å¾¡ã«ã‚ˆã‚‹ network race condition å¯¾ç­–ãŒå …å®Ÿã€‚
3. **callback ref ãƒ‘ã‚¿ãƒ¼ãƒ³**: `useRef+useEffect([])` ã®ç„¡éŸ³ãªå¤±æ•—ãƒªã‚¹ã‚¯ã‚’æ ¹æœ¬çš„ã«è§£æ¶ˆã€‚cleanup é–¢æ•°ã®ä¿å­˜ãƒ»å‘¼ã³å‡ºã—é †åºï¼ˆel å…¥ã‚Œæ›¿ãˆå¯¾å¿œï¼‰ã‚‚æ­£ç¢ºã€‚
4. **viewerRegistry ã® globalThis + HMR è¨­è¨ˆ**: dispose æ™‚ã« `registry.length=0` ã§é…åˆ—ã‚’ã‚¯ãƒªã‚¢ã—ã€HMR å¾Œã® `resolveRegistry()` ãŒåŒä¸€é…åˆ—å‚ç…§ã‚’è¿”ã—ã¦ `registerView` å†å®Ÿè¡Œã§å†å……å¡«ã•ã‚Œã‚‹ã€‚è¨­è¨ˆãŒæ­£ç¢ºã€‚
5. **normalizeEntries ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: filter(seq>0) â†’ sort(seq) â†’ slice(-MAX_ENTRIES) ãŒã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤æ­£ç¢ºã€‚Go ã® zero value (0) ã‚’æ˜ç¤ºçš„ã«æ’é™¤ã™ã‚‹é˜²å¾¡çš„è¨­è¨ˆã€‚
6. **DiffViewer parseDiff ä¿®æ­£**: `if (match)` â†’ `if (!match) continue` å¤‰æ›´ã«ã‚ˆã‚Š hunk header ãƒãƒƒãƒå¤±æ•—æ™‚ã«ã‚´ãƒŸãƒ‡ãƒ¼ã‚¿ãŒ hunks ã«æ··å…¥ã—ãªããªã‚‹ã€‚æ­£ç¢ºãªä¿®æ­£ã€‚
7. **key={entry.seq}**: React reconciliation ã«å¯¾ã—ã¦å®‰å®šã‹ã¤ä¸€æ„ãªã‚­ãƒ¼ã€‚ts-index ã®è¤‡åˆã‚­ãƒ¼ã‚ˆã‚Šæ­£ç¢ºã€‚
8. **shortcutMap ã®ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³åŒ–**: Ctrl+Shift+E/G/L ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’å»ƒæ­¢ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¿½åŠ æ™‚ã« ViewerSystem.tsx ã®å¤‰æ›´ãŒä¸è¦ã«ãªã£ãŸã€‚
9. **--warning/--warning-10 CSS å¤‰æ•°ãƒˆãƒ¼ã‚¯ãƒ³åŒ–**: ãƒã‚¸ãƒƒã‚¯ã‚«ãƒ©ãƒ¼ãŒbase.cssã®å¤‰æ•°ã«æ˜‡æ ¼ã—ã€ãƒ†ãƒ¼ãƒå¤‰æ›´ã®ä¸€å…ƒç®¡ç†ãŒå¯èƒ½ã«ã€‚

---

## ã‚¿ã‚¹ã‚¯æ•´ç†è¡¨ï¼ˆä¿®æ­£ä½œæ¥­ã®ä¸¦åˆ—å¯å¦ï¼‰

ä½œæ¥­è€…ãŒè¤‡æ•°ã§åˆ†æ‹…ã™ã‚‹éš›ã®ä¾å­˜é–¢ä¿‚ã‚’æ•´ç†ã—ãŸè¡¨ã§ã™ã€‚åŒã˜åˆ—ã®ã‚¿ã‚¹ã‚¯ã¯åŒæ™‚ã«ä½œæ¥­ã§ãã¾ã™ã€‚

### å‡¡ä¾‹
- ğŸŸ¥ **Important**: å¯¾å¿œæ¨å¥¨ã®ä¿®æ­£
- ğŸŸ¨ **Suggestion**: è€ƒæ…®æ¨å¥¨ã®æ”¹å–„  
- â¬œ ä¾å­˜ãªã— = ä¸¦åˆ—ä½œæ¥­å¯
- â†’ çŸ¢å°å…ˆã®ã‚¿ã‚¹ã‚¯ãŒå®Œäº†å¾Œã«ä½œæ¥­

---

### ä¸¦åˆ—ä½œæ¥­ã‚°ãƒ«ãƒ¼ãƒ—è¡¨

| ã‚¿ã‚¹ã‚¯ID | å„ªå…ˆåº¦ | å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« | ä½œæ¥­å†…å®¹ | ä¾å­˜ | ä¸¦åˆ—å¯å¦ |
|---------|-------|------------|---------|------|---------|
| **[T-1]** | ğŸŸ¥ I-A01 | `app_devpanel_api.go` | buildUntrackedFileDiffSingle ã®ã‚µã‚¤ã‚ºTOCTOUä¿®æ­£ï¼ˆio.LimitReaderæ¡ç”¨ï¼‰ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-2]** | ğŸŸ¥ I-A02 | `app_session_log.go`, `app_events.go`, `useBackendSync.ts` | ã‚¤ãƒ™ãƒ³ãƒˆå app:error-log-updated â†’ app:session-log-updated ã¸å¤‰æ›´ï¼ˆGo + TSä¸¡æ–¹ï¼‰ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-3]** | ğŸŸ¥ I-A03 | `app_events.go`, `app_events_test.go` | tmux:window-created ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ã¨ãƒ†ã‚¹ãƒˆåæ”¹å–„ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-4]** | ğŸŸ¥ I-B01 | `internal/testutil/helpers.go` | go:fix inline ã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å¯¾å¿œç¢ºèªãƒ»ã‚³ãƒ¡ãƒ³ãƒˆä¿®æ­£ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-5]** | ğŸŸ¥ I-B02 | `command_router_handlers_window.go` | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ "flag copy" ã‚’ tmuxäº’æ›èªå½™ã«å¤‰æ›´ + ãƒ†ã‚¹ãƒˆæ›´æ–° | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-6]** | ğŸŸ¥ I-B03 | `command_router_handlers_window.go` | rollbackå¤±æ•—æ™‚ã® rmErr ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰éš è”½ + handleNewSession ã‚‚ç¢ºèª | T-5ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« â†’ åŒæ™‚ç·¨é›†ã«æ³¨æ„ | âš ï¸ T-5ã¨åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-7]** | ğŸŸ¥ I-B04 | `command_router_handlers_window.go` | getSessionForNewWindowFn ã® nil ã‚¬ãƒ¼ãƒ‰å‰Šé™¤ | T-5, T-6ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ T-5/T-6ã¨åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-8]** | ğŸŸ¥ I-C01 | `ErrorLogView.tsx` | markAllRead ã® useEffect â†’ useLayoutEffect åŒ– | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-9]** | ğŸŸ¥ I-C02 | `errorLogStore.ts` | backend restart å¾Œã® lastReadSeq ãƒªã‚»ãƒƒãƒˆãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-10]** | ğŸŸ¥ I-C03 | `ViewerSystem.tsx` | HMR å¾Œã® shortcutMap å†è¨ˆç®—å¯¾å¿œï¼ˆDEVç’°å¢ƒï¼‰ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-11]** | ğŸŸ¥ I-C04 | `wailsjs/go/models.ts` | prettier ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè¡Œã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆçµ±ä¸€ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-12]** | ğŸŸ¥ I-C05 | `useErrorLog.ts` | auto-scroll useEffect ã« registerBodyElement ä¾å­˜è¿½åŠ  | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-13]** | ğŸŸ¨ S-A01 | `app_devpanel_api.go` | parseDiffHeaderPaths ã‚³ãƒ¡ãƒ³ãƒˆæ”¹å–„ï¼ˆodd-length+rename ã‚±ãƒ¼ã‚¹è¿½è¨˜ï¼‰ | ãªã— | âœ… T-1ã¨åŒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-14]** | ğŸŸ¨ S-A02 | `app_devpanel_api.go` | EvalSymlinks(workDir) ã‚’å‘¼ã³å‡ºã—å…ƒã§ä¸€åº¦ã ã‘è¨ˆç®—ã™ã‚‹ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | T-1ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ T-1/T-13ã¨åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-15]** | ğŸŸ¨ S-A03 | `app_session_log.go` | sessionLogEmitMinInterval ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã¸æ˜‡æ ¼ | ãªã— | âœ… T-2ã¨åŒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-16]** | ğŸŸ¨ S-A04 | `app_session_log_test.go` | TestWriteSessionLogEntry_EmitsCorrectEventName ã‚’å˜ç´”åŒ– | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-17]** | ğŸŸ¨ S-A05 | `app_devpanel_api.go` | decodeGitPathLiteral ã« strconv.Unquote äº’æ›æ€§ã‚³ãƒ¡ãƒ³ãƒˆè¿½è¨˜ | T-1/T-13ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ åŒæ‹…å½“ã«æ¨å¥¨ |
| **[T-18]** | ğŸŸ¨ S-A06 | `app_devpanel_api_test.go` | rename + old path ã« " b/" å«ã‚€ã‚±ãƒ¼ã‚¹è¿½åŠ  | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-19]** | ğŸŸ¨ S-B01 | `session_manager_windows.go` | make([]*TmuxPane, 0, len(window.Panes)) ã¸å¤‰æ›´ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-20]** | ğŸŸ¨ S-B02 | `handler_test.go` | wrapped error ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ— assert è¿½åŠ  | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-21]** | ğŸŸ¨ S-B03 | `command_router_test_helpers_test.go` | pane ID æ–‡å­—åˆ—ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’å˜ä¸€é–¢æ•°ã«é›†ç´„ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-22]** | ğŸŸ¨ S-B04 | `handler_test.go` | callback panic æ™‚ã® stderr å‡ºåŠ›ãƒ†ã‚¹ãƒˆè¿½åŠ  | T-20ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ T-20ã¨åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-23]** | ğŸŸ¨ S-B05 | `session_manager_window_test.go` | terminal.Terminal{} ã®æ„å›³ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-24]** | ğŸŸ¨ S-C01 | `useBackendSync.ts` | errorLogFetchSeq = 0 ã® dead code å‰Šé™¤ã¾ãŸã¯ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-25]** | ğŸŸ¨ S-C02 | `errorLogStore.ts` | normalizeEntries ã« ts/msg ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼è¿½åŠ  | T-9ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ T-9ã¨åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåŒæ‹…å½“ã«æ¨å¥¨ï¼‰ |
| **[T-26]** | ğŸŸ¨ S-C03 | `viewerRegistry.ts` | RegistryGlobal å‹å®šç¾©ã®å¯èª­æ€§æ”¹å–„ | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-27]** | ğŸŸ¨ S-C04 | `ActivityStrip.tsx` | renderViewButton ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤–åŒ–ã¾ãŸã¯useCallbackåŒ– | ãªã— | âœ… ç‹¬ç«‹ |
| **[T-28]** | ğŸŸ¨ S-C05 | `viewerRegistry.ts` | position ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® union å‹æ´»ç”¨ã¨ãƒ•ã‚£ãƒ«ã‚¿å³å¯†åŒ– | T-26ã¨åŒãƒ•ã‚¡ã‚¤ãƒ« | âš ï¸ T-26ã¨åŒæ‹…å½“ã«æ¨å¥¨ |

---

### æ‹…å½“è€…åˆ¥æ¨å¥¨ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆä¾‹ï¼š3åä½“åˆ¶ï¼‰

| æ‹…å½“ | ã‚¿ã‚¹ã‚¯ç¾¤ | ä¸»å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« |
|-----|---------|--------------|
| **æ‹…å½“Aï¼ˆGo App + devpanelï¼‰** | T-1, T-3, T-13, T-14, T-15, T-17, T-18 | app_devpanel_api.go, app_events.go, app_session_log.go |
| **æ‹…å½“Bï¼ˆGo Internal tmux + sessionlogï¼‰** | T-2â€»ä¸€éƒ¨, T-4, T-5, T-6, T-7, T-19, T-20, T-21, T-22, T-23 | command_router_*.go, handler.go, session_manager_*.go |
| **æ‹…å½“Cï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å…¨èˆ¬ï¼‰** | T-2â€»ä¸€éƒ¨, T-8, T-9, T-10, T-11, T-12, T-16, T-24, T-25, T-26, T-27, T-28 | *.tsx, *.tsï¼ˆfrontendé…ä¸‹ï¼‰ |

> â€» T-2 ã¯Goãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼ˆæ‹…å½“Bï¼‰ã¨TSãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼ˆæ‹…å½“Cï¼‰ãŒåˆ†å²ã™ã‚‹ãŸã‚ã€ã‚¤ãƒ™ãƒ³ãƒˆåã‚’å…ˆã«æ±ºå®šã—ãŸä¸Šã§ä¸¦è¡Œå®Ÿæ–½å¯èƒ½ã€‚

---

### Important ã‚¿ã‚¹ã‚¯ã®ä¸¦åˆ—å®Ÿè¡Œãƒãƒƒãƒ—

```
ãƒ•ã‚§ãƒ¼ã‚º1ï¼ˆå…¨ä¸¦åˆ—ï¼‰:
  æ‹…å½“A: T-1, T-3
  æ‹…å½“B: T-4, T-5â†’T-6â†’T-7ï¼ˆåŒãƒ•ã‚¡ã‚¤ãƒ«ãŸã‚é †æ¬¡ï¼‰
  æ‹…å½“C: T-8, T-9, T-10, T-12

ãƒ•ã‚§ãƒ¼ã‚º2ï¼ˆãƒ•ã‚§ãƒ¼ã‚º1å®Œäº†å¾Œï¼‰:
  æ‹…å½“A: T-2ï¼ˆGoå´ï¼‰, T-13, T-14, T-15, T-17, T-18
  æ‹…å½“B: T-19, T-20, T-21, T-22, T-23
  æ‹…å½“C: T-2ï¼ˆTSå´ï¼‰, T-11, T-16, T-24, T-25, T-26, T-27, T-28
```

---

## ã¾ã¨ã‚

| é …ç›® | æ•° |
|------|---|
| Critical Issues | 0 |
| Important Issues | 12 |
| Suggestions | 16 |
| åˆè¨ˆã‚¿ã‚¹ã‚¯ | 28 |

æœ¬PRã§å®Ÿè£…ã•ã‚ŒãŸ ping+fetch ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å¤šå±¤ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«é˜²å¾¡ã€ring buffer æ”¹å–„ã€TeeHandler ã® panic å›å¾©è¨­è¨ˆã¯ã„ãšã‚Œã‚‚å …å®Ÿãªå®Ÿè£…ã§ã™ã€‚Important Issues ã®ä¸­ã§å®Ÿéš›ã®ä¸å…·åˆã«ã¤ãªãŒã‚‹å¯èƒ½æ€§ãŒæœ€ã‚‚é«˜ã„ã‚‚ã®ã¯ **I-A01**ï¼ˆTOCTOU ã‚µã‚¤ã‚ºã‚¬ãƒ¼ãƒ‰ï¼‰ã€**I-C01**ï¼ˆãƒãƒƒã‚¸ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ï¼‰ã€**I-C02**ï¼ˆbackend restart unreadCountï¼‰ã®3ç‚¹ã§ã™ã€‚å„ªå…ˆçš„ã«å¯¾å¿œã—ã¦ãã ã•ã„ã€‚
