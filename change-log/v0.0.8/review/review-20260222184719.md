# PR Review Report â€” 2026-02-22 18:47:19

<!-- ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡: myT-x/ é…ä¸‹ã®æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ« (git diff) -->
<!-- 5ã‚«ãƒ†ã‚´ãƒªä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼: A=DevPanel/SessionLog, B=Events/Lifecycle/Pane, C=tmux internal, D=Frontend Viewer/Stores, E=Styles/Wails/NewFiles -->

---

## å¤‰æ›´ã‚µãƒãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª | ä¸»ãªå¤‰æ›´ | å¤‰æ›´è¡Œæ•° |
|---------|---------|---------|
| A: DevPanel / SessionLog | SessionLogEntry.Seq è¿½åŠ , ping-only ã‚¤ãƒ™ãƒ³ãƒˆåŒ–, TeeHandler æ”¹å–„ | +1730 |
| B: Events / Lifecycle / Pane | [DEBUG-xxx] â†’ [xxx] ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹çµ±ä¸€, tmux:window-created ãƒãƒªã‚·ãƒ¼è¿½è¨˜ | +64 |
| C: tmux internal | rollback ã‚¨ãƒ©ãƒ¼éš è”½ä¿®æ­£, snapshot refetch DI åŒ–, multi-window ãƒ†ã‚¹ãƒˆè¿½åŠ  | +830 |
| D: Frontend Viewer / Stores | Viewer Registry HMRå¯¾å¿œ, ErrorLogStore seq-based è¨­è¨ˆ, ping+fetch ãƒ¢ãƒ‡ãƒ«å®Ÿè£… | +1100 |
| E: Styles / Wails / New Files | diff-view æ–°æ©Ÿèƒ½, CSS å¤‰æ•°å¯¾å¿œ, Wailsãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°æ›´æ–° | ~400 |

---

## ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ« (ãƒãƒ¼ã‚¸å‰ã«å¿…ãšä¿®æ­£)

### D-1: errorLogStore.ts â€” ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†èµ·å‹•æ™‚ã®ãƒãƒƒã‚¸ãŒå‡ºãªã„

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/stores/errorLogStore.ts`  
**å•é¡Œ**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†èµ·å‹•æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã®ã‚³ãƒ¡ãƒ³ãƒˆã¨å®Ÿè£…ãŒçŸ›ç›¾ã—ã¦ã„ã‚‹ã€‚

```typescript
// ç¾çŠ¶ã‚³ãƒ¼ãƒ‰
if (maxNewSeq > 0 && maxNewSeq < lastReadSeq) {
    lastReadSeq = maxNewSeq;  // "clear read marker" ã¨ã‚³ãƒ¡ãƒ³ãƒˆãŒã‚ã‚‹ãŒå®Ÿéš›ã¯ã‚¯ãƒªã‚¢ã—ã¦ã„ãªã„
}
```

- `lastReadSeq = maxNewSeq` ã«è¨­å®šã™ã‚‹ã¨ã€seq=1 ã®ã‚¨ãƒ³ãƒˆãƒªãŒ `seq(1) <= lastReadSeq(1)` ã§ãƒ«ãƒ¼ãƒ—ãŒå³ `break` ã—ã€`unreadCount = 0` ã«ãªã‚‹
- ã‚³ãƒ¡ãƒ³ãƒˆã« "clear read marker" ã¨ã‚ã‚‹ãŒå®Ÿéš›ã¯ã€Œæœ€æ–°seqã«ãƒªã‚»ãƒƒãƒˆã€ã—ã¦ãŠã‚Šå†èµ·å‹•å¾Œã‚¨ãƒ³ãƒˆãƒªãŒå…¨ã¦æ—¢èª­æ‰±ã„ã«ãªã‚Šãƒãƒƒã‚¸ãŒå‡ºãªã„
- **æ„å›³ãŒã€Œå†èµ·å‹•å¾Œã‚¨ãƒ³ãƒˆãƒªã‚’æœªèª­æ‰±ã„ã€ãªã‚‰ `lastReadSeq = 0` ã«å¤‰æ›´ã™ã‚‹ã“ã¨**
- **æ„å›³ãŒã€Œå…¨æ—¢èª­æ‰±ã„ã€ãªã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã‚’ "treat as already read (same as first-load)" ã«ä¿®æ­£ã™ã‚‹ã“ã¨**

```typescript
// ä¿®æ­£æ¡ˆ (æœªèª­ã«ã™ã‚‹å ´åˆ)
if (maxNewSeq > 0 && maxNewSeq < lastReadSeq) {
    lastReadSeq = 0;  // seq regress = backend restart. clear read marker to show new entries as unread
}
```

---

### E-1: DiffContentViewer.tsx â€” ä»®æƒ³åŒ–ãªã—ã§å¤§é‡è¡Œã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/diff-view/DiffContentViewer.tsx`  
**å•é¡Œ**: `DiffFileSidebar.tsx` ã§ã¯ `react-window` + `FixedSizeList` ã«ã‚ˆã‚‹ä»®æƒ³åŒ–ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŒã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å´ã®å·®åˆ†è¡Œã¯æšæŒ™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«ãªã£ã¦ã„ã‚‹ã€‚  
ä¾å­˜é–¢ä¿‚ãƒ•ã‚¡ã‚¤ãƒ«ãªã©æ•°åƒè¡Œã®å¤‰æ›´ãŒã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹ã¨å¤§é‡ DOM ãƒãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£åŒ–ã™ã‚‹ã€‚

**ä¿®æ­£**: `FixedSizeList` ã¾ãŸã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å†…ã®ä»®æƒ³ãƒªã‚¹ãƒˆå¯¾å¿œã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã€‚

---

## é‡è¦ (ä¿®æ­£æ¨å¥¨)

### A-1: internal/sessionlog/handler_test.go â€” writePipe ã®äºŒé‡ã‚¯ãƒ­ãƒ¼ã‚º

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/internal/sessionlog/handler_test.go`  
**å•é¡Œ**: `TestTeeHandler_CallbackPanic_WritesToStderr` ã§ `writePipe.Close()` ãŒãƒ†ã‚¹ãƒˆæœ¬ä½“ã¨ `t.Cleanup` ã®ä¸¡æ–¹ã§å‘¼ã°ã‚Œã¦ã„ã‚‹ã€‚

```go
// ãƒ†ã‚¹ãƒˆæœ¬ä½“
_ = writePipe.Close()

// t.Cleanup å†…ã§ã‚‚
t.Cleanup(func() {
    os.Stderr = origStderr
    _ = readPipe.Close()
    _ = writePipe.Close()  // â† æ—¢ã«Closeæ¸ˆã¿ã®ãŸã‚äºŒé‡ã‚¯ãƒ­ãƒ¼ã‚º
})
```

å³åº§ã®éšœå®³ã¯ãªã„ãŒ OS ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ«ç®¡ç†ã®è¦³ç‚¹ã§å¥½ã¾ã—ããªã„ã€‚`t.Cleanup` å†…ã® `writePipe.Close()` ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã€‚

---

### A-2: app_devpanel_api.go â€” HEAD ref æ¤œå‡ºã®èª¤æ¤œçŸ¥ãƒªã‚¹ã‚¯

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_devpanel_api.go`  
**å•é¡Œ**: `DevPanelGitLog` ã® refs æ§‹ç¯‰ãƒ«ãƒ¼ãƒ—ã§ `strings.Contains(fields[6], "HEAD")` ã«ã‚ˆã‚‹ãƒãƒƒãƒãŒã€`"tag: v1.0-HEAD"` ã‚„ `"CHANGELOG-HEAD"` ã®ã‚ˆã†ãªéƒ¨åˆ†æ–‡å­—åˆ—ã§ã‚‚èª¤æ¤œçŸ¥ã™ã‚‹ã€‚

```go
// ç¾çŠ¶ (èª¤æ¤œçŸ¥ã‚ã‚Š)
if strings.Contains(fields[6], "HEAD") {
    refs = append([]string{"HEAD"}, refs...)
}
```

```go
// ä¿®æ­£æ¡ˆ: å˜èªå¢ƒç•Œã§åˆ¤å®š
isHeadAttached := strings.Contains(fields[6], "HEAD -> ") ||
    fields[6] == "HEAD" ||
    strings.HasSuffix(fields[6], ",HEAD") ||
    strings.HasSuffix(fields[6], ", HEAD")
if isHeadAttached {
    refs = append([]string{"HEAD"}, refs...)
}
```

---

### B-1: app_lifecycle.go â€” `[shim]` ã®ã¿å°æ–‡å­—ã§ä¸çµ±ä¸€

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_lifecycle.go` (ensureShimReady é–¢é€£)  
**å•é¡Œ**: åŒãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ä»–ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ (`[CONFIG]`, `[HOTKEY]`, `[IPC]`) ã¯ã™ã¹ã¦å¤§æ–‡å­—ã ãŒ `[shim]` ã®ã¿å°æ–‡å­—ã€‚`grep '[SHIM]'` ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§ããªããªã‚‹é‹ç”¨ä¸Šã®å•é¡ŒãŒã‚ã‚‹ã€‚

```go
// ä¿®æ­£
slog.Warn("[SHIM] resolveShimInstallDirFn failed", ...)
```

---

### C-1: command_router_test_helpers_test.go â€” `injectTestWindow` ã® topology generation æœªæ›´æ–°

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/internal/tmux/command_router_test_helpers_test.go`  
**å•é¡Œ**: `injectTestWindow` ã¯ `session.Windows = append(...)` ã¨ `manager.panes[pane.ID] = pane` ã‚’è¡Œã†ãŒ `markTopologyMutationLocked()` ã‚’å‘¼ã°ãªã„ã€‚`generation` / `topologyGeneration` / `sortedNamesDirty` ãŒå®Ÿéš›ã® state ã¨ä¹–é›¢ã™ã‚‹ãŸã‚ã€`session_manager_snapshot_delta_test.go` ç­‰ã¨ã®çµ„ã¿åˆã‚ã›ã§ delta ãŒæ¤œå‡ºã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

```go
// ä¿®æ­£: è¿½åŠ å¾Œã«å‘¼ã³å‡ºã™
session.Windows = append(session.Windows, window)
manager.panes[pane.ID] = pane
manager.markTopologyMutationLocked()  // keep generation in sync
```

ã¾ãŸã¯æ„å›³çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ãªã‚‰ãã®æ—¨ã‚³ãƒ¡ãƒ³ãƒˆã§æ˜ç¤ºã™ã‚‹ã“ã¨ã€‚

---

### D-2: ErrorLogView.tsx â€” `useLayoutEffect` ã§ã‚¹ãƒˆã‚¢æ›´æ–°ã¯ä¸é©åˆ‡

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/error-log/ErrorLogView.tsx`  
**å•é¡Œ**: `markAllRead()` ã¯ DOM æ“ä½œã‚’ä¸€åˆ‡è¡Œã‚ãªã„ã‚¹ãƒˆã‚¢çŠ¶æ…‹æ›´æ–°ãªã®ã« `useLayoutEffect` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚ã“ã‚Œã¯ãƒšã‚¤ãƒ³ãƒˆå‰ã«åŒæœŸå®Ÿè¡Œã•ã‚Œãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚React å…¬å¼ã‚‚ `useLayoutEffect` ã¯ DOM èª­ã¿æ›¸ãã«é™å®šã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ã€‚Strict Mode ã§ã¯äºŒé‡å®Ÿè¡Œã•ã‚Œã‚‹ç‚¹ã‚‚è¦æ³¨æ„ã€‚

```tsx
// ä¿®æ­£: useEffect ã«å¤‰æ›´
useEffect(() => {
    markAllRead();
}, [entries, markAllRead]);
```

---

### D-3: ActivityStrip.tsx â€” `subscribeRegistry` ã‚’åˆ©ç”¨ã—ã¦ã„ãªã„

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/ActivityStrip.tsx`  
**å•é¡Œ**: `ActivityStrip` ã¯ `getRegisteredViews()` ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‹ã‚‰ç›´æ¥å–å¾—ã—ã¦ã„ã‚‹ãŒã€registry å¤‰æ›´ã‚’è‡ªåˆ†ã§ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ãªã„ã€‚ç¾çŠ¶ã¯ `ViewerSystem` ã® `registryVersion` state æ›´æ–°ã§è¦ªãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ãŸã‚é–“æ¥çš„ã«å‹•ä½œã—ã¦ã„ã‚‹ãŒã€å°†æ¥ `ActivityStrip` ãŒ `ViewerSystem` ã®å¤–ã«ç§»å‹•ã—ãŸå ´åˆã«ç„¡éŸ³ã§å£Šã‚Œã‚‹ã€‚

**ä¿®æ­£æ¡ˆ**: propsã§ `views` ã‚’å—ã‘å–ã‚‹ã‹ã€`subscribeRegistry` ã§ç‹¬ç«‹ã—ãŸ reactivity ã‚’æŒãŸã›ã‚‹ã“ã¨ã€‚

---

### E-2: DiffFileSidebar.tsx â€” ARIA tree ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/diff-view/DiffFileSidebar.tsx`  
**å•é¡Œ**: `role="tree"` / `role="treeitem"` ã¨ `tabIndex={0}` ãŒè¨­å®šã•ã‚Œ Enter/Space ã¯å®Ÿè£…ãŒã‚ã‚‹ãŒã€ARIA tree spec ãŒè¦æ±‚ã™ã‚‹ `ArrowDown` / `ArrowUp` / `ArrowRight` / `ArrowLeft` ã‚­ãƒ¼å¯¾å¿œãŒãªã„ã€‚ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é•åã€‚

---

### E-3: viewer.css â€” `.diff-expand-bar:hover` ã® `cursor: pointer` ãŒèª¤è§£ã‚’æ‹›ã

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/styles/viewer.css`  
**å•é¡Œ**: åŸºæœ¬ãƒ«ãƒ¼ãƒ«ã§ `cursor: default` æŒ‡å®šãŒã‚ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãš `.diff-expand-bar:hover` ã§ `cursor: pointer` ã«ä¸Šæ›¸ãã—ã¦ã„ã‚‹ã€‚`title` å±æ€§ã«ã¯ã€Œexpansion is not availableã€ã¨æ›¸ã‹ã‚Œã¦ãŠã‚Šã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä½•ã‚‚èµ·ããªã„ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èª¤è§£ã•ã›ã‚‹ã€‚`:hover` ã® `cursor: pointer` ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã€‚

---

### E-4: test_diff_tree.js â€” ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãƒªãƒã‚¸ãƒˆãƒªã«æ®‹å­˜

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/test_diff_tree.js`  
**å•é¡Œ**: `buildDiffTree` ã®å‹•ä½œç¢ºèªç”¨ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚æœ¬ç•ªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ãªã„ãŸã‚ãƒªãƒã‚¸ãƒˆãƒªã«å«ã‚ã‚‹ã¹ãã§ãªã„ã€‚`.gitignore` ã«è¿½åŠ ã™ã‚‹ã‹å‰Šé™¤ã™ã‚‹ã“ã¨ã€‚

---

## ææ¡ˆ (ã‚ã‚‹ã¨è‰¯ã„)

### A-3: `TestGetSessionErrorLog_EmptyReturnsEmptySlice` â€” nil ã‚¹ãƒ©ã‚¤ã‚¹ä¿è¨¼ãƒ†ã‚¹ãƒˆã®æ¬ å¦‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_session_log_test.go`  
ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒã€Œnilã§ã¯ãªãç©ºã‚¹ãƒ©ã‚¤ã‚¹ã‚’è¿”ã™ã€ã¨ã„ã†ä¿è¨¼ã‹ã‚‰ã€Œ1ã‚¨ãƒ³ãƒˆãƒªã‚’è¿”ã™ã€ã‚±ãƒ¼ã‚¹ã«å¤‰æ›´ã•ã‚ŒãŸãŸã‚ã€`GetSessionErrorLog()` ã® non-nil ä¿è¨¼ã®ãƒ†ã‚¹ãƒˆãŒå¤±ã‚ã‚ŒãŸã€‚`writeEntry: false` ã®ã‚±ãƒ¼ã‚¹ã§ `nil == result` ã‚’ã‚¢ã‚µãƒ¼ãƒˆã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’åˆ¥é€”è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚

---

### A-4: `formatIndexAsTimestamp` â€” æœˆå¢ƒç•Œãƒ†ã‚¹ãƒˆã®æ¬ å¦‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_session_log_test.go`  
è¤‡æ•°ãƒ†ã‚¹ãƒˆãŒä¾å­˜ã™ã‚‹ãƒ†ã‚¹ãƒˆç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®å¢ƒç•Œã‚±ãƒ¼ã‚¹ (index=86400 ãŒæœˆã‚’è·¨ãã‹) ã®ãƒ†ã‚¹ãƒˆãŒãªã„ã€‚æ¨å¥¨ã¯ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒ¼ãƒ‰ã§ã‚‚æ ¸å¿ƒãƒ­ã‚¸ãƒƒã‚¯ã«ã¯å¢ƒç•Œãƒ†ã‚¹ãƒˆã‚’1ä»¶è¿½åŠ ã™ã‚‹ã“ã¨ã€‚

---

### A-5: `writeSessionLogEntry` ã®ä¸¦è¡Œæ›¸ãè¾¼ã¿ Seq å”¯ä¸€æ€§ãƒ†ã‚¹ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_session_log_test.go`  
`TestWriteSessionLogEntry_SeqMonotonicallyIncreasing` ã¯ç›´åˆ— write ã®ã¿ã‚’æ¤œè¨¼ã—ã¦ã„ã‚‹ã€‚è¤‡æ•° goroutine ã‹ã‚‰ã®åŒæ™‚å‘¼ã³å‡ºã—ã§ Seq ãŒé‡è¤‡ã—ãªã„ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ (`go test -race` ãŒå›°é›£ã§ã‚‚ç›´åˆ—ã§ç¢ºèªå¯èƒ½)ã€‚

---

### A-6: `devPanelExcludedDirs` â€” å¯å¤‰ã‚¹ãƒ©ã‚¤ã‚¹ã§å¤–éƒ¨å¤‰æ›´ãƒªã‚¹ã‚¯

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_devpanel_api.go`  
```go
var devPanelExcludedDirs = []string{".git", "node_modules"}
```
ã‚¹ãƒ©ã‚¤ã‚¹ã¯å¤–éƒ¨ã‹ã‚‰ã®è¦ç´ å¤‰æ›´ãŒå¯èƒ½ã€‚ãƒ†ã‚¹ãƒˆã§ã®äºˆæœŸã›ã¬æ±šæŸ“é˜²æ­¢ã®ãŸã‚ `[...]string` é…åˆ—ã¾ãŸã¯é–¢æ•°ã§è¿”ã™ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¤‰æ›´ã‚’æ¨å¥¨ã€‚

---

### B-2: spec=="" ã®å ´åˆã®ãƒ›ãƒƒãƒˆã‚­ãƒ¼ãƒ­ã‚°ãƒ†ã‚¹ãƒˆãŒæ¬ å¦‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_lifecycle_test.go`  
`TestConfigureGlobalHotkeyLogsWhenManagerUnavailable` ã¯ `hotkeys == nil` æ™‚ã®ã¿ã‚«ãƒãƒ¼ã€‚`"[HOTKEY] global hotkey is empty, skipping registration"` ãƒ­ã‚°ã‚’æ¤œè¨¼ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒæ¬ å¦‚ã—ã¦ã„ã‚‹ã€‚

---

### B-3: `tmux:window-created` ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã«æ›´æ–°æ¡ˆå†…ã‚³ãƒ¡ãƒ³ãƒˆãŒã‚ã‚‹ã¨è‰¯ã„

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/app_events_test.go`  
å°†æ¥ emitter ãŒè¿½åŠ ã•ã‚ŒãŸã¨ãã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å `"window created (policy registered, no emitter yet)"` ã®æ›´æ–°æ¼ã‚ŒãŒèµ·ãã‚„ã™ã„ã€‚`// TODO: when emitter is added, remove "(no emitter yet)" from name` ã‚³ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ã‚’æ¨å¥¨ã€‚

---

### C-2: `rollbackSession` ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®é‡è¤‡ (DRY æ”¹å–„ä½™åœ°)

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/internal/tmux/command_router_handlers_session.go` / `command_router_handlers_window.go`  
`handleNewSession` ã¨ `handleNewWindow` ã®ä¸¡æ–¹ã§åŒä¸€ãƒ­ã‚¸ãƒƒã‚¯ã® `rollbackSession` ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒç‹¬ç«‹å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€‚å·®ç•°ã¯ãƒ­ã‚°ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®ã¿ã€‚ç¾çŠ¶ã¯è¨±å®¹ç¯„å›²å†…ã ãŒã€å°†æ¥çš„ãªæ‹¡å¼µã‚’è€ƒæ…®ã™ã‚‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ã¸ã®é›†ç´„ã‚’æ¤œè¨ã€‚

---

### C-3: split-window ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã‚¤ãƒ™ãƒ³ãƒˆæ¼ã‚Œã‚¢ã‚µãƒ¼ãƒˆæ¬ å¦‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/internal/tmux/command_router_handlers_pane_test.go`  
attach å¤±æ•—æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã§ `tmux:pane-created` ã¨ `tmux:layout-changed` ãŒ emit ã•ã‚Œã¦ã„ãªã„ã“ã¨ã®æ¤œè¨¼ãŒãªã„ã€‚å›å¸°é˜²æ­¢ã¨ã—ã¦è¿½åŠ æ¨å¥¨ã€‚

---

### D-4: `useErrorLog.ts` ã® auto-scroll ä¾å­˜é…åˆ—ã« `registerBodyElement` ã¯ä¸è¦

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/error-log/useErrorLog.ts`  
`registerBodyElement` ã¯ `useCallback([], ...)` ã§ stable ãªãŸã‚ã€ä¾å­˜é…åˆ—ã¸ã®è¿½åŠ ã¯ no-opã€‚ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€äººã¸ã®æ··ä¹±ã‚’é¿ã‘ã‚‹ãŸã‚ã‚³ãƒ¡ãƒ³ãƒˆã§ç†ç”±ã‚’æ˜ç¤ºã™ã‚‹ã‹é™¤å»ã™ã‚‹ã“ã¨ã€‚

---

### D-5: `viewerRegistry.ts` ã® `resolveRegistryState` ã§å†—é•·ãªå†ã‚¢ã‚¯ã‚»ã‚¹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/viewerRegistry.ts`  
```typescript
// ç¾çŠ¶ (å†—é•·)
globalObject[REGISTRY_KEY] = { plugins: [], listeners: new Set() };
return globalObject[REGISTRY_KEY] as RegistryState;

// æ”¹å–„
const state: RegistryState = { plugins: [], listeners: new Set() };
globalObject[REGISTRY_KEY] = state;
return state;
```

---

### D-6: `ActivityStrip.tsx` â€” spacer ãŒ topViews ç©ºã®å ´åˆã§ã‚‚è¡¨ç¤ºã•ã‚Œã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/ActivityStrip.tsx`  
`viewer-strip-spacer` ã®è¡¨ç¤ºæ¡ä»¶ãŒ `bottomViews.length > 0` ã®ã¿ã€‚`topViews.length === 0` ã®å ´åˆã§ã‚‚ spacer ãŒå…ˆé ­ã«è¡¨ç¤ºã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚`topViews.length > 0 && bottomViews.length > 0` ã¸ã®å¤‰æ›´ã‚’æ¨å¥¨ã€‚

---

### E-5: `viewerRegistry.test.ts` â€” ãƒ†ã‚¹ãƒˆéš”é›¢ãŒãƒ•ãƒ©ã‚¸ãƒ£ã‚¤ãƒ«

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/tests/viewerRegistry.test.ts`  
`beforeEach` ã§å†…éƒ¨é…åˆ—ã‚’ `splice(0)` ã§ã‚¯ãƒªã‚¢ã—ã¦ã„ã‚‹ãŒã€`getRegisteredViews()` ãŒã‚³ãƒ”ãƒ¼ã‚’è¿”ã™ã‚ˆã†å¤‰æ›´ã•ã‚ŒãŸå ´åˆã«ãƒ†ã‚¹ãƒˆéš”é›¢ãŒç„¡éŸ³ã§å£Šã‚Œã‚‹ã€‚ãƒ†ã‚¹ãƒˆç”¨ã® `__resetForTesting()` ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‹ã€æ˜ç¤ºçš„ãªã‚³ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ã‚’æ¨å¥¨ã€‚

---

### E-6: `errorLogStore.test.ts` â€” ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/tests/errorLogStore.test.ts`  
ä»¥ä¸‹ãŒã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ãªã„:
- `markAllRead()` å¾Œã® `unreadCount` ã¨ `lastReadSeq` ã®æ›´æ–°ç¢ºèª
- `MAX_ENTRIES` è¶…éæ™‚ã®å¤ã„ã‚¨ãƒ³ãƒˆãƒª eviction ã¨ unreadCount å†è¨ˆç®—
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†èµ·å‹• (seq regress) æ™‚ã® lastReadSeq ãƒªã‚»ãƒƒãƒˆå‹•ä½œ

---

### E-7: `DiffView.tsx` â€” ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã«å¤ã„çµ±è¨ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/diff-view/DiffView.tsx`  
ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ (`isLoading === true`) ã§ã‚‚å‰å›ã® `diffResult` ãŒæ®‹ã£ã¦ã„ã‚‹å ´åˆã€ãƒ˜ãƒƒãƒ€ãƒ¼ã«å¤ã„çµ±è¨ˆãŒè¡¨ç¤ºã•ã‚Œç¶šã‘ã‚‹ã€‚ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã‚¹ã‚¿ãƒƒãƒ„ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã‹ã€ã‚¹ãƒ”ãƒŠãƒ¼ã§ç½®ãæ›ãˆã‚‹ã¨ã‚ˆã‚Šæ˜ç¢ºã€‚

---

### E-8: `diffViewTypes.ts` â€” `WorkingDiffFile.status` ã‚’ Union å‹ã«ã™ã‚‹ã¹ã

**ãƒ•ã‚¡ã‚¤ãƒ«**: `myT-x/frontend/src/components/viewer/views/diff-view/diffViewTypes.ts`  
`WorkingDiffFile.status` ã¯ `string` å‹ã€‚`"added" | "deleted" | "renamed" | "untracked" | "modified"` ã®ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«ã™ã‚‹ã¨ã€`statusColor()` ã§ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã‚„èª¤å­—ã®æ—©æœŸæ¤œå‡ºãŒã§ãã‚‹ã€‚

---

## å•é¡Œãªã—ãƒ»è‰¯ã„ç‚¹

### ã‚«ãƒ†ã‚´ãƒª A (DevPanel / SessionLog)
- **`sessionLogSeq` ã®æ’ä»–åˆ¶å¾¡**: `sessionLogMu.Lock()` å†…ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œ Seq ã® atomic æ€§ãŒä¿ãŸã‚Œã¦ã„ã‚‹
- **callback panic ã® recover å®Ÿè£…**: slog â†’ TeeHandler â†’ writeSessionLogEntry ã®å†å¸°çš„ callback ã‚’é˜²ãè¨­è¨ˆãŒé©åˆ‡
- **`WithGroup("")` / `WithAttrs(nil)` ã® slog.Handler spec æº–æ‹ **: æ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- **`resolveAndValidatePath` ã®äºŒé‡æ¤œè¨¼**: `filepath.IsLocal` + `EvalSymlinks` + `isPathWithinBase` ã®äºŒæ®µéšã§ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ã‚’é˜²å¾¡
- **`snapshot()` ã® non-nil ä¿è¨¼**: `[]SessionLogEntry{}` ã‚’è¿”ã— nil ã‚’è¿”ã•ãªã„
- **`TestCleanupOldSessionLogs_PreservesCurrentFile`**: PID ä»˜ãã®ã‚«ãƒ¬ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒ cleanup å¯¾è±¡å¤–ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª
- **NOTE ã‚³ãƒ¡ãƒ³ãƒˆç¾¤**: A-0, A-0b, A-2 ç­‰ã®è¨­è¨ˆæ ¹æ‹ ãŒæ˜æ–‡åŒ–ã•ã‚Œã¦ãŠã‚Šä¿å®ˆã‚³ã‚¹ãƒˆãŒä½ã„

### ã‚«ãƒ†ã‚´ãƒª B (Events / Lifecycle / Pane)
- **`[DEBUG-xxx]` â†’ `[xxx]` ã®å¤‰æ›æ¼ã‚Œã‚¼ãƒ­**: ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡5ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ®‹å­˜ãªã—
- **`tmux:window-created` ã® emit ç®‡æ‰€ãŒã‚¼ãƒ­**: ãƒãƒªã‚·ãƒ¼è¿½åŠ ã®ãƒªã‚¹ã‚¯ã¯ç¾æ™‚ç‚¹ã§ãªã„
- **`TestAllRegisteredEventsHaveSnapshotPolicyTests` ã® exhaustive guard**: ä¸€è²«æ€§ã‚’è‡ªå‹•æ¤œè¨¼ã™ã‚‹ä»•çµ„ã¿ãŒå„ªç§€
- **ãƒ›ãƒƒãƒˆã‚­ãƒ¼ãƒ­ã‚°åˆ†å‰²**: nil ã¨ã‚¹ãƒšãƒƒã‚¯æœªè¨­å®šã‚’åŒºåˆ¥ã—ãŸ2ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ã®åˆ†å‰²ã¯ãƒ‡ãƒãƒƒã‚°åŠ¹ç‡ã‚’å‘ä¸Š

### ã‚«ãƒ†ã‚´ãƒª C (tmux internal)
- **`originalErr` ã®ã¿è¿”ã™ rollback å¤‰æ›´**: å†…éƒ¨è©³ç´°ã‚’å¤–éƒ¨ã«æ¼ã‚‰ã•ãšãƒ­ã‚°ã®ã¿ã«æ®‹ã™ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒé©åˆ‡
- **rollback å¾Œã« `tmux:session-created` ãŒ emit ã•ã‚Œãªã„ã“ã¨ã® assertion**: `wantRollback: true` ã‚±ãƒ¼ã‚¹ã§æ˜ç¤ºçš„ã«æ¤œè¨¼
- **`removedPanes` ã® make+append å¤‰æ›´**: nil ã‚¹ãƒ©ã‚¤ã‚¹ã‚’è¿”ã•ãªã„ä¿è¨¼ãŒå°†æ¥ã® JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¯¾å¿œã«é˜²å¾¡çš„
- **`SurvivingWindowID` ã® zero value æ›–æ˜§ã•ã«é–¢ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ**: å°†æ¥ã®èª¤ç”¨é˜²æ­¢ã¨ã—ã¦æœ‰ç”¨
- **`Ptr[T any]` ãƒ˜ãƒ«ãƒ‘ãƒ¼**: æœ€å°å®Ÿè£…ã§æ±ç”¨æ€§ã‚ã‚Š

### ã‚«ãƒ†ã‚´ãƒª D (Frontend Viewer / Stores)
- **`errorLogFetchSeq` ã«ã‚ˆã‚‹ stale response å»ƒæ£„**: JavaScript ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Œå…¨ãªåŸå­æ€§ã‚’ä¿æŒ
- **`isMountedRef.current` ã«ã‚ˆã‚‹ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆå¾Œã‚¬ãƒ¼ãƒ‰**: cleanup å¾Œã®ç™ºç«ã‚’ç¢ºå®Ÿã«ã‚¬ãƒ¼ãƒ‰
- **entry key `entry.seq` ã¸ã®å¤‰æ›´**: stable key ã§ä¸è¦ãª DOM å†ä½œæˆã‚’é˜²ã
- **`callback ref` ãƒ‘ã‚¿ãƒ¼ãƒ³ã® cleanup é †åº**: React ã®ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆé †åºã«æ­£ã—ãå¯¾å¿œ

### ã‚«ãƒ†ã‚´ãƒª E (Styles / Wails / New Files)
- **CSS å¤‰æ•°ã®å®Œå…¨æº–æ‹ **: ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãªã CSSå¤‰æ•°ã‚’ä½¿ç”¨
- **`.viewer-strip-spacer` ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: `flex: 1; min-height: 0` ãŒæ­£ã—ãæ©Ÿèƒ½
- **`DiffFileSidebar.tsx` ã®ä»®æƒ³åŒ–**: `react-window` + `ResizeObserver` ã«ã‚ˆã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å®Ÿè£…ãŒé©åˆ‡
- **`useDiffView.ts` ã®ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³å¯¾ç­–**: `requestIDRef` + `mountedRef` ã®å®Ÿè£…ãŒæ­£ã—ã„

---

## ã‚¿ã‚¹ã‚¯æ•´ç†è¡¨

ä½œæ¥­è€…ç›®ç·šã§ã®ã‚¿ã‚¹ã‚¯ä¸€è¦§ã§ã™ã€‚å„ã‚¿ã‚¹ã‚¯ãŒä»–ã®ã‚¿ã‚¹ã‚¯ã¨ä¸¦åˆ—ã§ä½œæ¥­å¯èƒ½ã‹ã©ã†ã‹ã‚’ç¤ºã—ã¾ã™ã€‚

### é‡è¦åº¦åˆ¥ã‚¿ã‚¹ã‚¯ä¸€è¦§

| # | é‡è¦åº¦ | ãƒ•ã‚¡ã‚¤ãƒ« | æ¦‚è¦ | ä¸¦åˆ—ä½œæ¥­ | å‚™è€ƒ |
|---|--------|---------|------|---------|------|
| T-01 | ğŸ”´ Critical | `frontend/src/stores/errorLogStore.ts` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†èµ·å‹•æ™‚ã® `lastReadSeq = maxNewSeq â†’ 0` ä¿®æ­£ | âœ… å¯èƒ½ | D-1ã€‚ä»•æ§˜ç¢ºèªãŒå…ˆæ±º |
| T-02 | ğŸ”´ Critical | `frontend/src/components/viewer/views/diff-view/DiffContentViewer.tsx` | ä»®æƒ³åŒ– (react-window) å®Ÿè£… | âœ… å¯èƒ½ | E-1ã€‚DiffFileSidebarã‚’å‚è€ƒã« |
| T-03 | ğŸŸ  é‡è¦ | `internal/sessionlog/handler_test.go` | `writePipe` äºŒé‡ã‚¯ãƒ­ãƒ¼ã‚ºä¿®æ­£ | âœ… å¯èƒ½ | A-1ã€‚t.Cleanup ã‹ã‚‰å‰Šé™¤ã™ã‚‹ã ã‘ |
| T-04 | ğŸŸ  é‡è¦ | `app_devpanel_api.go` | HEAD ref ê²€å‡ºã® word-boundary ä¿®æ­£ | âœ… å¯èƒ½ | A-2ã€‚ç‹¬ç«‹ãƒ­ã‚¸ãƒƒã‚¯ |
| T-05 | ğŸŸ  é‡è¦ | `app_lifecycle.go` | `[shim]` â†’ `[SHIM]` å¤§æ–‡å­—çµ±ä¸€ | âœ… å¯èƒ½ | B-1ã€‚1è¡Œå¤‰æ›´ |
| T-06 | ğŸŸ  é‡è¦ | `internal/tmux/command_router_test_helpers_test.go` | `injectTestWindow` ã« `markTopologyMutationLocked()` è¿½åŠ  | âœ… å¯èƒ½ | C-1ã€‚å®Ÿè£…ç¢ºèªè¦ |
| T-07 | ğŸŸ  é‡è¦ | `frontend/src/components/viewer/views/error-log/ErrorLogView.tsx` | `useLayoutEffect` â†’ `useEffect` å¤‰æ›´ | âœ… å¯èƒ½ | D-2ã€‚1è¡Œå¤‰æ›´ |
| T-08 | ğŸŸ  é‡è¦ | `frontend/src/components/viewer/ActivityStrip.tsx` | `subscribeRegistry` ã§ç‹¬ç«‹ reactivity å®Ÿç¾ | âš ï¸ D-6ã¨é–¢é€£ | D-3 |
| T-09 | ğŸŸ  é‡è¦ | `frontend/src/components/viewer/views/diff-view/DiffFileSidebar.tsx` | ARIA ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£… | âœ… å¯èƒ½ | E-2 |
| T-10 | ğŸŸ  é‡è¦ | `frontend/src/styles/viewer.css` | `.diff-expand-bar:hover` ã® `cursor: pointer` å‰Šé™¤ | âœ… å¯èƒ½ | E-3ã€‚1è¡Œå¤‰æ›´ |
| T-11 | ğŸŸ  é‡è¦ | `myT-x/test_diff_tree.js` | ãƒ‡ãƒãƒƒã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‰Šé™¤ or `.gitignore` è¿½åŠ  | âœ… å¯èƒ½ | E-4 |

### ææ¡ˆã‚¿ã‚¹ã‚¯ä¸€è¦§

| # | é‡è¦åº¦ | ãƒ•ã‚¡ã‚¤ãƒ« | æ¦‚è¦ | ä¸¦åˆ—ä½œæ¥­ | å‚™è€ƒ |
|---|--------|---------|------|---------|------|
| T-12 | ğŸŸ¡ ææ¡ˆ | `app_session_log_test.go` | nil ã‚¹ãƒ©ã‚¤ã‚¹ä¿è¨¼ãƒ†ã‚¹ãƒˆè¿½åŠ  | âœ… å¯èƒ½ | A-3 |
| T-13 | ğŸŸ¡ ææ¡ˆ | `app_session_log_test.go` | `formatIndexAsTimestamp` å¢ƒç•Œã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ | âœ… å¯èƒ½ | A-4 |
| T-14 | ğŸŸ¡ ææ¡ˆ | `app_session_log_test.go` | ä¸¦è¡Œ write Seq å”¯ä¸€æ€§ãƒ†ã‚¹ãƒˆ | âœ… å¯èƒ½ | A-5 |
| T-15 | ğŸŸ¡ ææ¡ˆ | `app_devpanel_api.go` | `devPanelExcludedDirs` ã‚’é…åˆ—/é–¢æ•°åŒ– | âœ… å¯èƒ½ | A-6 |
| T-16 | ğŸŸ¡ ææ¡ˆ | `app_lifecycle_test.go` | `spec==""` ãƒ›ãƒƒãƒˆã‚­ãƒ¼ãƒ­ã‚°ãƒ†ã‚¹ãƒˆè¿½åŠ  | âœ… å¯èƒ½ | B-2 |
| T-17 | ğŸŸ¡ ææ¡ˆ | `app_events_test.go` | `window-created` ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã« TODO ã‚³ãƒ¡ãƒ³ãƒˆ | âœ… å¯èƒ½ | B-3 |
| T-18 | ğŸŸ¡ ææ¡ˆ | `command_router_handlers_session.go` / `_window.go` | `rollbackSession` ãƒ˜ãƒ«ãƒ‘ãƒ¼é›†ç´„ (DRY) | âš ï¸ å½±éŸ¿ç¯„å›²è¦ç¢ºèª | C-2 |
| T-19 | ğŸŸ¡ ææ¡ˆ | `command_router_handlers_pane_test.go` | split-window rollback ã‚¤ãƒ™ãƒ³ãƒˆæ¼ã‚Œã‚¢ã‚µãƒ¼ãƒˆ | âœ… å¯èƒ½ | C-3 |
| T-20 | ğŸŸ¡ ææ¡ˆ | `views/error-log/useErrorLog.ts` | auto-scroll deps ã‹ã‚‰ `registerBodyElement` å‰Šé™¤ or ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  | âœ… å¯èƒ½ | D-4 |
| T-21 | ğŸŸ¡ ææ¡ˆ | `components/viewer/viewerRegistry.ts` | `resolveRegistryState` ã®ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°æ”¹å–„ | âœ… å¯èƒ½ | D-5 |
| T-22 | ğŸŸ¡ ææ¡ˆ | `components/viewer/ActivityStrip.tsx` | spacer è¡¨ç¤ºæ¡ä»¶ `topViews.length > 0 &&` è¿½åŠ  | âœ… å¯èƒ½ | D-6 |
| T-23 | ğŸŸ¡ ææ¡ˆ | `frontend/tests/viewerRegistry.test.ts` | ãƒ†ã‚¹ãƒˆéš”é›¢ã‚’ãƒ•ãƒ©ã‚¸ãƒ£ã‚¤ãƒ«ã§ãªã„æ–¹æ³•ã«å¤‰æ›´ | âœ… å¯èƒ½ | E-5 |
| T-24 | ğŸŸ¡ ææ¡ˆ | `frontend/tests/errorLogStore.test.ts` | `markAllRead`/eviction/seq-regress ãƒ†ã‚¹ãƒˆè¿½åŠ  | âœ… å¯èƒ½ | E-6 |
| T-25 | ğŸŸ¡ ææ¡ˆ | `diff-view/DiffView.tsx` | ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã®å¤ã„çµ±è¨ˆã‚¯ãƒªã‚¢ | âœ… å¯èƒ½ | E-7 |
| T-26 | ğŸŸ¡ ææ¡ˆ | `diff-view/diffViewTypes.ts` | `status` ã‚’ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«å¤‰æ›´ | âœ… å¯èƒ½ | E-8 |

---

## ä¸¦åˆ—ä½œæ¥­ã‚°ãƒ«ãƒ¼ãƒ—

ä½œæ¥­åŠ¹ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–æ¡ˆã§ã™ã€‚

| ã‚°ãƒ«ãƒ¼ãƒ— | æ‹…å½“è€…å‘ã‘ | ã‚¿ã‚¹ã‚¯ | ä¾å­˜é–¢ä¿‚ |
|---------|-----------|-------|---------|
| **Group 1: Go ãƒ†ã‚¹ãƒˆä¿®æ­£** | Goé–‹ç™ºè€… | T-03, T-06, T-12, T-13, T-14, T-16, T-17, T-19 | äº’ã„ã«ç‹¬ç«‹ âœ… |
| **Group 2: Go å®Ÿè£…ä¿®æ­£** | Goé–‹ç™ºè€… | T-04, T-05, T-15, T-18 | äº’ã„ã«ç‹¬ç«‹ âœ… (T-18ã¯å½±éŸ¿ã‚ã‚Š) |
| **Group 3: Frontend å®Ÿè£…** | Frontendé–‹ç™ºè€… | T-01, T-07, T-10, T-11 | äº’ã„ã«ç‹¬ç«‹ âœ… |
| **Group 4: Frontend å¤§è¦æ¨¡** | Frontendé–‹ç™ºè€… | T-02, T-08, T-09 | T-08 â†’ T-22 (é–¢é€£) |
| **Group 5: Frontend ãƒ†ã‚¹ãƒˆ** | Frontendé–‹ç™ºè€… | T-20, T-21, T-22, T-23, T-24, T-25, T-26 | T-08å®Œäº†å¾Œã«T-22å®Ÿæ–½æ¨å¥¨ |

---

## å‚è€ƒ: ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚«ãƒãƒ¬ãƒƒã‚¸

| ã‚«ãƒ†ã‚´ãƒª | å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ•° | Critical | é‡è¦ | ææ¡ˆ |
|---------|-------------|---------|------|------|
| A: DevPanel / SessionLog | 9 | 0 | 2 | 4 |
| B: Events / Lifecycle / Pane | 5 | 0 | 1 | 2 |
| C: tmux internal | 15 | 0 | 1 | 2 |
| D: Frontend Viewer / Stores | 10 | 1 | 3 | 4 |
| E: Styles / Wails / New Files | 14 | 1 | 4 | 5 |
| **åˆè¨ˆ** | **53** | **2** | **11** | **17** |
