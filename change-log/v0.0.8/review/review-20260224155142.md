# PR Review Summary — 2026-02-24 15:51

## レビュー範囲

変更ファイル数: 53ファイル (2109行追加 / 2071行削除)

### カテゴリ別対象ファイル

| カテゴリ | ファイル群 |
|---------|-----------|
| Cat1: Goバックエンドコア | app.go, app_devpanel_api.go, app_lifecycle.go, app_pane_api.go, app_session_api.go, app_session_log.go, app_input_history.go, app_input_history_types.go |
| Cat2: Goテスト・内部パッケージ | app_*_test.go × 4, internal/config/*, internal/testutil/helpers.go, internal/tmux/*_test.go × 2 |
| Cat3: フロントエンド設定・コアコンポーネント | ErrorBoundary.tsx, QuickSearch.tsx, SessionView.tsx, SettingsModal.tsx, Sidebar.tsx, settings/* × 8 |
| Cat4: フロントエンドViewer・Store・API | viewer/* × 9, stores/* × 2, types/tmux.ts, api.ts, tests/settingsValidation.test.ts, styles/* × 2, wailsjs/* × 3 |

---

## 重大な問題 (Critical Issues) — 3件

### C1. `ShortcutInput.tsx` — 修飾キー押下でキャプチャが即終了し、修飾子付きショートカットを入力不可能にする

**ファイル:** `myT-x/frontend/src/components/settings/ShortcutInput.tsx:33-37`

**問題:**
```typescript
if (["Control", "Shift", "Alt", "Meta"].includes(e.key)) {
    setCapturing(false);  // ← ここが問題
    return;
}
```

ブラウザのキーイベント発火順は「Ctrl keydown → A keydown」の順に発火する。Ctrl keydown で `setCapturing(false)` がセットされると、React が再レンダリングされてハンドラが消え、続く A keydown を受け取れなくなる。結果として **Ctrl+A、Alt+F、Ctrl+Shift+K などすべての修飾子付きショートカットが入力不能になる**。

**影響:** Prefix設定・グローバルホットキー設定・ビューアーショートカット設定がすべて機能を失う。

**修正:**
```typescript
// 修飾キー単体押下は無視して capturing を継続（旧の動作に戻す）
if (["Control", "Shift", "Alt", "Meta"].includes(e.key)) return;
```

---

### C2. `testutil/helpers.go` — `new(v)` バグ (Go 1.26 以前では `Ptr[T]` がゼロ値を返す)

**ファイル:** `myT-x/internal/testutil/helpers.go`

**問題（修正前の旧コード）:**
```go
func Ptr[T any](v T) *T { return new(v) }
```

`new(v)` は変数を受け取ると `new(T)` として解釈され、ゼロ値へのポインタを返す。つまり `Ptr(true)` が `*false` を返していた。今回の差分で `return &v` に修正されており、この修正は **正しい**。

**確認必要:** 旧実装を使っていた `command_router_env_test.go` の `boolPtrTest(true)` も同様のバグがあったため、過去のテストが誤って通過していた可能性がある。テスト結果に信頼性が損なわれていた可能性があるため、改めて全テストを回し直して動作確認が必要。

**差分の修正は正しく適用済み。ただし旧コードが存在した期間の既存テスト結果の信頼性を要確認。**

---

### C3. `layout.css` — 未定義CSS変数によりローディング背景色が未適用

**ファイル:** `myT-x/frontend/src/styles/layout.css:438`

**問題:**
```css
.quick-search-loading {
    background: var(--bg-secondary, var(--bg-dim));
}
```

`--bg-secondary` も `--bg-dim` も `base.css` の `:root` に存在しない。フォールバックチェーン両方が未定義のため、背景色は `transparent` になる。

**影響:** ローディングスピナー表示中にコンテンツが透過して下のUIと重なって見える。

**修正:**
```css
.quick-search-loading {
    background: var(--bg-elev);
}
```

---

## 重要な問題 (Important Issues) — 14件

### I1. `app_session_api.go:66` — `slog.Warn` に `[DEBUG-SESSION]` プレフィックス

**ファイル:** `myT-x/app_session_api.go:66`

Warnログに `[DEBUG-SESSION]` プレフィックスが付いている。プロジェクト規約では `slog.Warn` には `[WARN-*]` を使用する。ログ検索・フィルタリング時に混乱を招く。

**修正:** `[DEBUG-SESSION]` → `[WARN-SESSION]`

---

### I2. `app_devpanel_api.go:970-975` — `ok0 → ok` リネームで変数シャドウイングを導入

**ファイル:** `myT-x/app_devpanel_api.go:970-975`

```go
// 変更後（問題あり）
} else if after, ok := strings.CutPrefix(line, "rename from "); ok {
    if renamedFrom, ok := decodeGitPathLiteral(after); ok {  // 外側okをシャドウ
```

`go vet -shadow` が警告を出す。可読性・保守性低下の原因になる。

**修正:** 内側の `ok` を `pathOK` など別名に変更する。

```go
} else if after, ok := strings.CutPrefix(line, "rename from "); ok {
    if renamedFrom, pathOK := decodeGitPathLiteral(after); pathOK {
        file.OldPath = filepath.ToSlash(renamedFrom)
    }
}
```

`rename to` のブロック ([app_devpanel_api.go:975-979]) にも同様のパターンがある。両方修正する。

---

### I3. `app_input_history.go:258-268, 402` — シャットダウン境界でのエントリ消失パス

**ファイル:** `myT-x/app_input_history.go:258-268, 402`

`shuttingDown.Store(true)` と `flushAllLineBuffers()` の間に競合ウィンドウが存在する。`recordInput` がシャットダウン直前に呼ばれた場合、`inputLineBuffers` が nil になった後に再作成されるが、新たに積まれたエントリは flush されないまま消失する可能性がある。

**修正（最小）:**
```go
a.inputLineBufMu.Lock()
if a.inputLineBuffers == nil {
    a.inputLineBufMu.Unlock()
    return // shutdown 後に flushAllLineBuffers() が nil にセットした
}
```
`Enter` 入力は問題なし。影響は `Enter` なしの不完全な入力行のみ。

---

### I4. `SessionView.tsx:81-85` — `mountedRef` が React Strict Mode のダブルマウントで機能しない

**ファイル:** `myT-x/frontend/src/components/SessionView.tsx:81-85`

React Strict Mode では「マウント→クリーンアップ→再マウント」の順に実行される。クリーンアップで `mountedRef.current = false` になるが、再マウント時に `true` にリセットされない。

**修正:**
```typescript
useEffect(() => {
    mountedRef.current = true;  // 再マウント時にリセット
    return () => {
        mountedRef.current = false;
    };
}, []);
```

---

### I5. `GeneralSettings.tsx:17-25` — `handlePickDefaultDir` のエラーがUIに通知されない

**ファイル:** `myT-x/frontend/src/components/settings/GeneralSettings.tsx:17-25`

`PickSessionDirectory` がAPIエラーを返した場合、`console.warn` のみでユーザーへの通知がない。`useNotificationStore` が他のコンポーネントで使用されているにもかかわらず未使用。

**修正:** `useNotificationStore` の `addNotification` でユーザーにエラーを通知する。

---

### I6. `QuickSearch.tsx:100-113` — アンマウント後の非同期処理がstate更新を試みる

**ファイル:** `myT-x/frontend/src/components/QuickSearch.tsx:100-113`

`selectResult` の非同期処理がアンマウント後に完了した場合、`setSwitching(false)` や `addNotification` が実行される。`mountedRef` パターンまたは AbortController による早期リターンが必要。

**修正:** `SessionView.tsx` と同様の `mountedRef` パターンを適用する。

---

### I7. `TestQuickStartSession` — エラーケースのテスト不足

**ファイル:** `myT-x/app_session_api_test.go`

以下のエラーパスがテストされていない:
- `DefaultSessionDir` と `launchDir` が両方空の場合 (→ "no directory available for quick start session")
- パスがディレクトリでなくファイルを指している場合 (→ "quick start path is not a directory")

**修正:** 上記2ケースのサブテストを追加する。

---

### I8. `config_test.go` — 環境変数の存在に暗黙依存するテスト

**ファイル:** `myT-x/internal/config/config_test.go`

`TestValidateDefaultSessionDirUnknownEnvironmentVariable` が `MYTX_DOES_NOT_EXIST` 変数が未設定であることを暗黙のうちに前提としている。CI環境での偶発的な設定に依存するテストは不安定。

**修正:**
```go
// 環境変数が未設定であることを明示的に保証
const uniqueVar = "MYTX_TEST_UNIQUE_UNSET_XYZ123"
os.Unsetenv(uniqueVar)
cfg := Config{DefaultSessionDir: "$" + uniqueVar + "/path"}
```

---

### I9. `config.go` — Windows パス内の `$` 記号の POSIX 変数誤展開

**ファイル:** `myT-x/internal/config/config.go`

`expandDefaultSessionDirEnv` の POSIX 変数展開パターンが `C:\Users\foo$bar\project` のような Windows パスの `$bar` に誤マッチしてパスが壊れる可能性がある。

**修正:** Windows (`runtime.GOOS == "windows"`) の場合は POSIX 展開をスキップする、またはテストを追加して制限を文書化する。

---

### I10. `GeneralSettings.tsx` — Prefix / Global Hotkey の `<label>` に `htmlFor` が未設定

**ファイル:** `myT-x/frontend/src/components/settings/GeneralSettings.tsx`

今回 `ShortcutInput` に `id` prop が追加されたが、Prefix・Global Hotkey 項目は未適用のまま。Shell `<select>` も同様。

**修正対象一覧:**
- Prefix の `ShortcutInput` に `id="prefix-shortcut"` を追加、`<label>` に `htmlFor="prefix-shortcut"` を設定
- Global Hotkey の `ShortcutInput` に `id="global-hotkey-shortcut"` を追加、`<label>` に対応する `htmlFor` を設定
- Shell の `<select>` に `id="default-shell-select"` を追加、`<label>` に対応する `htmlFor` を設定

---

### I11. `app_input_history_test.go` — 重複テストケース (SOS/APC/PM)

**ファイル:** `myT-x/app_input_history_test.go`

`TestProcessInputString_STTerminatedSequenceRemoval` に実質的に同一のエスケープシーケンステストが3ペア (SOS/APC/PM それぞれ) 重複して存在する。デッドコードではないが、テストの目的が不明確になる。

**修正:** 重複ペアをどちらか一方に統合する (合計9ケース→6ケースに削減可能)。

---

### I12. `viewerShortcutUtils.ts:38-46` — `normalizeShortcut` が同一ショートカットに対して3回呼ばれる

**ファイル:** `myT-x/frontend/src/components/viewer/viewerShortcutUtils.ts:38-46`

`getEffectiveViewerShortcut` の戻り値がすでに `normalizeShortcut` 済みにも関わらず、呼び出し元で再度 `normalizeShortcut` が呼ばれている。べき等なので機能バグではないが、ループ内の不要な計算。

**修正:**
```typescript
// ViewerSystem.tsx 内
const normalized = effectiveShortcut; // getEffectiveViewerShortcut は normalize 済み
```

---

### I13. `viewerRegistry.ts:18-20` — `subscribeBadgeCount` コントラクトが型定義から不明

**ファイル:** `myT-x/frontend/src/components/viewer/viewerRegistry.ts:18-20`

`subscribeBadgeCount?: (listener: () => void) => () => void` の「戻り値 = アンサブスクライブ関数」という必須契約がインターフェース定義から読み取れない。実装者が誤った実装を書くリスクがある。

**修正:** JSDoc でコントラクトを明示する (上記の Cat4 詳細を参照)。

---

### I14. `api.ts:62-63` — `QuickStartSession` のインポート順がアルファベット順に違反

**ファイル:** `myT-x/frontend/src/api.ts:62-63`

アルファベット順に違反: `PromoteWorktreeToBranch` が `QuickStartSession` の後に記載されている。

**修正:** `PromoteWorktreeToBranch` ↔ `QuickStartSession` の順序を入れ替える。

---

## 提案 (Suggestions) — 12件

### S1. `app_input_history_types.go:50-57` — `inputHistoryMaxInputLen` のコメントが `[]rune` 型変更を反映していない

`buf` が `[]rune` になり `len(buf) == rune count` が保証されているが、定数コメントにその旨が記載されていない。コメント追記を推奨。

---

### S2. `app_session_api.go:80-100` — `requireSessions()` の二重呼び出し

`findSessionByRootPath` と競合判定後の `requireSessions()` が二重呼び出しになっている。機能的問題はないが、将来的に `findSessionByRootPath` が `SessionSnapshot` も返すように変更することで改善できる。

---

### S3. `app_session_log.go:295-309` — `truncateRunes` の `maxRunes <= 0` 分岐のコメント

`maxRunes = 0` が「0文字に切り詰め = 空文字列を返す」という非直感的な動作になる。コメントで意図を明示することを推奨。

---

### S4. `app.go:50-54` — `workspace` フィールドの並行アクセス安全性が未文書

`launchDir` には "Read-only after startup; safe to access without mutex" コメントがあるが、`workspace` フィールドに同様のコメントがない。後変更の可否を明記することを推奨。

---

### S5. `app_pane_api.go:7-12` — nil ガードの前提条件が不明確

`resolveSessionNameForPane` の nil ガードは実質的に dead code。防御的コーディングのためとして残す場合はコメントで意図を明示することを推奨。

---

### S6. `app_session_api_test.go:699` — `filepath.EvalSymlinks` パターンの繰り返し

4つのサブテストで同一パターンが重複。共通ヘルパーへの抽出を検討。

---

### S7. `config_test.go` — パッケージ変数書き換えアプローチの並行安全性

`userHomeDirFn` の書き換えは将来 `t.Parallel()` を追加した場合にデータ競合が発生する。現状は問題ないが、将来のために `sync/atomic` や関数パラメータ化を検討。

---

### S8. `SessionView.tsx:79-100` — 状態宣言の位置がReact慣習と異なる

`quickStartLoading`, `quickStartError`, `mountedRef` が関数冒頭でなくコールバックの後に宣言されている。可読性のために先頭にまとめることを推奨。

---

### S9. `ShortcutInput.tsx:42-43` — Windows専用アプリへの `Meta` キー追加

AGENTS.md に「Windows対応アプリケーション」と明記されているが Meta (Windows) キーは OS 予約のためショートカットに利用できないことが多い。不要であれば削除することを検討。

---

### S10. `SettingsModal.tsx:289-299` — `<button>` に `type="button"` が欠如

将来的なフォームラップ時に意図しない送信を防ぐために `type="button"` を明記することを推奨。

---

### S11. `views/error-log/index.ts` / `views/input-history/index.ts` — `subscribeBadgeCount` パターンの重複

両ファイルで同一パターン。新ビュータイプ追加時に重複するため、ユーティリティ関数化を検討 (Cat4 詳細参照)。

---

### S12. `ErrorBoundary.tsx:31-34` — 回復後も `retryCount` がリセットされない

「エラー→回復→エラー→回復→エラー」のシナリオで `retryCount` が蓄積し、早期にリロード画面が表示される可能性がある。回復時のリセットを検討。

---

## 強み (Positive Observations)

### Go バックエンド
- **`inputLineBuffer.buf` の `[]rune` 化**: `strings.Builder` + 別カウンタの保守コストを排除。バックスペース処理 (`buf[:len-1]`)、キャパシティ保持リセット (`buf[:0]`) によりアロケーション削減も実現。
- **`truncateRunes` のゼロアロケーション設計**: バイト範囲スライスで元文字列のサブスライスを返すことで、従来の `[]rune` 変換二重アロケーションをゼロに削減。
- **`cleanupOldSessionLogs` のソートバグ修正**: malformed ファイルを先に削除するソート順が修正された重要なバグフィックス (`return leftOK` → `return !leftOK`)。`cleanupOldInputHistory` と整合性が取れた。
- **`shutdownFlushSentinel = ^uint64(0)` の導入**: 通常の timerGen 値と数学的に衝突しない sentinel 値の明確化。
- **DCS/SOS/PM/APC エスケープシーケンス対応**: tmux パススルーシーケンスなどが入力履歴に混入しなくなった。 `allowBEL = false` も端末仕様に忠実。
- **`QuickStartSession` の TOCTOU 処理文書化**: 競合ウィンドウを認識した上でのフォールスルー設計が適切にコメント化。

### Goテスト・内部パッケージ
- **`testutil.Ptr` の全テスト統一**: ポインタ生成の標準化。
- **`shutdownFlushSentinel` のテスト分離**: シャットダウン中のタイマーフラッシュ無視・センチネルフラッシュ実行の複雑な状態を独立テストで検証。
- **`TestCleanupOldSessionLogs_DeletesMalformedBeforeCanonical`**: ソートロジックの非自明な動作を専用テストで正確に境界値テスト。
- **`config_test.go` の体系的カバレッジ**: チルダ展開・環境変数展開（POSIX/Windows）・エラーケース・YAML ロードまで網羅。

### フロントエンド設定・コアコンポーネント
- **`Sidebar.tsx` の楽観的更新削除**: APIエラー時に誤った状態が残る問題を修正。
- **`validateViewerShortcuts` の拡張**: globalHotkey との競合検証、修飾キー欠如チェック、先着エラー保護が丁寧に実装。
- **`normalizeShortcut` の保存時適用**: ショートカット正規化により viewerShortcutUtils との整合性が保証。
- **`QuickSearch.tsx` の二重ガード**: `switchingRef` (即時) + `switching` state (UI) の組み合わせが素早い連続クリックを防止。

### フロントエンドViewer・Store・API
- **`useSyncExternalStore` による反応型バッジ更新**: Reactの公式外部ストア同期APIを正しく使用。`React.memo` により特定バッジ変化時に他のボタンが再レンダリングされない設計。
- **`useLayoutEffect` によるバッジちらつき防止**: ペイント前に unread 更新することでちらつきを排除。
- **`getEffectiveViewerShortcut` の正規化修正**: 設定値も確実に normalize 済みで返されるため `shortcutMap.get(combo)` が確実に機能。
- **`formatInputForDisplay` の `\x7f` 対応**: バックエンドが保存するDELキーの表示が修正。
- **DEV環境限定の警告システム充実**: `import.meta.env.DEV` ガードで本番パフォーマンスに影響しない。

---

## 推奨アクション

1. **Critical Issues (C1, C2, C3)** を先に対応する
2. **Important Issues (I1-I14)** を次に対応する
3. **Suggestions** は随時対応可

---

## タスク一覧と並列作業可否表

作業者が同時並行で作業できるかどうかを示す表です。  
**同一ファイルへの変更がある場合は「並列不可」** として分類しています。

### Group A: Critical Issues（最優先）

| # | タスクID | 対象ファイル | 内容 | 並列グループ | 並列可否 |
|---|---------|------------|------|------------|---------|
| 1 | C1 | `frontend/src/components/settings/ShortcutInput.tsx` | 修飾キー押下でキャプチャが即終了するバグ修正 | A-1 | ✅ 他と独立 |
| 2 | C2 | `internal/testutil/helpers.go` | `Ptr[T]` バグの差分検証・全テスト再実行確認 | A-2 | ✅ 他と独立 |
| 3 | C3 | `frontend/src/styles/layout.css` | 未定義CSS変数 `--bg-secondary` の修正 | A-3 | ✅ 他と独立 |

> **A-1, A-2, A-3 は全て独立しているため、3人が同時並行で作業可能です。**

---

### Group B: Important Issues — Goバックエンド

| # | タスクID | 対象ファイル | 内容 | 並列グループ | 並列可否 |
|---|---------|------------|------|------------|---------|
| 4 | I1 | `myT-x/app_session_api.go` | `[DEBUG-SESSION]` → `[WARN-SESSION]` プレフィックス修正 | B-1 | ✅ I2,I3と独立 |
| 5 | I2 | `myT-x/app_devpanel_api.go` | `ok0→ok` リネームによる変数シャドウイング修正 (2箇所) | B-2 | ✅ I1,I3と独立 |
| 6 | I3 | `myT-x/app_input_history.go` | シャットダウン境界のエントリ消失パス修正 | B-3 | ✅ I1,I2と独立 |

> **B-1, B-2, B-3 は全て独立しているため、3人が同時並行で作業可能です。**

---

### Group C: Important Issues — Goテスト・設定

| # | タスクID | 対象ファイル | 内容 | 並列グループ | 並列可否 |
|---|---------|------------|------|------------|---------|
| 7 | I7 | `myT-x/app_session_api_test.go` | `QuickStartSession` エラーケーステスト追加 | C-1 | ✅ I8と独立 |
| 8 | I8 | `myT-x/internal/config/config_test.go` | 環境変数依存テストの修正 + POSIX展開バグテスト追加 | C-2 | ⚠️ I9と同ファイル |
| 9 | I9 | `myT-x/internal/config/config.go` + `config_test.go` | Windows `$` 記号の POSIX 変数誤展開対応 | C-2 | ⚠️ I8と同ファイル |
| 10 | I11 | `myT-x/app_input_history_test.go` | 重複テストケース統合 | C-3 | ✅ 他と独立 |

> **I8 と I9 は `config.go` / `config_test.go` の同一ファイルへの変更のため、同一担当者が対応するか事前に変更点を調整してください。**
> **C-1 (I7) と C-3 (I11) は独立作業可能です。**

---

### Group D: Important Issues — フロントエンド (コンポーネント)

| # | タスクID | 対象ファイル | 内容 | 並列グループ | 並列可否 |
|---|---------|------------|------|------------|---------|
| 11 | I4 | `frontend/src/components/SessionView.tsx` | `mountedRef` React Strict Mode 対応 | D-1 | ✅ 他と独立 |
| 12 | I5 | `frontend/src/components/settings/GeneralSettings.tsx` | エラー通知追加 + `htmlFor`/`id` 修正 (I10 も同時対応) | D-2 | ⚠️ I10と同ファイル |
| 13 | I10 | `frontend/src/components/settings/GeneralSettings.tsx` | `htmlFor`/`id` 未設定修正 | D-2 | ⚠️ I5と同ファイル |
| 14 | I6 | `frontend/src/components/QuickSearch.tsx` | アンマウント後 state 更新の防止 | D-3 | ✅ 他と独立 |

> **I5 と I10 は同一ファイル `GeneralSettings.tsx` のため、まとめて1人が対応することを推奨します。**
> **D-1 (I4) と D-3 (I6) は独立作業可能。D-2 (I5+I10) も他とは独立。**

---

### Group E: Important Issues — フロントエンド (Viewer/API)

| # | タスクID | 対象ファイル | 内容 | 並列グループ | 並列可否 |
|---|---------|------------|------|------------|---------|
| 15 | I12 | `frontend/src/components/viewer/ViewerSystem.tsx` | `normalizeShortcut` 3重呼び出しの最適化 | E-1 | ✅ 他と独立 |
| 16 | I13 | `frontend/src/components/viewer/viewerRegistry.ts` | `subscribeBadgeCount` JSDoc コントラクト追記 | E-2 | ✅ 他と独立 |
| 17 | I14 | `frontend/src/api.ts` | `QuickStartSession` インポート順修正 | E-3 | ✅ 他と独立 |

> **E-1, E-2, E-3 は全て独立しているため、3人が同時並行で作業可能です。**

---

### Group F: Suggestions（任意対応）

| # | タスクID | 対象ファイル | 内容 | 並列可否 |
|---|---------|------------|------|---------|
| 18 | S1 | `myT-x/app_input_history_types.go` | `inputHistoryMaxInputLen` コメント追記 | ✅ |
| 19 | S2 | `myT-x/app_session_api.go` | `requireSessions()` 二重呼び出しリファクタ | ✅ (I1と同ファイル・I1完了後) |
| 20 | S3 | `myT-x/app_session_log.go` | `truncateRunes` コメント追記 | ✅ |
| 21 | S4 | `myT-x/app.go` | `workspace` フィールドコメント追記 | ✅ |
| 22 | S5 | `myT-x/app_pane_api.go` | nil ガードコメント追記 | ✅ |
| 23 | S6 | `myT-x/app_session_api_test.go` | `EvalSymlinks` ヘルパー抽出 | ✅ (C-1と同ファイル) |
| 24 | S7 | `myT-x/internal/config/config_test.go` | パッケージ変数並行安全性の維持 | ✅ (C-2と同ファイル) |
| 25 | S8 | `frontend/src/components/SessionView.tsx` | 状態宣言の位置整理 | ✅ (D-1と同ファイル) |
| 26 | S9 | `frontend/src/components/settings/ShortcutInput.tsx` | Meta キー削除の検討 | ✅ (C1と同ファイル・C1完了後) |
| 27 | S10 | `frontend/src/components/SettingsModal.tsx` | `type="button"` 追記 | ✅ |
| 28 | S11 | `views/error-log/index.ts` + `views/input-history/index.ts` | `subscribeBadgeCount` ユーティリティ化 | ✅ |
| 29 | S12 | `frontend/src/components/ErrorBoundary.tsx` | 回復時 `retryCount` リセット | ✅ |

---

## 並列作業 パッケージ俯瞰

```
Critical (優先度高)           並列可否
├── C1: ShortcutInput.tsx       ← 担当A
├── C2: testutil/helpers.go     ← 担当B
└── C3: layout.css              ← 担当C

Goバックエンド               並列可否
├── I1: app_session_api.go      ← 担当D
├── I2: app_devpanel_api.go     ← 担当E
└── I3: app_input_history.go    ← 担当F

Goテスト・設定               並列可否
├── I7: app_session_api_test.go ← 担当G
├── [I8+I9]: config.go+test     ← 担当H (同一担当で対応)
└── I11: app_input_history_test ← 担当I

フロントエンドコンポーネント  並列可否
├── I4: SessionView.tsx         ← 担当J
├── [I5+I10]: GeneralSettings   ← 担当K (同一担当で対応)
└── I6: QuickSearch.tsx         ← 担当L

フロントエンドViewer/API      並列可否
├── I12: ViewerSystem.tsx       ← 担当M
├── I13: viewerRegistry.ts      ← 担当N
└── I14: api.ts                 ← 担当O
```

> **グループ内は全て並列作業可能。グループ間も独立しているため、全グループを同時に進行可能です。**
> **同一担当で対応が必要なカップルドタスク: [I8+I9] / [I5+I10]**
